Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@emotion/hash"),r=require("@rocket.chat/memo"),n=require("@rocket.chat/css-supports"),t=require("@rocket.chat/stylis-logical-props-middleware");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a,u,s=c(e),o=function(e){return e?"rcx-css-"+s.default(e):"none"},i=function(e){return e.replace(/@|#|:/g,(function(e){return"\\"+e}))},f=void 0,l=function(){return f?[f,function(){return""}]:[f=[],function(){var e=(f||[]).join("");return f=void 0,e}]},p=r.memoize((function(e){return Object.freeze((function(){return e}))})),d=function(e,r){return"function"==typeof e||"function"==typeof e?d(e.apply(void 0,r),r):!1===e||null==e?"":Array.isArray(e)?e.map((function(e){return d(e,r)})).join(""):String(e)},h=function(e,r,n){var t=e[0],c=e.slice(1);return r.reduce((function(e,r,t){return e+d(r,n)+c[t]}),t).trim()},m=function(){if(!a){var e=document.getElementById("rcx-styles");if(e)return a=e}return a||((a=document.createElement("style")).id="rcx-styles",a.appendChild(document.createTextNode("")),document.head&&document.head.appendChild(a)),a},v=function(){if(!u){var e=m(),r=e.sheet||Array.from(document.styleSheets).find((function(r){return r.ownerNode===e}));if(!r)throw Error("could not get style sheet");u=r}return u},b=function(e){var r={};return function(n){var t=s.default(n);if(!r[t]){var c=e(n),a=0;r[t]={ref:function(){++a},unref:function(){var e;e=function(){0==--a&&(c(),delete r[t])},"undefined"!=typeof window&&"function"==typeof window.queueMicrotask?window.queueMicrotask(e):Promise.resolve().then(e)}}}return r[t].ref(),r[t].unref}},w="undefined"==typeof window&&function(){return function(){}}||"production"===process.env.NODE_ENV&&!!CSSStyleSheet.prototype.insertRule&&b((function(e){var r=v(),n=r.insertRule("@media all{"+e+"}",r.cssRules.length),t=r.cssRules[n];return function(){var e=Array.prototype.findIndex.call(r.cssRules,(function(e){return e===t}));r.deleteRule(e)}}))||b((function(e){var r=m(),n=document.createTextNode(e);return r.appendChild(n),function(){return n.remove()}})),k="-ms-",g="-moz-",y="-webkit-",$=Math.abs,x=String.fromCharCode,j=Object.assign;function C(e){return e.trim()}function S(e,r,n){return e.replace(r,n)}function N(e,r){return e.indexOf(r)}function z(e,r){return 0|e.charCodeAt(r)}function A(e,r,n){return e.slice(r,n)}function R(e){return e.length}function q(e){return e.length}function O(e,r){return r.push(e),e}var E=1,M=1,P=0,_=0,I=0,T="";function B(e,r,n,t,c,a,u){return{value:e,root:r,parent:n,type:t,props:c,children:a,line:E,column:M,length:u,return:""}}function D(e,r){return j(B("",null,null,"",null,null,0),e,{length:-e.length},r)}function L(){return I=_>0?z(T,--_):0,M--,10===I&&(M=1,E--),I}function V(){return I=_<P?z(T,_++):0,M++,10===I&&(M=1,E++),I}function F(){return z(T,_)}function G(){return _}function H(e,r){return A(T,e,r)}function J(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function K(e){return C(H(_-1,W(91===e?e+2:40===e?e+1:e)))}function Q(e){for(;(I=F())&&I<33;)V();return J(e)>2||J(I)>3?"":" "}function U(e,r){for(;--r&&V()&&!(I<48||I>102||I>57&&I<65||I>70&&I<97););return H(e,G()+(r<6&&32==F()&&32==V()))}function W(e){for(;V();)switch(I){case e:return _;case 34:case 39:34!==e&&39!==e&&W(I);break;case 40:41===e&&W(e);break;case 92:V()}return _}function X(e,r){for(;V()&&e+I!==57&&(e+I!==84||47!==F()););return"/*"+H(r,_-1)+"*"+x(47===e?e:V())}function Y(e){for(;!J(F());)V();return H(e,_)}function Z(e){return function(e){return T="",e}(ee("",null,null,null,[""],e=function(e){return E=M=1,P=R(T=e),_=0,[]}(e),0,[0],e))}function ee(e,r,n,t,c,a,u,s,o){for(var i=0,f=0,l=u,p=0,d=0,h=0,m=1,v=1,b=1,w=0,k="",g=c,y=a,$=t,j=k;v;)switch(h=w,w=V()){case 40:if(108!=h&&58==j.charCodeAt(l-1)){-1!=N(j+=S(K(w),"&","&\f"),"&\f")&&(b=-1);break}case 34:case 39:case 91:j+=K(w);break;case 9:case 10:case 13:case 32:j+=Q(h);break;case 92:j+=U(G()-1,7);continue;case 47:switch(F()){case 42:case 47:O(ne(X(V(),G()),r,n),o);break;default:j+="/"}break;case 123*m:s[i++]=R(j)*b;case 125*m:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+f:d>0&&R(j)-l&&O(d>32?te(j+";",t,n,l-1):te(S(j," ","")+";",t,n,l-2),o);break;case 59:j+=";";default:if(O($=re(j,r,n,i,f,c,s,k,g=[],y=[],l),a),123===w)if(0===f)ee(j,r,$,$,g,a,l,s,y);else switch(p){case 100:case 109:case 115:ee(e,$,$,t&&O(re(e,$,$,0,0,c,s,k,c,g=[],l),y),c,y,l,s,t?g:y);break;default:ee(j,$,$,$,[""],y,0,s,y)}}i=f=d=0,m=b=1,k=j="",l=u;break;case 58:l=1+R(j),d=h;default:if(m<1)if(123==w)--m;else if(125==w&&0==m++&&125==L())continue;switch(j+=x(w),w*m){case 38:b=f>0?1:(j+="\f",-1);break;case 44:s[i++]=(R(j)-1)*b,b=1;break;case 64:45===F()&&(j+=K(V())),p=F(),f=l=R(k=j+=Y(G())),w++;break;case 45:45===h&&2==R(j)&&(m=0)}}return a}function re(e,r,n,t,c,a,u,s,o,i,f){for(var l=c-1,p=0===c?a:[""],d=q(p),h=0,m=0,v=0;h<t;++h)for(var b=0,w=A(e,l+1,l=$(m=u[h])),k=e;b<d;++b)(k=C(m>0?p[b]+" "+w:S(w,/&\f/g,p[b])))&&(o[v++]=k);return B(e,r,n,0===c?"rule":s,o,i,f)}function ne(e,r,n){return B(e,r,n,"comm",x(I),A(e,2,-2),0)}function te(e,r,n,t){return B(e,r,n,"decl",A(e,0,t),A(e,t+1,-1),t)}function ce(e,r){switch(function(e,r){return(((r<<2^z(e,0))<<2^z(e,1))<<2^z(e,2))<<2^z(e,3)}(e,r)){case 5103:return y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return y+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return y+e+g+e+k+e+e;case 6828:case 4268:return y+e+k+e+e;case 6165:return y+e+k+"flex-"+e+e;case 5187:return y+e+S(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return y+e+k+"flex-item-"+S(e,/flex-|-self/,"")+e;case 4675:return y+e+k+"flex-line-pack"+S(e,/align-content|flex-|-self/,"")+e;case 5548:return y+e+k+S(e,"shrink","negative")+e;case 5292:return y+e+k+S(e,"basis","preferred-size")+e;case 6060:return y+"box-"+S(e,"-grow","")+y+e+k+S(e,"grow","positive")+e;case 4554:return y+S(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return S(S(S(e,/(zoom-|grab)/,y+"$1"),/(image-set)/,y+"$1"),e,"")+e;case 5495:case 3959:return S(e,/(image-set\([^]*)/,y+"$1$`$1");case 4968:return S(S(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+y+e+e;case 4095:case 3583:case 4068:case 2532:return S(e,/(.+)-inline(.+)/,y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(R(e)-1-r>6)switch(z(e,r+1)){case 109:if(45!==z(e,r+4))break;case 102:return S(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+g+(108==z(e,r+3)?"$3":"$2-$3"))+e;case 115:return~N(e,"stretch")?ce(S(e,"stretch","fill-available"),r)+e:e}break;case 4949:if(115!==z(e,r+1))break;case 6444:switch(z(e,R(e)-3-(~N(e,"!important")&&10))){case 107:return S(e,":",":"+y)+e;case 101:return S(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+y+(45===z(e,14)?"inline-":"")+"box$3$1"+y+"$2$3$1"+k+"$2box$3")+e}break;case 5936:switch(z(e,r+11)){case 114:return y+e+k+S(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return y+e+k+S(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return y+e+k+S(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return y+e+k+e+e}return e}function ae(e,r){for(var n="",t=q(e),c=0;c<t;c++)n+=r(e[c],c,e,r)||"";return n}function ue(e,r,n,t){switch(e.type){case"@import":case"decl":return e.return=e.return||e.value;case"comm":return"";case"@keyframes":return e.return=e.value+"{"+ae(e.children,t)+"}";case"rule":e.value=e.props.join(",")}return R(n=ae(e.children,t))?e.return=e.value+"{"+n+"}":""}function se(e,r,n,t){if(e.length>-1&&!e.return)switch(e.type){case"decl":e.return=ce(e.value,e.length);break;case"@keyframes":return ae([D(e,{value:S(e.value,"@","@"+y)})],t);case"rule":if(e.length)return function(e,r){return e.map(r).join("")}(e.props,(function(r){switch(function(e,r){return(e=r.exec(e))?e[0]:e}(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ae([D(e,{props:[S(r,/:(read-\w+)/,":-moz-$1")]})],t);case"::placeholder":return ae([D(e,{props:[S(r,/:(plac\w+)/,":-webkit-input-$1")]}),D(e,{props:[S(r,/:(plac\w+)/,":-moz-$1")]}),D(e,{props:[S(r,/:(plac\w+)/,k+"input-$1")]})],t)}return""}))}}var oe,ie=(void 0===oe&&(oe={}),function(e){var r=q(e);return function(n,t,c,a){for(var u="",s=0;s<r;s++)u+=e[s](n,t,c,a)||"";return u}}([t.createLogicalPropertiesMiddleware(oe),se,ue]));Object.defineProperty(exports,"cssSupports",{enumerable:!0,get:function(){return n.cssSupports}}),exports.attachRules=w,exports.createAnimationName=o,exports.createClassName=function(e){return"rcx-css-"+s.default(e)},exports.css=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!e||0===e.length||e.some((function(e){return"string"!=typeof e})))return p("");if(!r.some((function(e){return"function"==typeof e}))){var t=h(e,r,[]);return p(t)}return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var c=l(),a=c[1],u=h(e,r,n);return u+a()}},exports.escapeName=i,exports.keyframes=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!e||0===e.length||e.some((function(e){return"string"!=typeof e})))return p("none");var t=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var c=l(),a=c[0],u=c[1],s=h(e,r,n),f=o(s),p=i(f);return a.push("@keyframes "+p+"{"+s+"}"),u(),p};return t},exports.transpile=function(e,r,n){return void 0===n&&(n=ie),ae(Z(e+"{"+r+"}"),n)};
//# sourceMappingURL=index.js.map
