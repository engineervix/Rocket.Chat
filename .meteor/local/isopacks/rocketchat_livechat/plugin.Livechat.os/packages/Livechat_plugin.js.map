{"version":3,"sources":["meteor://ðŸ’»app/packages/Livechat/plugin/build-livechat.js"],"names":["path","module","link","default","v","execSync","fs","UglifyJS","livechatSource","resolve","livechatTarget","writeFileSync","minify","code","packagePath","join","pluginPath","options","env","process","platform"],"mappings":";;;;;;;;;;;;;;;AAAA,IAAIA,IAAJ;AAASC,MAAM,CAACC,IAAP,CAAY,MAAZ,EAAmB;AAACC,SAAO,CAACC,CAAD,EAAG;AAACJ,QAAI,GAACI,CAAL;AAAO;;AAAnB,CAAnB,EAAwC,CAAxC;AAA2C,IAAIC,QAAJ;AAAaJ,MAAM,CAACC,IAAP,CAAY,eAAZ,EAA4B;AAACG,UAAQ,CAACD,CAAD,EAAG;AAACC,YAAQ,GAACD,CAAT;AAAW;;AAAxB,CAA5B,EAAsD,CAAtD;AAAyD,IAAIE,EAAJ;AAAOL,MAAM,CAACC,IAAP,CAAY,IAAZ,EAAiB;AAACC,SAAO,CAACC,CAAD,EAAG;AAACE,MAAE,GAACF,CAAH;AAAK;;AAAjB,CAAjB,EAAoC,CAApC;AAAuC,IAAIG,QAAJ;AAAaN,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAwB;AAACC,SAAO,CAACC,CAAD,EAAG;AAACG,YAAQ,GAACH,CAAT;AAAW;;AAAvB,CAAxB,EAAiD,CAAjD;AAMrL,MAAMI,cAAc,GAAGR,IAAI,CAACS,OAAL,CAAa,UAAb,EAAyB,qBAAzB,EAAgD,QAAhD,EAA0D,oBAA1D,CAAvB;AACA,MAAMC,cAAc,GAAGV,IAAI,CAACS,OAAL,CAAa,UAAb,EAAyB,qBAAzB,EAAgD,QAAhD,EAA0D,4BAA1D,CAAvB;AAEAH,EAAE,CAACK,aAAH,CAAiBD,cAAjB,EAAiCH,QAAQ,CAACK,MAAT,CAAgBJ,cAAhB,EAAgCK,IAAjE;AAEA,MAAMC,WAAW,GAAGd,IAAI,CAACe,IAAL,CAAUf,IAAI,CAACS,OAAL,CAAa,GAAb,CAAV,EAA6B,UAA7B,EAAyC,qBAAzC,CAApB;AACA,MAAMO,UAAU,GAAGhB,IAAI,CAACe,IAAL,CAAUD,WAAV,EAAuB,QAAvB,CAAnB;AAEA,MAAMG,OAAO,GAAG;AACfC,KAAG,EAAEC,OAAO,CAACD;AADE,CAAhB;;AAIA,IAAIC,OAAO,CAACC,QAAR,KAAqB,OAAzB,EAAkC;AACjCf,UAAQ,WAAIW,UAAJ,iBAA4BC,OAA5B,CAAR;AACA,CAFD,MAEO;AACNZ,UAAQ,cAAOW,UAAP,gBAA8BC,OAA9B,CAAR;AACA,C","file":"/packages/Livechat_plugin.js","sourcesContent":["import path from 'path';\nimport { execSync } from 'child_process';\nimport fs from 'fs';\n\nimport UglifyJS from 'uglify-js';\n\nconst livechatSource = path.resolve('packages', 'rocketchat-livechat', 'assets', 'rocket-livechat.js');\nconst livechatTarget = path.resolve('packages', 'rocketchat-livechat', 'assets', 'rocketchat-livechat.min.js');\n\nfs.writeFileSync(livechatTarget, UglifyJS.minify(livechatSource).code);\n\nconst packagePath = path.join(path.resolve('.'), 'packages', 'rocketchat-livechat');\nconst pluginPath = path.join(packagePath, 'plugin');\n\nconst options = {\n\tenv: process.env,\n};\n\nif (process.platform === 'win32') {\n\texecSync(`${pluginPath}/build.bat`, options);\n} else {\n\texecSync(`sh ${pluginPath}/build.sh`, options);\n}\n"]}