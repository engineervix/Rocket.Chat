{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/sidebar/header/actions/CreateRoom.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/sidebar/header/actions/CreateRoom.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/sidebar/header/actions/CreateRoom.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/sidebar/header/actions/CreateRoom.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/sidebar/header/actions/CreateRoom.js"}},"code":"var _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\nvar Box, Sidebar, Dropdown;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Sidebar: function (v) {\n    Sidebar = v;\n  },\n  Dropdown: function (v) {\n    Dropdown = v;\n  }\n}, 0);\nvar React, useRef;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useRef: function (v) {\n    useRef = v;\n  }\n}, 1);\nvar createPortal;\nmodule.link(\"react-dom\", {\n  createPortal: function (v) {\n    createPortal = v;\n  }\n}, 2);\nvar useAtLeastOnePermission;\nmodule.link(\"../../../contexts/AuthorizationContext\", {\n  useAtLeastOnePermission: function (v) {\n    useAtLeastOnePermission = v;\n  }\n}, 3);\nvar useDropdownVisibility;\nmodule.link(\"../hooks/useDropdownVisibility\", {\n  useDropdownVisibility: function (v) {\n    useDropdownVisibility = v;\n  }\n}, 4);\nvar CreateRoomList;\nmodule.link(\"./CreateRoomList\", {\n  \"default\": function (v) {\n    CreateRoomList = v;\n  }\n}, 5);\nvar CREATE_ROOM_PERMISSIONS = ['create-c', 'create-p', 'create-d', 'start-discussion', 'start-discussion-other-user'];\n\nvar CreateRoom = function (props) {\n  var reference = useRef(null);\n  var target = useRef(null);\n\n  var _useDropdownVisibilit = useDropdownVisibility({\n    reference: reference,\n    target: target\n  }),\n      isVisible = _useDropdownVisibilit.isVisible,\n      toggle = _useDropdownVisibilit.toggle;\n\n  var showCreate = useAtLeastOnePermission(CREATE_ROOM_PERMISSIONS);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, showCreate && /*#__PURE__*/React.createElement(Box, {\n    ref: reference\n  }, /*#__PURE__*/React.createElement(Sidebar.TopBar.Action, _extends({}, props, {\n    icon: \"edit-rounded\",\n    onClick: toggle\n  }))), isVisible && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Dropdown, {\n    reference: reference,\n    ref: target\n  }, /*#__PURE__*/React.createElement(CreateRoomList, {\n    closeList: function () {\n      return toggle(false);\n    }\n  })), document.body));\n};\n\nmodule.exportDefault(CreateRoom);","map":{"version":3,"sources":["client/sidebar/header/actions/CreateRoom.js"],"names":["_extends","module","link","default","v","Box","Sidebar","Dropdown","React","useRef","createPortal","useAtLeastOnePermission","useDropdownVisibility","CreateRoomList","CREATE_ROOM_PERMISSIONS","CreateRoom","props","reference","target","isVisible","toggle","showCreate","document","body","exportDefault"],"mappings":"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","sourcesContent":["import { Box, Sidebar, Dropdown } from '@rocket.chat/fuselage';\nimport React, { useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { useAtLeastOnePermission } from '../../../contexts/AuthorizationContext';\nimport { useDropdownVisibility } from '../hooks/useDropdownVisibility';\nimport CreateRoomList from './CreateRoomList';\n\nconst CREATE_ROOM_PERMISSIONS = ['create-c', 'create-p', 'create-d', 'start-discussion', 'start-discussion-other-user'];\n\nconst CreateRoom = (props) => {\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\tconst showCreate = useAtLeastOnePermission(CREATE_ROOM_PERMISSIONS);\n\n\treturn (\n\t\t<>\n\t\t\t{showCreate && (\n\t\t\t\t<Box ref={reference}>\n\t\t\t\t\t<Sidebar.TopBar.Action {...props} icon='edit-rounded' onClick={toggle} />\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\t{isVisible &&\n\t\t\t\tcreatePortal(\n\t\t\t\t\t<Dropdown reference={reference} ref={target}>\n\t\t\t\t\t\t<CreateRoomList closeList={() => toggle(false)} />\n\t\t\t\t\t</Dropdown>,\n\t\t\t\t\tdocument.body,\n\t\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default CreateRoom;\n"]},"sourceType":"module","hash":"6d6382f965a7b6b783ec47fe7ee4581f1fedc07e"}
