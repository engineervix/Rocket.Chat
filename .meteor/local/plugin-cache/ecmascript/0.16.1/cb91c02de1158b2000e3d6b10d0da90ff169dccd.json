{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/Room/Room.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/room/Room/Room.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/Room/Room.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/Room/Room.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/Room/Room.js"}},"code":"let _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n\n}, 0);\nlet React, useDebugValue, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useDebugValue(v) {\n    useDebugValue = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  }\n\n}, 1);\nlet ErrorBoundary;\nmodule.link(\"../../../components/ErrorBoundary\", {\n  ErrorBoundary(v) {\n    ErrorBoundary = v;\n  }\n\n}, 2);\nlet useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 3);\nlet useUserPreference;\nmodule.link(\"../../../contexts/UserContext\", {\n  useUserPreference(v) {\n    useUserPreference = v;\n  }\n\n}, 4);\nlet Header;\nmodule.link(\"../Header\", {\n  default(v) {\n    Header = v;\n  }\n\n}, 5);\nlet BlazeTemplate;\nmodule.link(\"../components/BlazeTemplate\", {\n  default(v) {\n    BlazeTemplate = v;\n  }\n\n}, 6);\nlet RoomTemplate;\nmodule.link(\"../components/RoomTemplate/RoomTemplate\", {\n  RoomTemplate(v) {\n    RoomTemplate = v;\n  }\n\n}, 7);\nlet VerticalBarOldActions;\nmodule.link(\"../components/VerticalBarOldActions\", {\n  default(v) {\n    VerticalBarOldActions = v;\n  }\n\n}, 8);\nlet useRoom;\nmodule.link(\"../contexts/RoomContext\", {\n  useRoom(v) {\n    useRoom = v;\n  }\n\n}, 9);\nlet AppsContextualBar;\nmodule.link(\"../contextualBar/Apps\", {\n  default(v) {\n    AppsContextualBar = v;\n  }\n\n}, 10);\nlet useAppsContextualBar;\nmodule.link(\"../hooks/useAppsContextualBar\", {\n  useAppsContextualBar(v) {\n    useAppsContextualBar = v;\n  }\n\n}, 11);\nlet useTab, useTabBarOpen, useTabBarClose, useTabBarOpenUserInfo;\nmodule.link(\"../providers/ToolboxProvider\", {\n  useTab(v) {\n    useTab = v;\n  },\n\n  useTabBarOpen(v) {\n    useTabBarOpen = v;\n  },\n\n  useTabBarClose(v) {\n    useTabBarClose = v;\n  },\n\n  useTabBarOpenUserInfo(v) {\n    useTabBarOpenUserInfo = v;\n  }\n\n}, 12);\nlet Aside;\nmodule.link(\"./Aside\", {\n  default(v) {\n    Aside = v;\n  }\n\n}, 13);\nlet Body;\nmodule.link(\"./Body\", {\n  default(v) {\n    Body = v;\n  }\n\n}, 14);\nlet Footer;\nmodule.link(\"./Footer\", {\n  default(v) {\n    Footer = v;\n  }\n\n}, 15);\nlet LazyComponent;\nmodule.link(\"./LazyComponent\", {\n  default(v) {\n    LazyComponent = v;\n  }\n\n}, 16);\n\nconst Room = () => {\n  const t = useTranslation();\n  const room = useRoom();\n  const tab = useTab();\n  const open = useTabBarOpen();\n  const close = useTabBarClose();\n  const openUserInfo = useTabBarOpenUserInfo();\n  const hideFlexTab = useUserPreference('hideFlexTab');\n  const isOpen = useMutableCallback(() => !!(tab && tab.template));\n  const appsContextualBarContext = useAppsContextualBar();\n  const tabBar = useMemo(() => ({\n    open,\n    close,\n    isOpen,\n    openUserInfo\n  }), [open, close, isOpen, openUserInfo]);\n  useDebugValue(room);\n  useDebugValue(tab);\n  return /*#__PURE__*/React.createElement(RoomTemplate, {\n    \"aria-label\": t('Channel'),\n    \"data-qa-rc-room\": room._id\n  }, /*#__PURE__*/React.createElement(RoomTemplate.Header, null, /*#__PURE__*/React.createElement(Header, {\n    room: room,\n    rid: room._id\n  })), /*#__PURE__*/React.createElement(RoomTemplate.Body, null, /*#__PURE__*/React.createElement(BlazeTemplate, {\n    onClick: hideFlexTab ? close : undefined,\n    name: \"roomOld\",\n    tabBar: tabBar,\n    rid: room._id,\n    _id: room._id\n  })), tab && /*#__PURE__*/React.createElement(RoomTemplate.Aside, {\n    \"data-qa-tabbar-name\": tab.id\n  }, /*#__PURE__*/React.createElement(ErrorBoundary, null, typeof tab.template === 'string' && /*#__PURE__*/React.createElement(VerticalBarOldActions, _extends({}, tab, {\n    name: tab.template,\n    tabBar: tabBar,\n    rid: room._id,\n    _id: room._id\n  })), typeof tab.template !== 'string' && /*#__PURE__*/React.createElement(LazyComponent, {\n    template: tab.template,\n    tabBar: tabBar,\n    rid: room._id,\n    teamId: room.teamId,\n    _id: room._id\n  }))), appsContextualBarContext && /*#__PURE__*/React.createElement(RoomTemplate.Aside, {\n    \"data-qa-tabbar-name\": appsContextualBarContext.viewId\n  }, /*#__PURE__*/React.createElement(ErrorBoundary, null, /*#__PURE__*/React.createElement(LazyComponent, {\n    template: AppsContextualBar,\n    viewId: appsContextualBarContext.viewId,\n    roomId: appsContextualBarContext.roomId,\n    payload: appsContextualBarContext.payload,\n    appInfo: appsContextualBarContext.appInfo\n  }))));\n};\n\nmodule.exportDefault(Object.assign(Room, {\n  Header,\n  Body,\n  Footer,\n  Aside\n}));","map":{"version":3,"sources":["client/views/room/Room/Room.js"],"names":["_extends","module","link","default","v","useMutableCallback","React","useDebugValue","useMemo","ErrorBoundary","useTranslation","useUserPreference","Header","BlazeTemplate","RoomTemplate","VerticalBarOldActions","useRoom","AppsContextualBar","useAppsContextualBar","useTab","useTabBarOpen","useTabBarClose","useTabBarOpenUserInfo","Aside","Body","Footer","LazyComponent","Room","t","room","tab","open","close","openUserInfo","hideFlexTab","isOpen","template","appsContextualBarContext","tabBar","_id","undefined","id","teamId","viewId","roomId","payload","appInfo","exportDefault","Object","assign"],"mappings":"AAAA,IAAIA,QAAJ;;AAAaC,MAAM,CAACC,IAAP,CAAY,gCAAZ,EAA6C;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACJ,IAAAA,QAAQ,GAACI,CAAT;AAAW;;AAAvB,CAA7C,EAAsE,CAAtE;AAAb,IAAIC,kBAAJ;AAAuBJ,MAAM,CAACC,IAAP,CAAY,6BAAZ,EAA0C;AAACG,EAAAA,kBAAkB,CAACD,CAAD,EAAG;AAACC,IAAAA,kBAAkB,GAACD,CAAnB;AAAqB;;AAA5C,CAA1C,EAAwF,CAAxF;AAA2F,IAAIE,KAAJ,EAAUC,aAAV,EAAwBC,OAAxB;AAAgCP,MAAM,CAACC,IAAP,CAAY,OAAZ,EAAoB;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACE,IAAAA,KAAK,GAACF,CAAN;AAAQ,GAApB;;AAAqBG,EAAAA,aAAa,CAACH,CAAD,EAAG;AAACG,IAAAA,aAAa,GAACH,CAAd;AAAgB,GAAtD;;AAAuDI,EAAAA,OAAO,CAACJ,CAAD,EAAG;AAACI,IAAAA,OAAO,GAACJ,CAAR;AAAU;;AAA5E,CAApB,EAAkG,CAAlG;AAAqG,IAAIK,aAAJ;AAAkBR,MAAM,CAACC,IAAP,CAAY,mCAAZ,EAAgD;AAACO,EAAAA,aAAa,CAACL,CAAD,EAAG;AAACK,IAAAA,aAAa,GAACL,CAAd;AAAgB;;AAAlC,CAAhD,EAAoF,CAApF;AAAuF,IAAIM,cAAJ;AAAmBT,MAAM,CAACC,IAAP,CAAY,sCAAZ,EAAmD;AAACQ,EAAAA,cAAc,CAACN,CAAD,EAAG;AAACM,IAAAA,cAAc,GAACN,CAAf;AAAiB;;AAApC,CAAnD,EAAyF,CAAzF;AAA4F,IAAIO,iBAAJ;AAAsBV,MAAM,CAACC,IAAP,CAAY,+BAAZ,EAA4C;AAACS,EAAAA,iBAAiB,CAACP,CAAD,EAAG;AAACO,IAAAA,iBAAiB,GAACP,CAAlB;AAAoB;;AAA1C,CAA5C,EAAwF,CAAxF;AAA2F,IAAIQ,MAAJ;AAAWX,MAAM,CAACC,IAAP,CAAY,WAAZ,EAAwB;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACQ,IAAAA,MAAM,GAACR,CAAP;AAAS;;AAArB,CAAxB,EAA+C,CAA/C;AAAkD,IAAIS,aAAJ;AAAkBZ,MAAM,CAACC,IAAP,CAAY,6BAAZ,EAA0C;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACS,IAAAA,aAAa,GAACT,CAAd;AAAgB;;AAA5B,CAA1C,EAAwE,CAAxE;AAA2E,IAAIU,YAAJ;AAAiBb,MAAM,CAACC,IAAP,CAAY,yCAAZ,EAAsD;AAACY,EAAAA,YAAY,CAACV,CAAD,EAAG;AAACU,IAAAA,YAAY,GAACV,CAAb;AAAe;;AAAhC,CAAtD,EAAwF,CAAxF;AAA2F,IAAIW,qBAAJ;AAA0Bd,MAAM,CAACC,IAAP,CAAY,qCAAZ,EAAkD;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACW,IAAAA,qBAAqB,GAACX,CAAtB;AAAwB;;AAApC,CAAlD,EAAwF,CAAxF;AAA2F,IAAIY,OAAJ;AAAYf,MAAM,CAACC,IAAP,CAAY,yBAAZ,EAAsC;AAACc,EAAAA,OAAO,CAACZ,CAAD,EAAG;AAACY,IAAAA,OAAO,GAACZ,CAAR;AAAU;;AAAtB,CAAtC,EAA8D,CAA9D;AAAiE,IAAIa,iBAAJ;AAAsBhB,MAAM,CAACC,IAAP,CAAY,uBAAZ,EAAoC;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACa,IAAAA,iBAAiB,GAACb,CAAlB;AAAoB;;AAAhC,CAApC,EAAsE,EAAtE;AAA0E,IAAIc,oBAAJ;AAAyBjB,MAAM,CAACC,IAAP,CAAY,+BAAZ,EAA4C;AAACgB,EAAAA,oBAAoB,CAACd,CAAD,EAAG;AAACc,IAAAA,oBAAoB,GAACd,CAArB;AAAuB;;AAAhD,CAA5C,EAA8F,EAA9F;AAAkG,IAAIe,MAAJ,EAAWC,aAAX,EAAyBC,cAAzB,EAAwCC,qBAAxC;AAA8DrB,MAAM,CAACC,IAAP,CAAY,8BAAZ,EAA2C;AAACiB,EAAAA,MAAM,CAACf,CAAD,EAAG;AAACe,IAAAA,MAAM,GAACf,CAAP;AAAS,GAApB;;AAAqBgB,EAAAA,aAAa,CAAChB,CAAD,EAAG;AAACgB,IAAAA,aAAa,GAAChB,CAAd;AAAgB,GAAtD;;AAAuDiB,EAAAA,cAAc,CAACjB,CAAD,EAAG;AAACiB,IAAAA,cAAc,GAACjB,CAAf;AAAiB,GAA1F;;AAA2FkB,EAAAA,qBAAqB,CAAClB,CAAD,EAAG;AAACkB,IAAAA,qBAAqB,GAAClB,CAAtB;AAAwB;;AAA5I,CAA3C,EAAyL,EAAzL;AAA6L,IAAImB,KAAJ;AAAUtB,MAAM,CAACC,IAAP,CAAY,SAAZ,EAAsB;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACmB,IAAAA,KAAK,GAACnB,CAAN;AAAQ;;AAApB,CAAtB,EAA4C,EAA5C;AAAgD,IAAIoB,IAAJ;AAASvB,MAAM,CAACC,IAAP,CAAY,QAAZ,EAAqB;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACoB,IAAAA,IAAI,GAACpB,CAAL;AAAO;;AAAnB,CAArB,EAA0C,EAA1C;AAA8C,IAAIqB,MAAJ;AAAWxB,MAAM,CAACC,IAAP,CAAY,UAAZ,EAAuB;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACqB,IAAAA,MAAM,GAACrB,CAAP;AAAS;;AAArB,CAAvB,EAA8C,EAA9C;AAAkD,IAAIsB,aAAJ;AAAkBzB,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAACC,EAAAA,OAAO,CAACC,CAAD,EAAG;AAACsB,IAAAA,aAAa,GAACtB,CAAd;AAAgB;;AAA5B,CAA9B,EAA4D,EAA5D;;AAmB9pD,MAAMuB,IAAI,GAAG,MAAM;AAClB,QAAMC,CAAC,GAAGlB,cAAc,EAAxB;AACA,QAAMmB,IAAI,GAAGb,OAAO,EAApB;AACA,QAAMc,GAAG,GAAGX,MAAM,EAAlB;AACA,QAAMY,IAAI,GAAGX,aAAa,EAA1B;AACA,QAAMY,KAAK,GAAGX,cAAc,EAA5B;AACA,QAAMY,YAAY,GAAGX,qBAAqB,EAA1C;AAEA,QAAMY,WAAW,GAAGvB,iBAAiB,CAAC,aAAD,CAArC;AACA,QAAMwB,MAAM,GAAG9B,kBAAkB,CAAC,MAAM,CAAC,EAAEyB,GAAG,IAAIA,GAAG,CAACM,QAAb,CAAR,CAAjC;AAEA,QAAMC,wBAAwB,GAAGnB,oBAAoB,EAArD;AAEA,QAAMoB,MAAM,GAAG9B,OAAO,CAAC,OAAO;AAAEuB,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeG,IAAAA,MAAf;AAAuBF,IAAAA;AAAvB,GAAP,CAAD,EAAgD,CAACF,IAAD,EAAOC,KAAP,EAAcG,MAAd,EAAsBF,YAAtB,CAAhD,CAAtB;AAEA1B,EAAAA,aAAa,CAACsB,IAAD,CAAb;AACAtB,EAAAA,aAAa,CAACuB,GAAD,CAAb;AACA,sBACC,oBAAC,YAAD;AAAc,kBAAYF,CAAC,CAAC,SAAD,CAA3B;AAAwC,uBAAiBC,IAAI,CAACU;AAA9D,kBACC,oBAAC,YAAD,CAAc,MAAd,qBACC,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEV,IAAd;AAAoB,IAAA,GAAG,EAAEA,IAAI,CAACU;AAA9B,IADD,CADD,eAIC,oBAAC,YAAD,CAAc,IAAd,qBACC,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAEL,WAAW,GAAGF,KAAH,GAAWQ,SAA9C;AAAyD,IAAA,IAAI,EAAC,SAA9D;AAAwE,IAAA,MAAM,EAAEF,MAAhF;AAAwF,IAAA,GAAG,EAAET,IAAI,CAACU,GAAlG;AAAuG,IAAA,GAAG,EAAEV,IAAI,CAACU;AAAjH,IADD,CAJD,EAOET,GAAG,iBACH,oBAAC,YAAD,CAAc,KAAd;AAAoB,2BAAqBA,GAAG,CAACW;AAA7C,kBACC,oBAAC,aAAD,QACE,OAAOX,GAAG,CAACM,QAAX,KAAwB,QAAxB,iBACA,oBAAC,qBAAD,eAA2BN,GAA3B;AAAgC,IAAA,IAAI,EAAEA,GAAG,CAACM,QAA1C;AAAoD,IAAA,MAAM,EAAEE,MAA5D;AAAoE,IAAA,GAAG,EAAET,IAAI,CAACU,GAA9E;AAAmF,IAAA,GAAG,EAAEV,IAAI,CAACU;AAA7F,KAFF,EAIE,OAAOT,GAAG,CAACM,QAAX,KAAwB,QAAxB,iBACA,oBAAC,aAAD;AAAe,IAAA,QAAQ,EAAEN,GAAG,CAACM,QAA7B;AAAuC,IAAA,MAAM,EAAEE,MAA/C;AAAuD,IAAA,GAAG,EAAET,IAAI,CAACU,GAAjE;AAAsE,IAAA,MAAM,EAAEV,IAAI,CAACa,MAAnF;AAA2F,IAAA,GAAG,EAAEb,IAAI,CAACU;AAArG,IALF,CADD,CARF,EAmBEF,wBAAwB,iBACxB,oBAAC,YAAD,CAAc,KAAd;AAAoB,2BAAqBA,wBAAwB,CAACM;AAAlE,kBACC,oBAAC,aAAD,qBACC,oBAAC,aAAD;AACC,IAAA,QAAQ,EAAE1B,iBADX;AAEC,IAAA,MAAM,EAAEoB,wBAAwB,CAACM,MAFlC;AAGC,IAAA,MAAM,EAAEN,wBAAwB,CAACO,MAHlC;AAIC,IAAA,OAAO,EAAEP,wBAAwB,CAACQ,OAJnC;AAKC,IAAA,OAAO,EAAER,wBAAwB,CAACS;AALnC,IADD,CADD,CApBF,CADD;AAmCA,CApDD;;AAnBA7C,MAAM,CAAC8C,aAAP,CAyEeC,MAAM,CAACC,MAAP,CAActB,IAAd,EAAoB;AAClCf,EAAAA,MADkC;AAElCY,EAAAA,IAFkC;AAGlCC,EAAAA,MAHkC;AAIlCF,EAAAA;AAJkC,CAApB,CAzEf","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useDebugValue, useMemo } from 'react';\n\nimport { ErrorBoundary } from '../../../components/ErrorBoundary';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useUserPreference } from '../../../contexts/UserContext';\nimport Header from '../Header';\nimport BlazeTemplate from '../components/BlazeTemplate';\nimport { RoomTemplate } from '../components/RoomTemplate/RoomTemplate';\nimport VerticalBarOldActions from '../components/VerticalBarOldActions';\nimport { useRoom } from '../contexts/RoomContext';\nimport AppsContextualBar from '../contextualBar/Apps';\nimport { useAppsContextualBar } from '../hooks/useAppsContextualBar';\nimport { useTab, useTabBarOpen, useTabBarClose, useTabBarOpenUserInfo } from '../providers/ToolboxProvider';\nimport Aside from './Aside';\nimport Body from './Body';\nimport Footer from './Footer';\nimport LazyComponent from './LazyComponent';\n\nconst Room = () => {\n\tconst t = useTranslation();\n\tconst room = useRoom();\n\tconst tab = useTab();\n\tconst open = useTabBarOpen();\n\tconst close = useTabBarClose();\n\tconst openUserInfo = useTabBarOpenUserInfo();\n\n\tconst hideFlexTab = useUserPreference('hideFlexTab');\n\tconst isOpen = useMutableCallback(() => !!(tab && tab.template));\n\n\tconst appsContextualBarContext = useAppsContextualBar();\n\n\tconst tabBar = useMemo(() => ({ open, close, isOpen, openUserInfo }), [open, close, isOpen, openUserInfo]);\n\n\tuseDebugValue(room);\n\tuseDebugValue(tab);\n\treturn (\n\t\t<RoomTemplate aria-label={t('Channel')} data-qa-rc-room={room._id}>\n\t\t\t<RoomTemplate.Header>\n\t\t\t\t<Header room={room} rid={room._id} />\n\t\t\t</RoomTemplate.Header>\n\t\t\t<RoomTemplate.Body>\n\t\t\t\t<BlazeTemplate onClick={hideFlexTab ? close : undefined} name='roomOld' tabBar={tabBar} rid={room._id} _id={room._id} />\n\t\t\t</RoomTemplate.Body>\n\t\t\t{tab && (\n\t\t\t\t<RoomTemplate.Aside data-qa-tabbar-name={tab.id}>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t{typeof tab.template === 'string' && (\n\t\t\t\t\t\t\t<VerticalBarOldActions {...tab} name={tab.template} tabBar={tabBar} rid={room._id} _id={room._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{typeof tab.template !== 'string' && (\n\t\t\t\t\t\t\t<LazyComponent template={tab.template} tabBar={tabBar} rid={room._id} teamId={room.teamId} _id={room._id} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</RoomTemplate.Aside>\n\t\t\t)}\n\t\t\t{appsContextualBarContext && (\n\t\t\t\t<RoomTemplate.Aside data-qa-tabbar-name={appsContextualBarContext.viewId}>\n\t\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t\t<LazyComponent\n\t\t\t\t\t\t\ttemplate={AppsContextualBar}\n\t\t\t\t\t\t\tviewId={appsContextualBarContext.viewId}\n\t\t\t\t\t\t\troomId={appsContextualBarContext.roomId}\n\t\t\t\t\t\t\tpayload={appsContextualBarContext.payload}\n\t\t\t\t\t\t\tappInfo={appsContextualBarContext.appInfo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</RoomTemplate.Aside>\n\t\t\t)}\n\t\t</RoomTemplate>\n\t);\n};\n\nexport default Object.assign(Room, {\n\tHeader,\n\tBody,\n\tFooter,\n\tAside,\n});\n"]},"sourceType":"module","hash":"cb91c02de1158b2000e3d6b10d0da90ff169dccd"}
