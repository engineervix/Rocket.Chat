{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesWithData.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesWithData.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesWithData.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesWithData.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesWithData.js"}},"code":"let useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n\n}, 0);\nlet React, memo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  memo(v) {\n    memo = v;\n  }\n\n}, 1);\nlet useCustomSound;\nmodule.link(\"../../../../contexts/CustomSoundContext\", {\n  useCustomSound(v) {\n    useCustomSound = v;\n  }\n\n}, 2);\nlet useTranslation;\nmodule.link(\"../../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 3);\nlet useUserSubscription;\nmodule.link(\"../../../../contexts/UserContext\", {\n  useUserSubscription(v) {\n    useUserSubscription = v;\n  }\n\n}, 4);\nlet useEndpointActionExperimental;\nmodule.link(\"../../../../hooks/useEndpointActionExperimental\", {\n  useEndpointActionExperimental(v) {\n    useEndpointActionExperimental = v;\n  }\n\n}, 5);\nlet useForm;\nmodule.link(\"../../../../hooks/useForm\", {\n  useForm(v) {\n    useForm = v;\n  }\n\n}, 6);\nlet useTabBarClose;\nmodule.link(\"../../providers/ToolboxProvider\", {\n  useTabBarClose(v) {\n    useTabBarClose = v;\n  }\n\n}, 7);\nlet NotificationPreferences;\nmodule.link(\"./NotificationPreferences\", {\n  default(v) {\n    NotificationPreferences = v;\n  }\n\n}, 8);\n\nconst NotificationPreferencesWithData = _ref => {\n  let {\n    rid\n  } = _ref;\n  const t = useTranslation();\n  const subscription = useUserSubscription(rid);\n  const customSound = useCustomSound();\n  const handleClose = useTabBarClose();\n  const saveSettings = useEndpointActionExperimental('POST', 'rooms.saveNotification', t('Room_updated_successfully'));\n  const {\n    values,\n    handlers,\n    hasUnsavedChanges,\n    commit\n  } = useForm({\n    turnOn: !(subscription !== null && subscription !== void 0 && subscription.disableNotifications),\n    muteGroupMentions: subscription === null || subscription === void 0 ? void 0 : subscription.muteGroupMentions,\n    showCounter: !(subscription !== null && subscription !== void 0 && subscription.hideUnreadStatus),\n    desktopAlert: (subscription === null || subscription === void 0 ? void 0 : subscription.desktopPrefOrigin) === 'subscription' && subscription.desktopNotifications || 'default',\n    desktopSound: (subscription === null || subscription === void 0 ? void 0 : subscription.audioNotificationValue) || 'default',\n    mobileAlert: (subscription === null || subscription === void 0 ? void 0 : subscription.mobilePrefOrigin) === 'subscription' && subscription.mobilePushNotifications || 'default',\n    emailAlert: (subscription === null || subscription === void 0 ? void 0 : subscription.emailPrefOrigin) === 'subscription' && subscription.emailNotifications || 'default'\n  });\n  const defaultOption = [['default', t('Default')], ['all', t('All_messages')], ['mentions', t('Mentions')], ['nothing', t('Nothing')]];\n  const customSoundAsset = Object.entries(customSound.list.get()).map(value => [value[0], value[1].name]);\n  const handleOptions = {\n    alerts: defaultOption,\n    audio: defaultOption,\n    sound: [['none None', t('None')], ['default', t('Default')], ...customSoundAsset]\n  };\n\n  const handlePlaySound = () => customSound.play(values.desktopSound);\n\n  const handleSaveButton = useMutableCallback(() => {\n    const notifications = {};\n    notifications.disableNotifications = values.turnOn ? '0' : '1';\n    notifications.muteGroupMentions = values.muteGroupMentions ? '1' : '0';\n    notifications.hideUnreadStatus = values.showCounter ? '0' : '1';\n    notifications.desktopNotifications = values.desktopAlert;\n    notifications.audioNotificationValue = values.desktopSound;\n    notifications.mobilePushNotifications = values.mobileAlert;\n    notifications.emailNotifications = values.emailAlert;\n    saveSettings({\n      roomId: rid,\n      notifications\n    });\n    commit();\n  });\n  return /*#__PURE__*/React.createElement(NotificationPreferences, {\n    handleClose: handleClose,\n    formValues: values,\n    formHandlers: handlers,\n    formHasUnsavedChanges: hasUnsavedChanges,\n    handlePlaySound: handlePlaySound,\n    handleOptions: handleOptions,\n    handleSaveButton: handleSaveButton\n  });\n};\n\nmodule.exportDefault( /*#__PURE__*/memo(NotificationPreferencesWithData));","map":{"version":3,"sources":["client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesWithData.js"],"names":["useMutableCallback","module","link","v","React","memo","default","useCustomSound","useTranslation","useUserSubscription","useEndpointActionExperimental","useForm","useTabBarClose","NotificationPreferences","NotificationPreferencesWithData","rid","t","subscription","customSound","handleClose","saveSettings","values","handlers","hasUnsavedChanges","commit","turnOn","disableNotifications","muteGroupMentions","showCounter","hideUnreadStatus","desktopAlert","desktopPrefOrigin","desktopNotifications","desktopSound","audioNotificationValue","mobileAlert","mobilePrefOrigin","mobilePushNotifications","emailAlert","emailPrefOrigin","emailNotifications","defaultOption","customSoundAsset","Object","entries","list","get","map","value","name","handleOptions","alerts","audio","sound","handlePlaySound","play","handleSaveButton","notifications","roomId","exportDefault"],"mappings":"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","sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { memo } from 'react';\n\nimport { useCustomSound } from '../../../../contexts/CustomSoundContext';\nimport { useTranslation } from '../../../../contexts/TranslationContext';\nimport { useUserSubscription } from '../../../../contexts/UserContext';\nimport { useEndpointActionExperimental } from '../../../../hooks/useEndpointActionExperimental';\nimport { useForm } from '../../../../hooks/useForm';\nimport { useTabBarClose } from '../../providers/ToolboxProvider';\nimport NotificationPreferences from './NotificationPreferences';\n\nconst NotificationPreferencesWithData = ({ rid }) => {\n\tconst t = useTranslation();\n\n\tconst subscription = useUserSubscription(rid);\n\n\tconst customSound = useCustomSound();\n\tconst handleClose = useTabBarClose();\n\tconst saveSettings = useEndpointActionExperimental('POST', 'rooms.saveNotification', t('Room_updated_successfully'));\n\n\tconst { values, handlers, hasUnsavedChanges, commit } = useForm({\n\t\tturnOn: !subscription?.disableNotifications,\n\t\tmuteGroupMentions: subscription?.muteGroupMentions,\n\t\tshowCounter: !subscription?.hideUnreadStatus,\n\t\tdesktopAlert: (subscription?.desktopPrefOrigin === 'subscription' && subscription.desktopNotifications) || 'default',\n\t\tdesktopSound: subscription?.audioNotificationValue || 'default',\n\t\tmobileAlert: (subscription?.mobilePrefOrigin === 'subscription' && subscription.mobilePushNotifications) || 'default',\n\t\temailAlert: (subscription?.emailPrefOrigin === 'subscription' && subscription.emailNotifications) || 'default',\n\t});\n\n\tconst defaultOption = [\n\t\t['default', t('Default')],\n\t\t['all', t('All_messages')],\n\t\t['mentions', t('Mentions')],\n\t\t['nothing', t('Nothing')],\n\t];\n\n\tconst customSoundAsset = Object.entries(customSound.list.get()).map((value) => [value[0], value[1].name]);\n\n\tconst handleOptions = {\n\t\talerts: defaultOption,\n\t\taudio: defaultOption,\n\t\tsound: [['none None', t('None')], ['default', t('Default')], ...customSoundAsset],\n\t};\n\n\tconst handlePlaySound = () => customSound.play(values.desktopSound);\n\n\tconst handleSaveButton = useMutableCallback(() => {\n\t\tconst notifications = {};\n\n\t\tnotifications.disableNotifications = values.turnOn ? '0' : '1';\n\t\tnotifications.muteGroupMentions = values.muteGroupMentions ? '1' : '0';\n\t\tnotifications.hideUnreadStatus = values.showCounter ? '0' : '1';\n\t\tnotifications.desktopNotifications = values.desktopAlert;\n\t\tnotifications.audioNotificationValue = values.desktopSound;\n\t\tnotifications.mobilePushNotifications = values.mobileAlert;\n\t\tnotifications.emailNotifications = values.emailAlert;\n\n\t\tsaveSettings({\n\t\t\troomId: rid,\n\t\t\tnotifications,\n\t\t});\n\n\t\tcommit();\n\t});\n\n\treturn (\n\t\t<NotificationPreferences\n\t\t\thandleClose={handleClose}\n\t\t\tformValues={values}\n\t\t\tformHandlers={handlers}\n\t\t\tformHasUnsavedChanges={hasUnsavedChanges}\n\t\t\thandlePlaySound={handlePlaySound}\n\t\t\thandleOptions={handleOptions}\n\t\t\thandleSaveButton={handleSaveButton}\n\t\t/>\n\t);\n};\n\nexport default memo(NotificationPreferencesWithData);\n"]},"sourceType":"module","hash":"6587b0c36698017d4e4b0a8ea2a14196ad56bbf1"}
