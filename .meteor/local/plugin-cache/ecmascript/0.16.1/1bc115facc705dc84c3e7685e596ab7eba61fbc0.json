{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/reactions/client/init.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"app/reactions/client/init.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/reactions/client/init.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/reactions/client/init.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/reactions/client/init.js"}},"code":"module.export({\n  EmojiEvents: () => EmojiEvents\n});\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Blaze;\nmodule.link(\"meteor/blaze\", {\n  Blaze(v) {\n    Blaze = v;\n  }\n\n}, 1);\nlet Rooms, Subscriptions;\nmodule.link(\"../../models\", {\n  Rooms(v) {\n    Rooms = v;\n  },\n\n  Subscriptions(v) {\n    Subscriptions = v;\n  }\n\n}, 2);\nlet MessageAction;\nmodule.link(\"../../ui-utils\", {\n  MessageAction(v) {\n    MessageAction = v;\n  }\n\n}, 3);\nlet messageArgs;\nmodule.link(\"../../ui-utils/client/lib/messageArgs\", {\n  messageArgs(v) {\n    messageArgs = v;\n  }\n\n}, 4);\nlet EmojiPicker;\nmodule.link(\"../../emoji\", {\n  EmojiPicker(v) {\n    EmojiPicker = v;\n  }\n\n}, 5);\nlet tooltip;\nmodule.link(\"../../ui/client/components/tooltip\", {\n  tooltip(v) {\n    tooltip = v;\n  }\n\n}, 6);\nlet roomCoordinator;\nmodule.link(\"../../../client/lib/rooms/roomCoordinator\", {\n  roomCoordinator(v) {\n    roomCoordinator = v;\n  }\n\n}, 7);\nconst EmojiEvents = {\n  'click .add-reaction'(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    const data = Blaze.getData(event.currentTarget);\n    const {\n      msg: {\n        rid,\n        _id: mid,\n        private: isPrivate\n      }\n    } = messageArgs(data);\n    const user = Meteor.user();\n    const room = Rooms.findOne({\n      _id: rid\n    });\n\n    if (!room) {\n      return false;\n    }\n\n    if (!Subscriptions.findOne({\n      rid\n    })) {\n      return false;\n    }\n\n    if (isPrivate) {\n      return false;\n    }\n\n    if (roomCoordinator.readOnly(room._id, user) && !room.reactWhenReadOnly) {\n      return false;\n    }\n\n    EmojiPicker.open(event.currentTarget, emoji => {\n      Meteor.call('setReaction', \":\".concat(emoji, \":\"), mid);\n    });\n  },\n\n  'click .reactions > li:not(.add-reaction)'(event) {\n    event.preventDefault();\n    const data = Blaze.getData(event.currentTarget);\n    const {\n      msg: {\n        _id: mid\n      }\n    } = messageArgs(data);\n    Meteor.call('setReaction', $(event.currentTarget).attr('data-emoji'), mid, () => {\n      tooltip.hide();\n    });\n  },\n\n  'mouseenter .reactions > li:not(.add-reaction)'(event) {\n    event.stopPropagation();\n    tooltip.showElement($(event.currentTarget).find('.people').get(0), event.currentTarget);\n  },\n\n  'mouseleave .reactions > li:not(.add-reaction)'(event) {\n    event.stopPropagation();\n    tooltip.hide();\n  }\n\n};\nMeteor.startup(function () {\n  MessageAction.addButton({\n    id: 'reaction-message',\n    icon: 'add-reaction',\n    label: 'Add_Reaction',\n    context: ['message', 'message-mobile', 'threads'],\n\n    action(event) {\n      event.stopPropagation();\n      const {\n        msg\n      } = messageArgs(this);\n      EmojiPicker.open(event.currentTarget, emoji => Meteor.call('setReaction', \":\".concat(emoji, \":\"), msg._id));\n    },\n\n    condition(_ref) {\n      let {\n        msg: message,\n        u: user,\n        room,\n        subscription\n      } = _ref;\n\n      if (!room) {\n        return false;\n      }\n\n      if (!subscription) {\n        return false;\n      }\n\n      if (message.private) {\n        return false;\n      }\n\n      if (roomCoordinator.readOnly(room._id, user) && !room.reactWhenReadOnly) {\n        return false;\n      }\n\n      const isLivechatRoom = roomCoordinator.isLivechatRoom(room.t);\n\n      if (isLivechatRoom) {\n        return false;\n      }\n\n      return true;\n    },\n\n    order: -2,\n    group: ['message', 'menu']\n  });\n});","map":{"version":3,"sources":["app/reactions/client/init.js"],"names":["module","export","EmojiEvents","Meteor","link","v","Blaze","Rooms","Subscriptions","MessageAction","messageArgs","EmojiPicker","tooltip","roomCoordinator","event","preventDefault","stopPropagation","data","getData","currentTarget","msg","rid","_id","mid","private","isPrivate","user","room","findOne","readOnly","reactWhenReadOnly","open","emoji","call","$","attr","hide","showElement","find","get","startup","addButton","id","icon","label","context","action","condition","message","u","subscription","isLivechatRoom","t","order","group"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Blaze } from 'meteor/blaze';\n\nimport { Rooms, Subscriptions } from '../../models';\nimport { MessageAction } from '../../ui-utils';\nimport { messageArgs } from '../../ui-utils/client/lib/messageArgs';\nimport { EmojiPicker } from '../../emoji';\nimport { tooltip } from '../../ui/client/components/tooltip';\nimport { roomCoordinator } from '../../../client/lib/rooms/roomCoordinator';\n\nexport const EmojiEvents = {\n\t'click .add-reaction'(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconst data = Blaze.getData(event.currentTarget);\n\t\tconst {\n\t\t\tmsg: { rid, _id: mid, private: isPrivate },\n\t\t} = messageArgs(data);\n\t\tconst user = Meteor.user();\n\t\tconst room = Rooms.findOne({ _id: rid });\n\n\t\tif (!room) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!Subscriptions.findOne({ rid })) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (isPrivate) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (roomCoordinator.readOnly(room._id, user) && !room.reactWhenReadOnly) {\n\t\t\treturn false;\n\t\t}\n\n\t\tEmojiPicker.open(event.currentTarget, (emoji) => {\n\t\t\tMeteor.call('setReaction', `:${emoji}:`, mid);\n\t\t});\n\t},\n\n\t'click .reactions > li:not(.add-reaction)'(event) {\n\t\tevent.preventDefault();\n\n\t\tconst data = Blaze.getData(event.currentTarget);\n\t\tconst {\n\t\t\tmsg: { _id: mid },\n\t\t} = messageArgs(data);\n\t\tMeteor.call('setReaction', $(event.currentTarget).attr('data-emoji'), mid, () => {\n\t\t\ttooltip.hide();\n\t\t});\n\t},\n\n\t'mouseenter .reactions > li:not(.add-reaction)'(event) {\n\t\tevent.stopPropagation();\n\t\ttooltip.showElement($(event.currentTarget).find('.people').get(0), event.currentTarget);\n\t},\n\n\t'mouseleave .reactions > li:not(.add-reaction)'(event) {\n\t\tevent.stopPropagation();\n\t\ttooltip.hide();\n\t},\n};\n\nMeteor.startup(function () {\n\tMessageAction.addButton({\n\t\tid: 'reaction-message',\n\t\ticon: 'add-reaction',\n\t\tlabel: 'Add_Reaction',\n\t\tcontext: ['message', 'message-mobile', 'threads'],\n\t\taction(event) {\n\t\t\tevent.stopPropagation();\n\t\t\tconst { msg } = messageArgs(this);\n\t\t\tEmojiPicker.open(event.currentTarget, (emoji) => Meteor.call('setReaction', `:${emoji}:`, msg._id));\n\t\t},\n\t\tcondition({ msg: message, u: user, room, subscription }) {\n\t\t\tif (!room) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!subscription) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (message.private) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (roomCoordinator.readOnly(room._id, user) && !room.reactWhenReadOnly) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst isLivechatRoom = roomCoordinator.isLivechatRoom(room.t);\n\t\t\tif (isLivechatRoom) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\torder: -2,\n\t\tgroup: ['message', 'menu'],\n\t});\n});\n"]},"sourceType":"module","hash":"1bc115facc705dc84c3e7685e596ab7eba61fbc0"}
