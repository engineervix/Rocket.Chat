{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/users/UserInfo.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/users/UserInfo.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/users/UserInfo.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/users/UserInfo.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/users/UserInfo.js"}},"code":"var _excluded = [\"uid\", \"username\", \"onReload\"];\n\nvar _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\n\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\n\nvar _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 2);\nmodule.export({\n  UserInfoWithData: function () {\n    return UserInfoWithData;\n  }\n});\nvar Box;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  }\n}, 0);\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 1);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 2);\nvar getUserEmailAddress;\nmodule.link(\"../../../../lib/getUserEmailAddress\", {\n  getUserEmailAddress: function (v) {\n    getUserEmailAddress = v;\n  }\n}, 3);\nvar FormSkeleton;\nmodule.link(\"../../../components/Skeleton\", {\n  FormSkeleton: function (v) {\n    FormSkeleton = v;\n  }\n}, 4);\nvar UserCard;\nmodule.link(\"../../../components/UserCard\", {\n  \"default\": function (v) {\n    UserCard = v;\n  }\n}, 5);\nvar UserStatus;\nmodule.link(\"../../../components/UserStatus\", {\n  UserStatus: function (v) {\n    UserStatus = v;\n  }\n}, 6);\nvar useRolesDescription;\nmodule.link(\"../../../contexts/AuthorizationContext\", {\n  useRolesDescription: function (v) {\n    useRolesDescription = v;\n  }\n}, 7);\nvar useSetting;\nmodule.link(\"../../../contexts/SettingsContext\", {\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 8);\nvar useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 9);\nvar AsyncStatePhase;\nmodule.link(\"../../../hooks/useAsyncState\", {\n  AsyncStatePhase: function (v) {\n    AsyncStatePhase = v;\n  }\n}, 10);\nvar useEndpointData;\nmodule.link(\"../../../hooks/useEndpointData\", {\n  useEndpointData: function (v) {\n    useEndpointData = v;\n  }\n}, 11);\nvar getUserEmailVerified;\nmodule.link(\"../../../lib/utils/getUserEmailVerified\", {\n  getUserEmailVerified: function (v) {\n    getUserEmailVerified = v;\n  }\n}, 12);\nvar UserInfo;\nmodule.link(\"../../room/contextualBar/UserInfo/UserInfo\", {\n  \"default\": function (v) {\n    UserInfo = v;\n  }\n}, 13);\nvar UserInfoActions;\nmodule.link(\"./UserInfoActions\", {\n  UserInfoActions: function (v) {\n    UserInfoActions = v;\n  }\n}, 14);\n\nfunction UserInfoWithData(_ref) {\n  var _data$user, _data$user$roles;\n\n  var uid = _ref.uid,\n      username = _ref.username,\n      onReload = _ref.onReload,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var t = useTranslation();\n  var showRealNames = useSetting('UI_Use_Real_Name');\n  var getRoles = useRolesDescription();\n  var approveManuallyUsers = useSetting('Accounts_ManuallyApproveNewUsers');\n\n  var _useEndpointData = useEndpointData('users.info', useMemo(function () {\n    return _objectSpread(_objectSpread({}, uid && {\n      userId: uid\n    }), username && {\n      username: username\n    });\n  }, [uid, username])),\n      data = _useEndpointData.value,\n      state = _useEndpointData.phase,\n      error = _useEndpointData.error,\n      reloadUserInfo = _useEndpointData.reload;\n\n  var onChange = useMutableCallback(function () {\n    onReload();\n    reloadUserInfo();\n  });\n  var user = useMemo(function () {\n    var _ref2 = data || {\n      user: {}\n    },\n        user = _ref2.user;\n\n    var name = user.name,\n        username = user.username,\n        _user$roles = user.roles,\n        roles = _user$roles === void 0 ? [] : _user$roles,\n        status = user.status,\n        statusText = user.statusText,\n        bio = user.bio,\n        utcOffset = user.utcOffset,\n        lastLogin = user.lastLogin,\n        nickname = user.nickname;\n    return {\n      name: name,\n      username: username,\n      lastLogin: lastLogin,\n      showRealNames: showRealNames,\n      roles: roles && getRoles(roles).map(function (role, index) {\n        return /*#__PURE__*/React.createElement(UserCard.Role, {\n          key: index\n        }, role);\n      }),\n      bio: bio,\n      phone: user.phone,\n      utcOffset: utcOffset,\n      customFields: _objectSpread(_objectSpread({}, user.customFields), approveManuallyUsers && user.active === false && user.reason && {\n        Reason: user.reason\n      }),\n      verified: getUserEmailVerified(user),\n      email: getUserEmailAddress(user),\n      createdAt: user.createdAt,\n      status: /*#__PURE__*/React.createElement(UserStatus, {\n        status: status\n      }),\n      customStatus: statusText,\n      nickname: nickname\n    };\n  }, [approveManuallyUsers, data, showRealNames, getRoles]);\n\n  if (state === AsyncStatePhase.LOADING) {\n    return /*#__PURE__*/React.createElement(Box, {\n      p: \"x24\"\n    }, /*#__PURE__*/React.createElement(FormSkeleton, null));\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(Box, {\n      mbs: \"x16\"\n    }, t('User_not_found'));\n  }\n\n  var admin = (_data$user = data.user) === null || _data$user === void 0 ? void 0 : (_data$user$roles = _data$user.roles) === null || _data$user$roles === void 0 ? void 0 : _data$user$roles.includes('admin');\n  return /*#__PURE__*/React.createElement(UserInfo, _extends({}, user, {\n    data: data.user,\n    onChange: onChange,\n    actions: data && data.user && /*#__PURE__*/React.createElement(UserInfoActions, {\n      isActive: data.user.active,\n      isAdmin: admin,\n      _id: data.user._id,\n      username: data.user.username,\n      onChange: onChange,\n      onReload: onReload\n    })\n  }, props));\n}","map":{"version":3,"sources":["client/views/admin/users/UserInfo.js"],"names":["_extends","module","link","default","v","_objectSpread","_objectWithoutProperties","export","UserInfoWithData","Box","useMutableCallback","React","useMemo","getUserEmailAddress","FormSkeleton","UserCard","UserStatus","useRolesDescription","useSetting","useTranslation","AsyncStatePhase","useEndpointData","getUserEmailVerified","UserInfo","UserInfoActions","uid","username","onReload","props","t","showRealNames","getRoles","approveManuallyUsers","userId","data","value","state","phase","error","reloadUserInfo","reload","onChange","user","name","roles","status","statusText","bio","utcOffset","lastLogin","nickname","map","role","index","phone","customFields","active","reason","Reason","verified","email","createdAt","customStatus","LOADING","admin","includes","_id"],"mappings":"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","sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useMemo } from 'react';\n\nimport { getUserEmailAddress } from '../../../../lib/getUserEmailAddress';\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport UserCard from '../../../components/UserCard';\nimport { UserStatus } from '../../../components/UserStatus';\nimport { useRolesDescription } from '../../../contexts/AuthorizationContext';\nimport { useSetting } from '../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { getUserEmailVerified } from '../../../lib/utils/getUserEmailVerified';\nimport UserInfo from '../../room/contextualBar/UserInfo/UserInfo';\nimport { UserInfoActions } from './UserInfoActions';\n\nexport function UserInfoWithData({ uid, username, onReload, ...props }) {\n\tconst t = useTranslation();\n\tconst showRealNames = useSetting('UI_Use_Real_Name');\n\tconst getRoles = useRolesDescription();\n\tconst approveManuallyUsers = useSetting('Accounts_ManuallyApproveNewUsers');\n\n\tconst {\n\t\tvalue: data,\n\t\tphase: state,\n\t\terror,\n\t\treload: reloadUserInfo,\n\t} = useEndpointData(\n\t\t'users.info',\n\t\tuseMemo(() => ({ ...(uid && { userId: uid }), ...(username && { username }) }), [uid, username]),\n\t);\n\n\tconst onChange = useMutableCallback(() => {\n\t\tonReload();\n\t\treloadUserInfo();\n\t});\n\n\tconst user = useMemo(() => {\n\t\tconst { user } = data || { user: {} };\n\n\t\tconst { name, username, roles = [], status, statusText, bio, utcOffset, lastLogin, nickname } = user;\n\n\t\treturn {\n\t\t\tname,\n\t\t\tusername,\n\t\t\tlastLogin,\n\t\t\tshowRealNames,\n\t\t\troles: roles && getRoles(roles).map((role, index) => <UserCard.Role key={index}>{role}</UserCard.Role>),\n\t\t\tbio,\n\t\t\tphone: user.phone,\n\t\t\tutcOffset,\n\t\t\tcustomFields: {\n\t\t\t\t...user.customFields,\n\t\t\t\t...(approveManuallyUsers && user.active === false && user.reason && { Reason: user.reason }),\n\t\t\t},\n\t\t\tverified: getUserEmailVerified(user),\n\t\t\temail: getUserEmailAddress(user),\n\t\t\tcreatedAt: user.createdAt,\n\t\t\tstatus: <UserStatus status={status} />,\n\t\t\tcustomStatus: statusText,\n\t\t\tnickname,\n\t\t};\n\t}, [approveManuallyUsers, data, showRealNames, getRoles]);\n\n\tif (state === AsyncStatePhase.LOADING) {\n\t\treturn (\n\t\t\t<Box p='x24'>\n\t\t\t\t<FormSkeleton />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn <Box mbs='x16'>{t('User_not_found')}</Box>;\n\t}\n\n\tconst admin = data.user?.roles?.includes('admin');\n\n\treturn (\n\t\t<UserInfo\n\t\t\t{...user}\n\t\t\tdata={data.user}\n\t\t\tonChange={onChange}\n\t\t\tactions={\n\t\t\t\tdata &&\n\t\t\t\tdata.user && (\n\t\t\t\t\t<UserInfoActions\n\t\t\t\t\t\tisActive={data.user.active}\n\t\t\t\t\t\tisAdmin={admin}\n\t\t\t\t\t\t_id={data.user._id}\n\t\t\t\t\t\tusername={data.user.username}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tonReload={onReload}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t\t{...props}\n\t\t/>\n\t);\n}\n"]},"sourceType":"module","hash":"dedbd1af778d9c4ff80690cc5cc52fe1e21dccd2"}
