{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/audit/AuditPageBase.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"ee/client/audit/AuditPageBase.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/audit/AuditPageBase.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/audit/AuditPageBase.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/client/audit/AuditPageBase.js"}},"code":"module.export({\n  AuditPageBase: function () {\n    return AuditPageBase;\n  }\n});\nvar Box, Field, TextInput, ButtonGroup, Button, Margins, Tabs, Flex;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Margins: function (v) {\n    Margins = v;\n  },\n  Tabs: function (v) {\n    Tabs = v;\n  },\n  Flex: function (v) {\n    Flex = v;\n  }\n}, 0);\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 1);\nvar React;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 2);\nvar Page;\nmodule.link(\"../../../client/components/Page\", {\n  \"default\": function (v) {\n    Page = v;\n  }\n}, 3);\nvar useTranslation;\nmodule.link(\"../../../client/contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 4);\nvar useEndpointAction;\nmodule.link(\"../../../client/hooks/useEndpointAction\", {\n  useEndpointAction: function (v) {\n    useEndpointAction = v;\n  }\n}, 5);\nvar DateRangePicker;\nmodule.link(\"./DateRangePicker\", {\n  \"default\": function (v) {\n    DateRangePicker = v;\n  }\n}, 6);\nvar Result;\nmodule.link(\"./Result\", {\n  \"default\": function (v) {\n    Result = v;\n  }\n}, 7);\nvar ChannelTab;\nmodule.link(\"./Tabs/ChannelTab\", {\n  \"default\": function (v) {\n    ChannelTab = v;\n  }\n}, 8);\nvar DirectTab;\nmodule.link(\"./Tabs/DirectTab\", {\n  \"default\": function (v) {\n    DirectTab = v;\n  }\n}, 9);\nvar UsersTab;\nmodule.link(\"./Tabs/UsersTab\", {\n  \"default\": function (v) {\n    UsersTab = v;\n  }\n}, 10);\nvar VisitorsTab;\nmodule.link(\"./Tabs/VisitorsTab\", {\n  \"default\": function (v) {\n    VisitorsTab = v;\n  }\n}, 11);\n\nvar AuditPageBase = function (_ref) {\n  var type = _ref.type,\n      handleType = _ref.handleType,\n      msg = _ref.msg,\n      handleMsg = _ref.handleMsg,\n      handleDateRange = _ref.handleDateRange,\n      errors = _ref.errors,\n      rid = _ref.rid,\n      handleRid = _ref.handleRid,\n      users = _ref.users,\n      handleUsers = _ref.handleUsers,\n      onChangeUsers = _ref.onChangeUsers,\n      visitor = _ref.visitor,\n      handleVisitor = _ref.handleVisitor,\n      agent = _ref.agent,\n      handleAgent = _ref.handleAgent,\n      apply = _ref.apply,\n      setData = _ref.setData;\n  var t = useTranslation();\n\n  var useHandleType = function (type) {\n    return useMutableCallback(function () {\n      handleVisitor('');\n      handleAgent();\n      handleRid('');\n      handleUsers([]);\n      handleType(type);\n    });\n  };\n\n  var eventStats = useEndpointAction('POST', 'statistics.telemetry', {\n    params: [{\n      eventName: 'updateCounter',\n      settingsId: 'Message_Auditing_Apply_Count',\n      timestamp: Date.now()\n    }]\n  });\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(Page.Header, {\n    title: t('Message_auditing')\n  }), /*#__PURE__*/React.createElement(Tabs, null, /*#__PURE__*/React.createElement(Tabs.Item, {\n    selected: type === '',\n    onClick: useHandleType('')\n  }, t('Rooms')), /*#__PURE__*/React.createElement(Tabs.Item, {\n    selected: type === 'u',\n    onClick: useHandleType('u')\n  }, t('Users')), /*#__PURE__*/React.createElement(Tabs.Item, {\n    selected: type === 'd',\n    onClick: useHandleType('d')\n  }, t('Direct_Messages')), /*#__PURE__*/React.createElement(Tabs.Item, {\n    selected: type === 'l',\n    onClick: useHandleType('l')\n  }, t('Omnichannel'))), /*#__PURE__*/React.createElement(Page.ScrollableContentWithShadow, {\n    mb: \"neg-x4\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    block: \"x4\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    mi: \"neg-x4\",\n    justifyContent: \"stretch\"\n  }, /*#__PURE__*/React.createElement(Margins, {\n    inline: \"x4\"\n  }, /*#__PURE__*/React.createElement(Flex.Item, {\n    shrink: 1\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Message')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextInput, {\n    value: msg,\n    onChange: handleMsg,\n    placeholder: t('Search')\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Date')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(DateRangePicker, {\n    onChange: handleDateRange,\n    display: \"flex\",\n    flexGrow: 1\n  })))))), /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"flex-end\"\n  }, /*#__PURE__*/React.createElement(Flex.Item, {\n    shrink: 1\n  }, type === '' && /*#__PURE__*/React.createElement(ChannelTab, {\n    errors: errors,\n    rid: rid,\n    handleRid: handleRid\n  }), type === 'u' && /*#__PURE__*/React.createElement(UsersTab, {\n    errors: errors,\n    users: users,\n    onChangeUsers: onChangeUsers\n  }), type === 'd' && /*#__PURE__*/React.createElement(DirectTab, {\n    errors: errors,\n    users: users,\n    onChangeUsers: onChangeUsers\n  }), type === 'l' && /*#__PURE__*/React.createElement(VisitorsTab, {\n    errors: errors,\n    visitor: visitor,\n    handleVisitor: handleVisitor,\n    agent: agent,\n    handleAgent: handleAgent\n  }), /*#__PURE__*/React.createElement(ButtonGroup, {\n    mis: \"x8\",\n    align: \"end\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: function () {\n      return apply(eventStats);\n    }\n  }, t('Apply'))))), setData && /*#__PURE__*/React.createElement(Result, {\n    setDataRef: setData\n  }))));\n};","map":{"version":3,"sources":["ee/client/audit/AuditPageBase.js"],"names":["module","export","AuditPageBase","Box","Field","TextInput","ButtonGroup","Button","Margins","Tabs","Flex","link","v","useMutableCallback","React","Page","useTranslation","useEndpointAction","DateRangePicker","Result","ChannelTab","DirectTab","UsersTab","VisitorsTab","type","handleType","msg","handleMsg","handleDateRange","errors","rid","handleRid","users","handleUsers","onChangeUsers","visitor","handleVisitor","agent","handleAgent","apply","setData","t","useHandleType","eventStats","params","eventName","settingsId","timestamp","Date","now"],"mappings":"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","sourcesContent":["import { Box, Field, TextInput, ButtonGroup, Button, Margins, Tabs, Flex } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport Page from '../../../client/components/Page';\nimport { useTranslation } from '../../../client/contexts/TranslationContext';\nimport { useEndpointAction } from '../../../client/hooks/useEndpointAction';\nimport DateRangePicker from './DateRangePicker';\nimport Result from './Result';\nimport ChannelTab from './Tabs/ChannelTab';\nimport DirectTab from './Tabs/DirectTab';\nimport UsersTab from './Tabs/UsersTab';\nimport VisitorsTab from './Tabs/VisitorsTab';\n\n// TODO: create more stories for the tabs\nexport const AuditPageBase = ({\n\ttype,\n\thandleType,\n\tmsg,\n\thandleMsg,\n\thandleDateRange,\n\terrors,\n\trid,\n\thandleRid,\n\tusers,\n\thandleUsers,\n\tonChangeUsers,\n\tvisitor,\n\thandleVisitor,\n\tagent,\n\thandleAgent,\n\tapply,\n\tsetData,\n}) => {\n\tconst t = useTranslation();\n\n\tconst useHandleType = (type) =>\n\t\tuseMutableCallback(() => {\n\t\t\thandleVisitor('');\n\t\t\thandleAgent();\n\t\t\thandleRid('');\n\t\t\thandleUsers([]);\n\t\t\thandleType(type);\n\t\t});\n\n\tconst eventStats = useEndpointAction('POST', 'statistics.telemetry', {\n\t\tparams: [{ eventName: 'updateCounter', settingsId: 'Message_Auditing_Apply_Count', timestamp: Date.now() }],\n\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Message_auditing')} />\n\t\t\t<Tabs>\n\t\t\t\t<Tabs.Item selected={type === ''} onClick={useHandleType('')}>\n\t\t\t\t\t{t('Rooms')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'u'} onClick={useHandleType('u')}>\n\t\t\t\t\t{t('Users')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'd'} onClick={useHandleType('d')}>\n\t\t\t\t\t{t('Direct_Messages')}\n\t\t\t\t</Tabs.Item>\n\t\t\t\t<Tabs.Item selected={type === 'l'} onClick={useHandleType('l')}>\n\t\t\t\t\t{t('Omnichannel')}\n\t\t\t\t</Tabs.Item>\n\t\t\t</Tabs>\n\t\t\t<Page.ScrollableContentWithShadow mb='neg-x4'>\n\t\t\t\t<Margins block='x4'>\n\t\t\t\t\t<Box display='flex' flexDirection='row' mi='neg-x4' justifyContent='stretch'>\n\t\t\t\t\t\t<Margins inline='x4'>\n\t\t\t\t\t\t\t<Flex.Item shrink={1}>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Field.Label>{t('Message')}</Field.Label>\n\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t<TextInput value={msg} onChange={handleMsg} placeholder={t('Search')} />\n\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Field.Label>{t('Date')}</Field.Label>\n\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t<DateRangePicker onChange={handleDateRange} display='flex' flexGrow={1} />\n\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='flex-end'>\n\t\t\t\t\t\t<Flex.Item shrink={1}>\n\t\t\t\t\t\t\t{type === '' && <ChannelTab errors={errors} rid={rid} handleRid={handleRid} />}\n\t\t\t\t\t\t\t{type === 'u' && <UsersTab errors={errors} users={users} onChangeUsers={onChangeUsers} />}\n\t\t\t\t\t\t\t{type === 'd' && <DirectTab errors={errors} users={users} onChangeUsers={onChangeUsers} />}\n\t\t\t\t\t\t\t{type === 'l' && (\n\t\t\t\t\t\t\t\t<VisitorsTab errors={errors} visitor={visitor} handleVisitor={handleVisitor} agent={agent} handleAgent={handleAgent} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<ButtonGroup mis='x8' align='end'>\n\t\t\t\t\t\t\t\t<Button primary onClick={() => apply(eventStats)}>\n\t\t\t\t\t\t\t\t\t{t('Apply')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Flex.Item>\n\t\t\t\t\t</Box>\n\t\t\t\t\t{setData && <Result setDataRef={setData} />}\n\t\t\t\t</Margins>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n"]},"sourceType":"module","hash":"f07691b7028e23280db210c38ffb0bf8b1141075"}
