{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/integrations/edit/HistoryItem.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/integrations/edit/HistoryItem.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/integrations/edit/HistoryItem.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/integrations/edit/HistoryItem.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/integrations/edit/HistoryItem.js"}},"code":"const _excluded = [\"data\"];\n\nlet _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 0);\n\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 1);\nlet Button, Icon, Box, Accordion, Field, FieldGroup;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Button(v) {\n    Button = v;\n  },\n\n  Icon(v) {\n    Icon = v;\n  },\n\n  Box(v) {\n    Box = v;\n  },\n\n  Accordion(v) {\n    Accordion = v;\n  },\n\n  Field(v) {\n    Field = v;\n  },\n\n  FieldGroup(v) {\n    FieldGroup = v;\n  }\n\n}, 0);\nlet useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n\n}, 1);\nlet React;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  }\n\n}, 2);\nlet eventList;\nmodule.link(\"../../../../../app/integrations/lib/rocketchat\", {\n  integrations(v) {\n    eventList = v;\n  }\n\n}, 3);\nlet useMethod;\nmodule.link(\"../../../../contexts/ServerContext\", {\n  useMethod(v) {\n    useMethod = v;\n  }\n\n}, 4);\nlet useTranslation;\nmodule.link(\"../../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 5);\nlet useFormatDateAndTime;\nmodule.link(\"../../../../hooks/useFormatDateAndTime\", {\n  useFormatDateAndTime(v) {\n    useFormatDateAndTime = v;\n  }\n\n}, 6);\nlet useHighlightedCode;\nmodule.link(\"../../../../hooks/useHighlightedCode\", {\n  useHighlightedCode(v) {\n    useHighlightedCode = v;\n  }\n\n}, 7);\n\nfunction HistoryItem(_ref) {\n  let {\n    data\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  const t = useTranslation();\n  const replayOutgoingIntegration = useMethod('replayOutgoingIntegration');\n  const {\n    _id,\n    _createdAt,\n    _updatedAt,\n    httpResult,\n    event,\n    step,\n    httpCallData,\n    data: dataSentToTrigger,\n    prepareSentMessage,\n    processSentMessage,\n    url,\n    httpError,\n    errorStack,\n    error,\n    integration: {\n      _id: integrationId\n    }\n  } = data;\n  const createdAt = typeof _createdAt === 'string' ? _createdAt : _createdAt.toISOString();\n  const updatedAt = typeof _updatedAt === 'string' ? _updatedAt : _updatedAt.toISOString();\n  const handleClickReplay = useMutableCallback(e => {\n    e.stopPropagation();\n    replayOutgoingIntegration({\n      integrationId,\n      historyId: _id\n    });\n  });\n  const formatDateAndTime = useFormatDateAndTime();\n  const dataSentToTriggerCode = useHighlightedCode('json', JSON.stringify(dataSentToTrigger || '', null, 2));\n  const prepareSentMessageCode = useHighlightedCode('json', JSON.stringify(prepareSentMessage || '', null, 2));\n  const processSentMessageCode = useHighlightedCode('json', JSON.stringify(processSentMessage || '', null, 2));\n  const httpCallDataCode = useHighlightedCode('json', JSON.stringify(httpCallData || '', null, 2));\n  const httpErrorCode = useHighlightedCode('json', JSON.stringify(httpError || '', null, 2));\n  const httpResultCode = useHighlightedCode('json', JSON.stringify(httpResult || '', null, 2));\n  const errorStackCode = useHighlightedCode('json', JSON.stringify(errorStack || '', null, 2));\n  return /*#__PURE__*/React.createElement(Accordion.Item, _extends({\n    title: /*#__PURE__*/React.createElement(Box, {\n      display: \"inline-flex\",\n      w: \"full\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(Icon, {\n      name: \"info-circled\",\n      size: \"x16\",\n      mie: \"x4\"\n    }), formatDateAndTime(_createdAt)), /*#__PURE__*/React.createElement(Button, {\n      ghost: true,\n      onClick: handleClickReplay\n    }, t('Replay')))\n  }, props), /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Status')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"code\", null, error ? t('Failure') : t('Success'))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Time_Triggered')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"code\", null, createdAt)))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Time_Ended_Or_Error')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"code\", null, updatedAt)))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Event_Trigger')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"code\", null, t(eventList.outgoingEvents[event].label))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Trigger_Step')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"code\", null, step)))), dataSentToTrigger && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Data_Passed_To_Trigger')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: dataSentToTriggerCode\n    }\n  }))))), prepareSentMessage && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Messages_Sent_From_Prepare_Script')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: prepareSentMessageCode\n    }\n  }))))), processSentMessage && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Messages_Sent_From_Process_Script')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: processSentMessageCode\n    }\n  }))))), url && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('URL')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"code\", null, url)))), httpCallData && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Data_Passed_To_URL')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: httpCallDataCode\n    }\n  }))))), httpError && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Http_Response_Error')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: httpErrorCode\n    }\n  }))))), httpResult && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Http_Response')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: httpResultCode\n    }\n  }))))), errorStack && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Integration_Outgoing_WebHook_History_Error_Stacktrace')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    withRichContent: true,\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(\"pre\", null, /*#__PURE__*/React.createElement(\"code\", {\n    dangerouslySetInnerHTML: {\n      __html: errorStackCode\n    }\n  })))))));\n}\n\nmodule.exportDefault(HistoryItem);","map":{"version":3,"sources":["client/views/admin/integrations/edit/HistoryItem.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","Button","Icon","Box","Accordion","Field","FieldGroup","useMutableCallback","React","eventList","integrations","useMethod","useTranslation","useFormatDateAndTime","useHighlightedCode","HistoryItem","data","props","t","replayOutgoingIntegration","_id","_createdAt","_updatedAt","httpResult","event","step","httpCallData","dataSentToTrigger","prepareSentMessage","processSentMessage","url","httpError","errorStack","error","integration","integrationId","createdAt","toISOString","updatedAt","handleClickReplay","e","stopPropagation","historyId","formatDateAndTime","dataSentToTriggerCode","JSON","stringify","prepareSentMessageCode","processSentMessageCode","httpCallDataCode","httpErrorCode","httpResultCode","errorStackCode","outgoingEvents","label","__html","exportDefault"],"mappings":"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","sourcesContent":["import { Button, Icon, Box, Accordion, Field, FieldGroup } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React from 'react';\n\nimport { integrations as eventList } from '../../../../../app/integrations/lib/rocketchat';\nimport { useMethod } from '../../../../contexts/ServerContext';\nimport { useTranslation } from '../../../../contexts/TranslationContext';\nimport { useFormatDateAndTime } from '../../../../hooks/useFormatDateAndTime';\nimport { useHighlightedCode } from '../../../../hooks/useHighlightedCode';\n\nfunction HistoryItem({ data, ...props }) {\n\tconst t = useTranslation();\n\n\tconst replayOutgoingIntegration = useMethod('replayOutgoingIntegration');\n\n\tconst {\n\t\t_id,\n\t\t_createdAt,\n\t\t_updatedAt,\n\t\thttpResult,\n\t\tevent,\n\t\tstep,\n\t\thttpCallData,\n\t\tdata: dataSentToTrigger,\n\t\tprepareSentMessage,\n\t\tprocessSentMessage,\n\t\turl,\n\t\thttpError,\n\t\terrorStack,\n\t\terror,\n\t\tintegration: { _id: integrationId },\n\t} = data;\n\n\tconst createdAt = typeof _createdAt === 'string' ? _createdAt : _createdAt.toISOString();\n\tconst updatedAt = typeof _updatedAt === 'string' ? _updatedAt : _updatedAt.toISOString();\n\n\tconst handleClickReplay = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\treplayOutgoingIntegration({ integrationId, historyId: _id });\n\t});\n\n\tconst formatDateAndTime = useFormatDateAndTime();\n\n\tconst dataSentToTriggerCode = useHighlightedCode('json', JSON.stringify(dataSentToTrigger || '', null, 2));\n\tconst prepareSentMessageCode = useHighlightedCode('json', JSON.stringify(prepareSentMessage || '', null, 2));\n\tconst processSentMessageCode = useHighlightedCode('json', JSON.stringify(processSentMessage || '', null, 2));\n\tconst httpCallDataCode = useHighlightedCode('json', JSON.stringify(httpCallData || '', null, 2));\n\tconst httpErrorCode = useHighlightedCode('json', JSON.stringify(httpError || '', null, 2));\n\tconst httpResultCode = useHighlightedCode('json', JSON.stringify(httpResult || '', null, 2));\n\tconst errorStackCode = useHighlightedCode('json', JSON.stringify(errorStack || '', null, 2));\n\n\treturn (\n\t\t<Accordion.Item\n\t\t\ttitle={\n\t\t\t\t<Box display='inline-flex' w='full' flexDirection='row' justifyContent='space-between'>\n\t\t\t\t\t<Box display='flex' flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t<Icon name='info-circled' size='x16' mie='x4' />\n\t\t\t\t\t\t{formatDateAndTime(_createdAt)}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Button ghost onClick={handleClickReplay}>\n\t\t\t\t\t\t{t('Replay')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t}\n\t\t\t{...props}\n\t\t>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Status')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t<code>{error ? t('Failure') : t('Success')}</code>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Time_Triggered')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t<code>{createdAt}</code>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Time_Ended_Or_Error')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t<code>{updatedAt}</code>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Event_Trigger')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t<code>{t(eventList.outgoingEvents[event].label)}</code>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Trigger_Step')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t<code>{step}</code>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t{dataSentToTrigger && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Data_Passed_To_Trigger')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: dataSentToTriggerCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{prepareSentMessage && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Messages_Sent_From_Prepare_Script')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: prepareSentMessageCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{processSentMessage && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Messages_Sent_From_Process_Script')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: processSentMessageCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{url && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('URL')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<code>{url}</code>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{httpCallData && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Data_Passed_To_URL')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: httpCallDataCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{httpError && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Http_Response_Error')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: httpErrorCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{httpResult && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Http_Response')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: httpResultCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{errorStack && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Integration_Outgoing_WebHook_History_Error_Stacktrace')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<Box withRichContent w='full'>\n\t\t\t\t\t\t\t\t<pre>\n\t\t\t\t\t\t\t\t\t<code dangerouslySetInnerHTML={{ __html: errorStackCode }}></code>\n\t\t\t\t\t\t\t\t</pre>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n}\n\nexport default HistoryItem;\n"]},"sourceType":"module","hash":"6b7a48e3693b84f5c29ebd12bc18f5c95fb95de3"}
