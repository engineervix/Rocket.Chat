{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/AccountProfilePage.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/account/AccountProfilePage.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/AccountProfilePage.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/AccountProfilePage.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/AccountProfilePage.js"}},"code":"var _regeneratorRuntime;\n\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\n\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 1);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\nvar ButtonGroup, Button, Box, Icon;\nmodule.link(\"@rocket.chat/fuselage\", {\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  }\n}, 0);\nvar SHA256;\nmodule.link(\"meteor/sha\", {\n  SHA256: function (v) {\n    SHA256 = v;\n  }\n}, 1);\nvar React, useMemo, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 2);\nvar getUserEmailAddress;\nmodule.link(\"../../../lib/getUserEmailAddress\", {\n  getUserEmailAddress: function (v) {\n    getUserEmailAddress = v;\n  }\n}, 3);\nvar ConfirmOwnerChangeWarningModal;\nmodule.link(\"../../components/ConfirmOwnerChangeWarningModal\", {\n  \"default\": function (v) {\n    ConfirmOwnerChangeWarningModal = v;\n  }\n}, 4);\nvar Page;\nmodule.link(\"../../components/Page\", {\n  \"default\": function (v) {\n    Page = v;\n  }\n}, 5);\nvar useSetModal;\nmodule.link(\"../../contexts/ModalContext\", {\n  useSetModal: function (v) {\n    useSetModal = v;\n  }\n}, 6);\nvar useEndpoint, useMethod;\nmodule.link(\"../../contexts/ServerContext\", {\n  useEndpoint: function (v) {\n    useEndpoint = v;\n  },\n  useMethod: function (v) {\n    useMethod = v;\n  }\n}, 7);\nvar useSetting;\nmodule.link(\"../../contexts/SettingsContext\", {\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 8);\nvar useToastMessageDispatch;\nmodule.link(\"../../contexts/ToastMessagesContext\", {\n  useToastMessageDispatch: function (v) {\n    useToastMessageDispatch = v;\n  }\n}, 9);\nvar useTranslation;\nmodule.link(\"../../contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 10);\nvar useUser, useLogout;\nmodule.link(\"../../contexts/UserContext\", {\n  useUser: function (v) {\n    useUser = v;\n  },\n  useLogout: function (v) {\n    useLogout = v;\n  }\n}, 11);\nvar useForm;\nmodule.link(\"../../hooks/useForm\", {\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 12);\nvar useUpdateAvatar;\nmodule.link(\"../../hooks/useUpdateAvatar\", {\n  useUpdateAvatar: function (v) {\n    useUpdateAvatar = v;\n  }\n}, 13);\nvar AccountProfileForm;\nmodule.link(\"./AccountProfileForm\", {\n  \"default\": function (v) {\n    AccountProfileForm = v;\n  }\n}, 14);\nvar ActionConfirmModal;\nmodule.link(\"./ActionConfirmModal\", {\n  \"default\": function (v) {\n    ActionConfirmModal = v;\n  }\n}, 15);\n\nvar getInitialValues = function (user) {\n  var _user$name, _getUserEmailAddress, _user$username, _user$avatarUrl, _user$statusText, _user$status, _user$bio, _user$customFields, _user$nickname;\n\n  return {\n    realname: (_user$name = user.name) !== null && _user$name !== void 0 ? _user$name : '',\n    email: (_getUserEmailAddress = getUserEmailAddress(user)) !== null && _getUserEmailAddress !== void 0 ? _getUserEmailAddress : '',\n    username: (_user$username = user.username) !== null && _user$username !== void 0 ? _user$username : '',\n    password: '',\n    confirmationPassword: '',\n    avatar: '',\n    url: (_user$avatarUrl = user.avatarUrl) !== null && _user$avatarUrl !== void 0 ? _user$avatarUrl : '',\n    statusText: (_user$statusText = user.statusText) !== null && _user$statusText !== void 0 ? _user$statusText : '',\n    statusType: (_user$status = user.status) !== null && _user$status !== void 0 ? _user$status : '',\n    bio: (_user$bio = user.bio) !== null && _user$bio !== void 0 ? _user$bio : '',\n    customFields: (_user$customFields = user.customFields) !== null && _user$customFields !== void 0 ? _user$customFields : {},\n    nickname: (_user$nickname = user.nickname) !== null && _user$nickname !== void 0 ? _user$nickname : ''\n  };\n};\n\nvar AccountProfilePage = function () {\n  var _user$services, _user$services$passwo;\n\n  var t = useTranslation();\n  var dispatchToastMessage = useToastMessageDispatch();\n  var user = useUser();\n\n  var _useForm = useForm(getInitialValues(user !== null && user !== void 0 ? user : {})),\n      values = _useForm.values,\n      handlers = _useForm.handlers,\n      hasUnsavedChanges = _useForm.hasUnsavedChanges,\n      commit = _useForm.commit,\n      reset = _useForm.reset;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      canSave = _useState2[0],\n      setCanSave = _useState2[1];\n\n  var setModal = useSetModal();\n  var logout = useLogout();\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loggingOut = _useState4[0],\n      setLoggingOut = _useState4[1];\n\n  var logoutOtherClients = useEndpoint('POST', 'users.logoutOtherClients');\n  var deleteOwnAccount = useMethod('deleteUserOwnAccount');\n  var saveFn = useMethod('saveUserProfile');\n  var closeModal = useCallback(function () {\n    return setModal(null);\n  }, [setModal]);\n  var localPassword = Boolean(user === null || user === void 0 ? void 0 : (_user$services = user.services) === null || _user$services === void 0 ? void 0 : (_user$services$passwo = _user$services.password) === null || _user$services$passwo === void 0 ? void 0 : _user$services$passwo.exists);\n  var erasureType = useSetting('Message_ErasureType');\n  var allowRealNameChange = useSetting('Accounts_AllowRealNameChange');\n  var allowUserStatusMessageChange = useSetting('Accounts_AllowUserStatusMessageChange');\n  var canChangeUsername = useSetting('Accounts_AllowUsernameChange');\n  var allowEmailChange = useSetting('Accounts_AllowEmailChange');\n  var allowPasswordChange = useSetting('Accounts_AllowPasswordChange');\n  var allowOAuthPasswordChange = useSetting('Accounts_AllowPasswordChangeForOAuthUsers');\n  var allowUserAvatarChange = useSetting('Accounts_AllowUserAvatarChange');\n  var allowDeleteOwnAccount = useSetting('Accounts_AllowDeleteOwnAccount');\n  var requireName = useSetting('Accounts_RequireNameForSignUp');\n  var namesRegexSetting = useSetting('UTF8_User_Names_Validation');\n\n  if (allowPasswordChange && !allowOAuthPasswordChange) {\n    allowPasswordChange = localPassword;\n  }\n\n  var namesRegex = useMemo(function () {\n    return new RegExp(\"^\" + namesRegexSetting + \"$\");\n  }, [namesRegexSetting]);\n  var settings = useMemo(function () {\n    return {\n      allowRealNameChange: allowRealNameChange,\n      allowUserStatusMessageChange: allowUserStatusMessageChange,\n      allowEmailChange: allowEmailChange,\n      allowPasswordChange: allowPasswordChange,\n      allowUserAvatarChange: allowUserAvatarChange,\n      allowDeleteOwnAccount: allowDeleteOwnAccount,\n      canChangeUsername: canChangeUsername,\n      requireName: requireName,\n      namesRegex: namesRegex\n    };\n  }, [allowDeleteOwnAccount, allowEmailChange, allowPasswordChange, allowRealNameChange, allowUserAvatarChange, allowUserStatusMessageChange, canChangeUsername, requireName, namesRegex]);\n  var realname = values.realname,\n      email = values.email,\n      avatar = values.avatar,\n      username = values.username,\n      password = values.password,\n      statusText = values.statusText,\n      statusType = values.statusType,\n      customFields = values.customFields,\n      bio = values.bio,\n      nickname = values.nickname;\n  var handleAvatar = handlers.handleAvatar,\n      handlePassword = handlers.handlePassword,\n      handleConfirmationPassword = handlers.handleConfirmationPassword;\n  var updateAvatar = useUpdateAvatar(avatar, user === null || user === void 0 ? void 0 : user._id);\n  var onSave = useCallback(function () {\n    function _callee2() {\n      var save;\n      return _regeneratorRuntime.async(function () {\n        function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                save = function () {\n                  function _callee(typedPassword) {\n                    var avatarResult;\n                    return _regeneratorRuntime.async(function () {\n                      function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _context.prev = 0;\n                              _context.next = 3;\n                              return _regeneratorRuntime.awrap(saveFn(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, allowRealNameChange && {\n                                realname: realname\n                              }), allowEmailChange && getUserEmailAddress(user) !== email && {\n                                email: email\n                              }), allowPasswordChange && {\n                                newPassword: password\n                              }), canChangeUsername && {\n                                username: username\n                              }), allowUserStatusMessageChange && {\n                                statusText: statusText\n                              }), typedPassword && {\n                                typedPassword: SHA256(typedPassword)\n                              }), {}, {\n                                statusType: statusType,\n                                nickname: nickname,\n                                bio: bio || ''\n                              }), customFields));\n\n                            case 3:\n                              handlePassword('');\n                              handleConfirmationPassword('');\n                              _context.next = 7;\n                              return _regeneratorRuntime.awrap(updateAvatar());\n\n                            case 7:\n                              avatarResult = _context.sent;\n\n                              if (avatarResult) {\n                                handleAvatar('');\n                              }\n\n                              commit();\n                              dispatchToastMessage({\n                                type: 'success',\n                                message: t('Profile_saved_successfully')\n                              });\n                              _context.next = 16;\n                              break;\n\n                            case 13:\n                              _context.prev = 13;\n                              _context.t0 = _context[\"catch\"](0);\n                              dispatchToastMessage({\n                                type: 'error',\n                                message: _context.t0\n                              });\n\n                            case 16:\n                            case \"end\":\n                              return _context.stop();\n                          }\n                        }\n                      }\n\n                      return _callee$;\n                    }(), null, null, [[0, 13]], Promise);\n                  }\n\n                  return _callee;\n                }();\n\n                save();\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }\n\n        return _callee2$;\n      }(), null, null, null, Promise);\n    }\n\n    return _callee2;\n  }(), [saveFn, allowEmailChange, allowPasswordChange, allowRealNameChange, allowUserStatusMessageChange, bio, canChangeUsername, email, password, realname, statusText, username, user, updateAvatar, handleAvatar, dispatchToastMessage, t, customFields, statusType, commit, nickname, handlePassword, handleConfirmationPassword]);\n  var handleLogoutOtherLocations = useCallback(function () {\n    function _callee3() {\n      return _regeneratorRuntime.async(function () {\n        function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                setLoggingOut(true);\n                _context3.prev = 1;\n                _context3.next = 4;\n                return _regeneratorRuntime.awrap(logoutOtherClients());\n\n              case 4:\n                dispatchToastMessage({\n                  type: 'success',\n                  message: t('Logged_out_of_other_clients_successfully')\n                });\n                _context3.next = 10;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](1);\n                dispatchToastMessage({\n                  type: 'error',\n                  message: _context3.t0\n                });\n\n              case 10:\n                setLoggingOut(false);\n\n              case 11:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }\n\n        return _callee3$;\n      }(), null, null, [[1, 7]], Promise);\n    }\n\n    return _callee3;\n  }(), [logoutOtherClients, dispatchToastMessage, t]);\n  var handleConfirmOwnerChange = useCallback(function (passwordOrUsername, shouldChangeOwner, shouldBeRemoved) {\n    var handleConfirm = function () {\n      function _callee4() {\n        return _regeneratorRuntime.async(function () {\n          function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.prev = 0;\n                  _context4.next = 3;\n                  return _regeneratorRuntime.awrap(deleteOwnAccount(SHA256(passwordOrUsername), true));\n\n                case 3:\n                  dispatchToastMessage({\n                    type: 'success',\n                    message: t('User_has_been_deleted')\n                  });\n                  closeModal();\n                  logout();\n                  _context4.next = 11;\n                  break;\n\n                case 8:\n                  _context4.prev = 8;\n                  _context4.t0 = _context4[\"catch\"](0);\n                  dispatchToastMessage({\n                    type: 'error',\n                    message: _context4.t0\n                  });\n\n                case 11:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }\n\n          return _callee4$;\n        }(), null, null, [[0, 8]], Promise);\n      }\n\n      return _callee4;\n    }();\n\n    return setModal(function () {\n      return /*#__PURE__*/React.createElement(ConfirmOwnerChangeWarningModal, {\n        onConfirm: handleConfirm,\n        onCancel: closeModal,\n        contentTitle: t(\"Delete_User_Warning_\" + erasureType),\n        confirmLabel: t('Delete'),\n        shouldChangeOwner: shouldChangeOwner,\n        shouldBeRemoved: shouldBeRemoved\n      });\n    });\n  }, [closeModal, erasureType, setModal, t, deleteOwnAccount, dispatchToastMessage, logout]);\n  var handleDeleteOwnAccount = useCallback(function () {\n    function _callee6() {\n      var handleConfirm;\n      return _regeneratorRuntime.async(function () {\n        function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                handleConfirm = function () {\n                  function _callee5(passwordOrUsername) {\n                    var _error$details, shouldChangeOwner, shouldBeRemoved;\n\n                    return _regeneratorRuntime.async(function () {\n                      function _callee5$(_context5) {\n                        while (1) {\n                          switch (_context5.prev = _context5.next) {\n                            case 0:\n                              _context5.prev = 0;\n                              _context5.next = 3;\n                              return _regeneratorRuntime.awrap(deleteOwnAccount(SHA256(passwordOrUsername)));\n\n                            case 3:\n                              dispatchToastMessage({\n                                type: 'success',\n                                message: t('User_has_been_deleted')\n                              });\n                              logout();\n                              _context5.next = 13;\n                              break;\n\n                            case 7:\n                              _context5.prev = 7;\n                              _context5.t0 = _context5[\"catch\"](0);\n\n                              if (!(_context5.t0.error === 'user-last-owner')) {\n                                _context5.next = 12;\n                                break;\n                              }\n\n                              _error$details = _context5.t0.details, shouldChangeOwner = _error$details.shouldChangeOwner, shouldBeRemoved = _error$details.shouldBeRemoved;\n                              return _context5.abrupt(\"return\", handleConfirmOwnerChange(passwordOrUsername, shouldChangeOwner, shouldBeRemoved));\n\n                            case 12:\n                              dispatchToastMessage({\n                                type: 'error',\n                                message: _context5.t0\n                              });\n\n                            case 13:\n                            case \"end\":\n                              return _context5.stop();\n                          }\n                        }\n                      }\n\n                      return _callee5$;\n                    }(), null, null, [[0, 7]], Promise);\n                  }\n\n                  return _callee5;\n                }();\n\n                return _context6.abrupt(\"return\", setModal(function () {\n                  return /*#__PURE__*/React.createElement(ActionConfirmModal, {\n                    onConfirm: handleConfirm,\n                    onCancel: closeModal,\n                    isPassword: localPassword\n                  });\n                }));\n\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }\n\n        return _callee6$;\n      }(), null, null, null, Promise);\n    }\n\n    return _callee6;\n  }(), [closeModal, dispatchToastMessage, localPassword, setModal, handleConfirmOwnerChange, deleteOwnAccount, logout, t]);\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(Page.Header, {\n    title: t('Profile')\n  }, /*#__PURE__*/React.createElement(ButtonGroup, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    danger: true,\n    disabled: !hasUnsavedChanges,\n    onClick: reset\n  }, t('Reset')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    disabled: !hasUnsavedChanges || !canSave || loggingOut,\n    onClick: onSave\n  }, t('Save_changes')))), /*#__PURE__*/React.createElement(Page.ScrollableContentWithShadow, null, /*#__PURE__*/React.createElement(Box, {\n    maxWidth: \"600px\",\n    w: \"full\",\n    alignSelf: \"center\"\n  }, /*#__PURE__*/React.createElement(AccountProfileForm, {\n    values: values,\n    handlers: handlers,\n    user: user !== null && user !== void 0 ? user : {\n      emails: []\n    },\n    settings: settings,\n    onSaveStateChange: setCanSave\n  }), /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true,\n    mb: \"x12\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleLogoutOtherLocations,\n    flexGrow: 0,\n    disabled: loggingOut\n  }, t('Logout_Others')), allowDeleteOwnAccount && /*#__PURE__*/React.createElement(Button, {\n    danger: true,\n    onClick: handleDeleteOwnAccount\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"trash\",\n    size: \"x20\",\n    mie: \"x4\"\n  }), t('Delete_my_account'))))));\n};\n\nmodule.exportDefault(AccountProfilePage);","map":{"version":3,"sources":["client/views/account/AccountProfilePage.js"],"names":["_regeneratorRuntime","module","link","default","v","_objectSpread","_slicedToArray","ButtonGroup","Button","Box","Icon","SHA256","React","useMemo","useState","useCallback","getUserEmailAddress","ConfirmOwnerChangeWarningModal","Page","useSetModal","useEndpoint","useMethod","useSetting","useToastMessageDispatch","useTranslation","useUser","useLogout","useForm","useUpdateAvatar","AccountProfileForm","ActionConfirmModal","getInitialValues","user","realname","name","email","username","password","confirmationPassword","avatar","url","avatarUrl","statusText","statusType","status","bio","customFields","nickname","AccountProfilePage","t","dispatchToastMessage","values","handlers","hasUnsavedChanges","commit","reset","canSave","setCanSave","setModal","logout","loggingOut","setLoggingOut","logoutOtherClients","deleteOwnAccount","saveFn","closeModal","localPassword","Boolean","services","exists","erasureType","allowRealNameChange","allowUserStatusMessageChange","canChangeUsername","allowEmailChange","allowPasswordChange","allowOAuthPasswordChange","allowUserAvatarChange","allowDeleteOwnAccount","requireName","namesRegexSetting","namesRegex","RegExp","settings","handleAvatar","handlePassword","handleConfirmationPassword","updateAvatar","_id","onSave","save","typedPassword","newPassword","avatarResult","type","message","handleLogoutOtherLocations","handleConfirmOwnerChange","passwordOrUsername","shouldChangeOwner","shouldBeRemoved","handleConfirm","handleDeleteOwnAccount","error","details","emails","exportDefault"],"mappings":"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","sourcesContent":["import { ButtonGroup, Button, Box, Icon } from '@rocket.chat/fuselage';\nimport { SHA256 } from 'meteor/sha';\nimport React, { useMemo, useState, useCallback } from 'react';\n\nimport { getUserEmailAddress } from '../../../lib/getUserEmailAddress';\nimport ConfirmOwnerChangeWarningModal from '../../components/ConfirmOwnerChangeWarningModal';\nimport Page from '../../components/Page';\nimport { useSetModal } from '../../contexts/ModalContext';\nimport { useEndpoint, useMethod } from '../../contexts/ServerContext';\nimport { useSetting } from '../../contexts/SettingsContext';\nimport { useToastMessageDispatch } from '../../contexts/ToastMessagesContext';\nimport { useTranslation } from '../../contexts/TranslationContext';\nimport { useUser, useLogout } from '../../contexts/UserContext';\nimport { useForm } from '../../hooks/useForm';\nimport { useUpdateAvatar } from '../../hooks/useUpdateAvatar';\nimport AccountProfileForm from './AccountProfileForm';\nimport ActionConfirmModal from './ActionConfirmModal';\n\nconst getInitialValues = (user) => ({\n\trealname: user.name ?? '',\n\temail: getUserEmailAddress(user) ?? '',\n\tusername: user.username ?? '',\n\tpassword: '',\n\tconfirmationPassword: '',\n\tavatar: '',\n\turl: user.avatarUrl ?? '',\n\tstatusText: user.statusText ?? '',\n\tstatusType: user.status ?? '',\n\tbio: user.bio ?? '',\n\tcustomFields: user.customFields ?? {},\n\tnickname: user.nickname ?? '',\n});\n\nconst AccountProfilePage = () => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst user = useUser();\n\n\tconst { values, handlers, hasUnsavedChanges, commit, reset } = useForm(getInitialValues(user ?? {}));\n\tconst [canSave, setCanSave] = useState(true);\n\tconst setModal = useSetModal();\n\tconst logout = useLogout();\n\tconst [loggingOut, setLoggingOut] = useState(false);\n\n\tconst logoutOtherClients = useEndpoint('POST', 'users.logoutOtherClients');\n\tconst deleteOwnAccount = useMethod('deleteUserOwnAccount');\n\tconst saveFn = useMethod('saveUserProfile');\n\n\tconst closeModal = useCallback(() => setModal(null), [setModal]);\n\n\tconst localPassword = Boolean(user?.services?.password?.exists);\n\n\tconst erasureType = useSetting('Message_ErasureType');\n\tconst allowRealNameChange = useSetting('Accounts_AllowRealNameChange');\n\tconst allowUserStatusMessageChange = useSetting('Accounts_AllowUserStatusMessageChange');\n\tconst canChangeUsername = useSetting('Accounts_AllowUsernameChange');\n\tconst allowEmailChange = useSetting('Accounts_AllowEmailChange');\n\tlet allowPasswordChange = useSetting('Accounts_AllowPasswordChange');\n\tconst allowOAuthPasswordChange = useSetting('Accounts_AllowPasswordChangeForOAuthUsers');\n\tconst allowUserAvatarChange = useSetting('Accounts_AllowUserAvatarChange');\n\tconst allowDeleteOwnAccount = useSetting('Accounts_AllowDeleteOwnAccount');\n\tconst requireName = useSetting('Accounts_RequireNameForSignUp');\n\tconst namesRegexSetting = useSetting('UTF8_User_Names_Validation');\n\n\tif (allowPasswordChange && !allowOAuthPasswordChange) {\n\t\tallowPasswordChange = localPassword;\n\t}\n\n\tconst namesRegex = useMemo(() => new RegExp(`^${namesRegexSetting}$`), [namesRegexSetting]);\n\n\tconst settings = useMemo(\n\t\t() => ({\n\t\t\tallowRealNameChange,\n\t\t\tallowUserStatusMessageChange,\n\t\t\tallowEmailChange,\n\t\t\tallowPasswordChange,\n\t\t\tallowUserAvatarChange,\n\t\t\tallowDeleteOwnAccount,\n\t\t\tcanChangeUsername,\n\t\t\trequireName,\n\t\t\tnamesRegex,\n\t\t}),\n\t\t[\n\t\t\tallowDeleteOwnAccount,\n\t\t\tallowEmailChange,\n\t\t\tallowPasswordChange,\n\t\t\tallowRealNameChange,\n\t\t\tallowUserAvatarChange,\n\t\t\tallowUserStatusMessageChange,\n\t\t\tcanChangeUsername,\n\t\t\trequireName,\n\t\t\tnamesRegex,\n\t\t],\n\t);\n\n\tconst { realname, email, avatar, username, password, statusText, statusType, customFields, bio, nickname } = values;\n\n\tconst { handleAvatar, handlePassword, handleConfirmationPassword } = handlers;\n\n\tconst updateAvatar = useUpdateAvatar(avatar, user?._id);\n\n\tconst onSave = useCallback(async () => {\n\t\tconst save = async (typedPassword) => {\n\t\t\ttry {\n\t\t\t\tawait saveFn(\n\t\t\t\t\t{\n\t\t\t\t\t\t...(allowRealNameChange && { realname }),\n\t\t\t\t\t\t...(allowEmailChange && getUserEmailAddress(user) !== email && { email }),\n\t\t\t\t\t\t...(allowPasswordChange && { newPassword: password }),\n\t\t\t\t\t\t...(canChangeUsername && { username }),\n\t\t\t\t\t\t...(allowUserStatusMessageChange && { statusText }),\n\t\t\t\t\t\t...(typedPassword && { typedPassword: SHA256(typedPassword) }),\n\t\t\t\t\t\tstatusType,\n\t\t\t\t\t\tnickname,\n\t\t\t\t\t\tbio: bio || '',\n\t\t\t\t\t},\n\t\t\t\t\tcustomFields,\n\t\t\t\t);\n\t\t\t\thandlePassword('');\n\t\t\t\thandleConfirmationPassword('');\n\t\t\t\tconst avatarResult = await updateAvatar();\n\t\t\t\tif (avatarResult) {\n\t\t\t\t\thandleAvatar('');\n\t\t\t\t}\n\t\t\t\tcommit();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Profile_saved_successfully') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t};\n\n\t\tsave();\n\t}, [\n\t\tsaveFn,\n\t\tallowEmailChange,\n\t\tallowPasswordChange,\n\t\tallowRealNameChange,\n\t\tallowUserStatusMessageChange,\n\t\tbio,\n\t\tcanChangeUsername,\n\t\temail,\n\t\tpassword,\n\t\trealname,\n\t\tstatusText,\n\t\tusername,\n\t\tuser,\n\t\tupdateAvatar,\n\t\thandleAvatar,\n\t\tdispatchToastMessage,\n\t\tt,\n\t\tcustomFields,\n\t\tstatusType,\n\t\tcommit,\n\t\tnickname,\n\t\thandlePassword,\n\t\thandleConfirmationPassword,\n\t]);\n\n\tconst handleLogoutOtherLocations = useCallback(async () => {\n\t\tsetLoggingOut(true);\n\t\ttry {\n\t\t\tawait logoutOtherClients();\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'success',\n\t\t\t\tmessage: t('Logged_out_of_other_clients_successfully'),\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t\tsetLoggingOut(false);\n\t}, [logoutOtherClients, dispatchToastMessage, t]);\n\n\tconst handleConfirmOwnerChange = useCallback(\n\t\t(passwordOrUsername, shouldChangeOwner, shouldBeRemoved) => {\n\t\t\tconst handleConfirm = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait deleteOwnAccount(SHA256(passwordOrUsername), true);\n\t\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\t\tcloseModal();\n\t\t\t\t\tlogout();\n\t\t\t\t} catch (error) {\n\t\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn setModal(() => (\n\t\t\t\t<ConfirmOwnerChangeWarningModal\n\t\t\t\t\tonConfirm={handleConfirm}\n\t\t\t\t\tonCancel={closeModal}\n\t\t\t\t\tcontentTitle={t(`Delete_User_Warning_${erasureType}`)}\n\t\t\t\t\tconfirmLabel={t('Delete')}\n\t\t\t\t\tshouldChangeOwner={shouldChangeOwner}\n\t\t\t\t\tshouldBeRemoved={shouldBeRemoved}\n\t\t\t\t/>\n\t\t\t));\n\t\t},\n\t\t[closeModal, erasureType, setModal, t, deleteOwnAccount, dispatchToastMessage, logout],\n\t);\n\n\tconst handleDeleteOwnAccount = useCallback(async () => {\n\t\tconst handleConfirm = async (passwordOrUsername) => {\n\t\t\ttry {\n\t\t\t\tawait deleteOwnAccount(SHA256(passwordOrUsername));\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('User_has_been_deleted') });\n\t\t\t\tlogout();\n\t\t\t} catch (error) {\n\t\t\t\tif (error.error === 'user-last-owner') {\n\t\t\t\t\tconst { shouldChangeOwner, shouldBeRemoved } = error.details;\n\t\t\t\t\treturn handleConfirmOwnerChange(passwordOrUsername, shouldChangeOwner, shouldBeRemoved);\n\t\t\t\t}\n\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t};\n\n\t\treturn setModal(() => <ActionConfirmModal onConfirm={handleConfirm} onCancel={closeModal} isPassword={localPassword} />);\n\t}, [closeModal, dispatchToastMessage, localPassword, setModal, handleConfirmOwnerChange, deleteOwnAccount, logout, t]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Profile')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button primary danger disabled={!hasUnsavedChanges} onClick={reset}>\n\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary disabled={!hasUnsavedChanges || !canSave || loggingOut} onClick={onSave}>\n\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Header>\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='600px' w='full' alignSelf='center'>\n\t\t\t\t\t<AccountProfileForm\n\t\t\t\t\t\tvalues={values}\n\t\t\t\t\t\thandlers={handlers}\n\t\t\t\t\t\tuser={user ?? { emails: [] }}\n\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\tonSaveStateChange={setCanSave}\n\t\t\t\t\t/>\n\t\t\t\t\t<ButtonGroup stretch mb='x12'>\n\t\t\t\t\t\t<Button onClick={handleLogoutOtherLocations} flexGrow={0} disabled={loggingOut}>\n\t\t\t\t\t\t\t{t('Logout_Others')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{allowDeleteOwnAccount && (\n\t\t\t\t\t\t\t<Button danger onClick={handleDeleteOwnAccount}>\n\t\t\t\t\t\t\t\t<Icon name='trash' size='x20' mie='x4' />\n\t\t\t\t\t\t\t\t{t('Delete_my_account')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n\nexport default AccountProfilePage;\n"]},"sourceType":"module","hash":"03122a86fde2927f0a421c737c5a443a1e1b93e5"}
