{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/preferences/PreferencesMessagesSection.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/account/preferences/PreferencesMessagesSection.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/preferences/PreferencesMessagesSection.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/preferences/PreferencesMessagesSection.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/preferences/PreferencesMessagesSection.js"}},"code":"var _excluded = [\"onChange\", \"commitRef\"];\n\nvar _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\n\nvar _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\nvar Accordion, Field, Select, FieldGroup, ToggleSwitch;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Accordion: function (v) {\n    Accordion = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  Select: function (v) {\n    Select = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  ToggleSwitch: function (v) {\n    ToggleSwitch = v;\n  }\n}, 0);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 1);\nvar useSetting;\nmodule.link(\"../../../contexts/SettingsContext\", {\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 2);\nvar useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 3);\nvar useUserPreference;\nmodule.link(\"../../../contexts/UserContext\", {\n  useUserPreference: function (v) {\n    useUserPreference = v;\n  }\n}, 4);\nvar useForm;\nmodule.link(\"../../../hooks/useForm\", {\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 5);\n\nvar PreferencesMessagesSection = function (_ref) {\n  var _useUserPreference;\n\n  var onChange = _ref.onChange,\n      commitRef = _ref.commitRef,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var t = useTranslation();\n  var showRoles = useSetting('UI_DisplayRoles');\n  var settings = {\n    unreadAlert: useUserPreference('unreadAlert'),\n    showMessageInMainThread: useUserPreference('showMessageInMainThread'),\n    useEmojis: useUserPreference('useEmojis'),\n    convertAsciiEmoji: useUserPreference('convertAsciiEmoji'),\n    autoImageLoad: useUserPreference('autoImageLoad'),\n    saveMobileBandwidth: useUserPreference('saveMobileBandwidth'),\n    collapseMediaByDefault: useUserPreference('collapseMediaByDefault'),\n    hideUsernames: useUserPreference('hideUsernames'),\n    hideRoles: useUserPreference('hideRoles'),\n    hideFlexTab: useUserPreference('hideFlexTab'),\n    clockMode: (_useUserPreference = useUserPreference('clockMode')) !== null && _useUserPreference !== void 0 ? _useUserPreference : 0,\n    sendOnEnter: useUserPreference('sendOnEnter'),\n    messageViewMode: useUserPreference('messageViewMode'),\n    displayAvatars: useUserPreference('displayAvatars')\n  };\n\n  var _useForm = useForm(settings, onChange),\n      values = _useForm.values,\n      handlers = _useForm.handlers,\n      commit = _useForm.commit;\n\n  var unreadAlert = values.unreadAlert,\n      showMessageInMainThread = values.showMessageInMainThread,\n      useEmojis = values.useEmojis,\n      convertAsciiEmoji = values.convertAsciiEmoji,\n      autoImageLoad = values.autoImageLoad,\n      saveMobileBandwidth = values.saveMobileBandwidth,\n      collapseMediaByDefault = values.collapseMediaByDefault,\n      hideUsernames = values.hideUsernames,\n      hideRoles = values.hideRoles,\n      hideFlexTab = values.hideFlexTab,\n      displayAvatars = values.displayAvatars,\n      clockMode = values.clockMode,\n      sendOnEnter = values.sendOnEnter,\n      messageViewMode = values.messageViewMode;\n  var handleUnreadAlert = handlers.handleUnreadAlert,\n      handleShowMessageInMainThread = handlers.handleShowMessageInMainThread,\n      handleUseEmojis = handlers.handleUseEmojis,\n      handleConvertAsciiEmoji = handlers.handleConvertAsciiEmoji,\n      handleAutoImageLoad = handlers.handleAutoImageLoad,\n      handleSaveMobileBandwidth = handlers.handleSaveMobileBandwidth,\n      handleCollapseMediaByDefault = handlers.handleCollapseMediaByDefault,\n      handleHideUsernames = handlers.handleHideUsernames,\n      handleHideRoles = handlers.handleHideRoles,\n      handleHideFlexTab = handlers.handleHideFlexTab,\n      handleDisplayAvatars = handlers.handleDisplayAvatars,\n      handleClockMode = handlers.handleClockMode,\n      handleSendOnEnter = handlers.handleSendOnEnter,\n      handleMessageViewMode = handlers.handleMessageViewMode;\n  var timeFormatOptions = useMemo(function () {\n    return [[0, t('Default')], [1, t('12_Hour')], [2, t('24_Hour')]];\n  }, [t]);\n  var sendOnEnterOptions = useMemo(function () {\n    return [['normal', t('Enter_Normal')], ['alternative', t('Enter_Alternative')], ['desktop', t('Only_On_Desktop')]];\n  }, [t]);\n  var messageViewModeOptions = useMemo(function () {\n    return [[0, t('Normal')], [1, t('Cozy')], [2, t('Compact')]];\n  }, [t]);\n  commitRef.current.messages = commit; // TODO: Weird behaviour when saving clock mode, and then changing it.\n\n  return /*#__PURE__*/React.createElement(Accordion.Item, _extends({\n    title: t('Messages')\n  }, props), /*#__PURE__*/React.createElement(FieldGroup, null, useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Unread_Tray_Icon_Alert')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: unreadAlert,\n      onChange: handleUnreadAlert\n    })));\n  }, [handleUnreadAlert, t, unreadAlert]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Show_Message_In_Main_Thread')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: showMessageInMainThread,\n      onChange: handleShowMessageInMainThread\n    })));\n  }, [handleShowMessageInMainThread, showMessageInMainThread, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Message_TimeFormat')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Select, {\n      value: clockMode,\n      onChange: handleClockMode,\n      options: timeFormatOptions\n    })));\n  }, [clockMode, handleClockMode, t, timeFormatOptions]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Use_Emojis')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: useEmojis,\n      onChange: handleUseEmojis\n    })));\n  }, [handleUseEmojis, t, useEmojis]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Convert_Ascii_Emojis')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: convertAsciiEmoji,\n      onChange: handleConvertAsciiEmoji\n    })));\n  }, [convertAsciiEmoji, handleConvertAsciiEmoji, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Auto_Load_Images')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: autoImageLoad,\n      onChange: handleAutoImageLoad\n    })));\n  }, [autoImageLoad, handleAutoImageLoad, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Save_Mobile_Bandwidth')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: saveMobileBandwidth,\n      onChange: handleSaveMobileBandwidth\n    })));\n  }, [handleSaveMobileBandwidth, saveMobileBandwidth, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Collapse_Embedded_Media_By_Default')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: collapseMediaByDefault,\n      onChange: handleCollapseMediaByDefault\n    })));\n  }, [collapseMediaByDefault, handleCollapseMediaByDefault, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Hide_usernames')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: hideUsernames,\n      onChange: handleHideUsernames\n    })));\n  }, [handleHideUsernames, hideUsernames, t]), useMemo(function () {\n    return showRoles && /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Hide_roles')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: hideRoles,\n      onChange: handleHideRoles\n    })));\n  }, [handleHideRoles, hideRoles, showRoles, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Hide_flextab')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: hideFlexTab,\n      onChange: handleHideFlexTab\n    })));\n  }, [handleHideFlexTab, hideFlexTab, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"spaceBetween\",\n      flexGrow: 1\n    }, /*#__PURE__*/React.createElement(Field.Label, null, t('Display_avatars')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n      checked: displayAvatars,\n      onChange: handleDisplayAvatars\n    })));\n  }, [handleDisplayAvatars, displayAvatars, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Enter_Behaviour')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Select, {\n      value: sendOnEnter,\n      onChange: handleSendOnEnter,\n      options: sendOnEnterOptions\n    })), /*#__PURE__*/React.createElement(Field.Hint, null, t('Enter_Behaviour_Description')));\n  }, [handleSendOnEnter, sendOnEnter, sendOnEnterOptions, t]), useMemo(function () {\n    return /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('View_mode')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Select, {\n      value: messageViewMode,\n      onChange: handleMessageViewMode,\n      options: messageViewModeOptions\n    })), /*#__PURE__*/React.createElement(Field.Hint, null, t('Message_view_mode_info')));\n  }, [handleMessageViewMode, messageViewMode, messageViewModeOptions, t])));\n};\n\nmodule.exportDefault(PreferencesMessagesSection);","map":{"version":3,"sources":["client/views/account/preferences/PreferencesMessagesSection.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","Accordion","Field","Select","FieldGroup","ToggleSwitch","React","useMemo","useSetting","useTranslation","useUserPreference","useForm","PreferencesMessagesSection","onChange","commitRef","props","t","showRoles","settings","unreadAlert","showMessageInMainThread","useEmojis","convertAsciiEmoji","autoImageLoad","saveMobileBandwidth","collapseMediaByDefault","hideUsernames","hideRoles","hideFlexTab","clockMode","sendOnEnter","messageViewMode","displayAvatars","values","handlers","commit","handleUnreadAlert","handleShowMessageInMainThread","handleUseEmojis","handleConvertAsciiEmoji","handleAutoImageLoad","handleSaveMobileBandwidth","handleCollapseMediaByDefault","handleHideUsernames","handleHideRoles","handleHideFlexTab","handleDisplayAvatars","handleClockMode","handleSendOnEnter","handleMessageViewMode","timeFormatOptions","sendOnEnterOptions","messageViewModeOptions","current","messages","exportDefault"],"mappings":"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","sourcesContent":["import { Accordion, Field, Select, FieldGroup, ToggleSwitch } from '@rocket.chat/fuselage';\nimport React, { useMemo } from 'react';\n\nimport { useSetting } from '../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useUserPreference } from '../../../contexts/UserContext';\nimport { useForm } from '../../../hooks/useForm';\n\nconst PreferencesMessagesSection = ({ onChange, commitRef, ...props }) => {\n\tconst t = useTranslation();\n\n\tconst showRoles = useSetting('UI_DisplayRoles');\n\n\tconst settings = {\n\t\tunreadAlert: useUserPreference('unreadAlert'),\n\t\tshowMessageInMainThread: useUserPreference('showMessageInMainThread'),\n\t\tuseEmojis: useUserPreference('useEmojis'),\n\t\tconvertAsciiEmoji: useUserPreference('convertAsciiEmoji'),\n\t\tautoImageLoad: useUserPreference('autoImageLoad'),\n\t\tsaveMobileBandwidth: useUserPreference('saveMobileBandwidth'),\n\t\tcollapseMediaByDefault: useUserPreference('collapseMediaByDefault'),\n\t\thideUsernames: useUserPreference('hideUsernames'),\n\t\thideRoles: useUserPreference('hideRoles'),\n\t\thideFlexTab: useUserPreference('hideFlexTab'),\n\t\tclockMode: useUserPreference('clockMode') ?? 0,\n\t\tsendOnEnter: useUserPreference('sendOnEnter'),\n\t\tmessageViewMode: useUserPreference('messageViewMode'),\n\t\tdisplayAvatars: useUserPreference('displayAvatars'),\n\t};\n\n\tconst { values, handlers, commit } = useForm(settings, onChange);\n\n\tconst {\n\t\tunreadAlert,\n\t\tshowMessageInMainThread,\n\t\tuseEmojis,\n\t\tconvertAsciiEmoji,\n\t\tautoImageLoad,\n\t\tsaveMobileBandwidth,\n\t\tcollapseMediaByDefault,\n\t\thideUsernames,\n\t\thideRoles,\n\t\thideFlexTab,\n\t\tdisplayAvatars,\n\t\tclockMode,\n\t\tsendOnEnter,\n\t\tmessageViewMode,\n\t} = values;\n\n\tconst {\n\t\thandleUnreadAlert,\n\t\thandleShowMessageInMainThread,\n\t\thandleUseEmojis,\n\t\thandleConvertAsciiEmoji,\n\t\thandleAutoImageLoad,\n\t\thandleSaveMobileBandwidth,\n\t\thandleCollapseMediaByDefault,\n\t\thandleHideUsernames,\n\t\thandleHideRoles,\n\t\thandleHideFlexTab,\n\t\thandleDisplayAvatars,\n\t\thandleClockMode,\n\t\thandleSendOnEnter,\n\t\thandleMessageViewMode,\n\t} = handlers;\n\n\tconst timeFormatOptions = useMemo(\n\t\t() => [\n\t\t\t[0, t('Default')],\n\t\t\t[1, t('12_Hour')],\n\t\t\t[2, t('24_Hour')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst sendOnEnterOptions = useMemo(\n\t\t() => [\n\t\t\t['normal', t('Enter_Normal')],\n\t\t\t['alternative', t('Enter_Alternative')],\n\t\t\t['desktop', t('Only_On_Desktop')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst messageViewModeOptions = useMemo(\n\t\t() => [\n\t\t\t[0, t('Normal')],\n\t\t\t[1, t('Cozy')],\n\t\t\t[2, t('Compact')],\n\t\t],\n\t\t[t],\n\t);\n\n\tcommitRef.current.messages = commit;\n\n\t// TODO: Weird behaviour when saving clock mode, and then changing it.\n\n\treturn (\n\t\t<Accordion.Item title={t('Messages')} {...props}>\n\t\t\t<FieldGroup>\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Unread_Tray_Icon_Alert')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={unreadAlert} onChange={handleUnreadAlert} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleUnreadAlert, t, unreadAlert],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Show_Message_In_Main_Thread')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={showMessageInMainThread} onChange={handleShowMessageInMainThread} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleShowMessageInMainThread, showMessageInMainThread, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Field.Label>{t('Message_TimeFormat')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<Select value={clockMode} onChange={handleClockMode} options={timeFormatOptions} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[clockMode, handleClockMode, t, timeFormatOptions],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Use_Emojis')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={useEmojis} onChange={handleUseEmojis} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleUseEmojis, t, useEmojis],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Convert_Ascii_Emojis')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={convertAsciiEmoji} onChange={handleConvertAsciiEmoji} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[convertAsciiEmoji, handleConvertAsciiEmoji, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Auto_Load_Images')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={autoImageLoad} onChange={handleAutoImageLoad} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[autoImageLoad, handleAutoImageLoad, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Save_Mobile_Bandwidth')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={saveMobileBandwidth} onChange={handleSaveMobileBandwidth} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleSaveMobileBandwidth, saveMobileBandwidth, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Collapse_Embedded_Media_By_Default')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={collapseMediaByDefault} onChange={handleCollapseMediaByDefault} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[collapseMediaByDefault, handleCollapseMediaByDefault, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Hide_usernames')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={hideUsernames} onChange={handleHideUsernames} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleHideUsernames, hideUsernames, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() =>\n\t\t\t\t\t\tshowRoles && (\n\t\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Hide_roles')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={hideRoles} onChange={handleHideRoles} />\n\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t),\n\t\t\t\t\t[handleHideRoles, hideRoles, showRoles, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Hide_flextab')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={hideFlexTab} onChange={handleHideFlexTab} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleHideFlexTab, hideFlexTab, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Display_avatars')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={displayAvatars} onChange={handleDisplayAvatars} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleDisplayAvatars, displayAvatars, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Field.Label>{t('Enter_Behaviour')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<Select value={sendOnEnter} onChange={handleSendOnEnter} options={sendOnEnterOptions} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t<Field.Hint>{t('Enter_Behaviour_Description')}</Field.Hint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleSendOnEnter, sendOnEnter, sendOnEnterOptions, t],\n\t\t\t\t)}\n\t\t\t\t{useMemo(\n\t\t\t\t\t() => (\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Field.Label>{t('View_mode')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<Select value={messageViewMode} onChange={handleMessageViewMode} options={messageViewModeOptions} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t<Field.Hint>{t('Message_view_mode_info')}</Field.Hint>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t),\n\t\t\t\t\t[handleMessageViewMode, messageViewMode, messageViewModeOptions, t],\n\t\t\t\t)}\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesMessagesSection;\n"]},"sourceType":"module","hash":"2c09a5ead4ca8dd6ac677acab9b8000400983c3f"}
