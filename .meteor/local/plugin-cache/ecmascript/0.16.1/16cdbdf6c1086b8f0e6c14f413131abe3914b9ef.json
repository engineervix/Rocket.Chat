{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/settings/Setting.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/settings/Setting.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/settings/Setting.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/settings/Setting.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/settings/Setting.js"}},"code":"var _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default: function (v) {\n    _extends = v;\n  }\n}, 0);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 1);\n\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 2);\nvar useDebouncedCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedCallback: function (v) {\n    useDebouncedCallback = v;\n  }\n}, 0);\nvar React, useEffect, useMemo, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useEffect: function (v) {\n    useEffect = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 1);\nvar MarkdownText;\nmodule.link(\"../../../components/MarkdownText\", {\n  \"default\": function (v) {\n    MarkdownText = v;\n  }\n}, 2);\nvar useEditableSetting, useEditableSettingsDispatch;\nmodule.link(\"../../../contexts/EditableSettingsContext\", {\n  useEditableSetting: function (v) {\n    useEditableSetting = v;\n  },\n  useEditableSettingsDispatch: function (v) {\n    useEditableSettingsDispatch = v;\n  }\n}, 3);\nvar useSettingStructure;\nmodule.link(\"../../../contexts/SettingsContext\", {\n  useSettingStructure: function (v) {\n    useSettingStructure = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\nvar MemoizedSetting;\nmodule.link(\"./MemoizedSetting\", {\n  \"default\": function (v) {\n    MemoizedSetting = v;\n  }\n}, 6);\nvar SettingSkeleton;\nmodule.link(\"./SettingSkeleton\", {\n  \"default\": function (v) {\n    SettingSkeleton = v;\n  }\n}, 7);\n\nfunction Setting(_ref) {\n  var className = _ref.className,\n      settingId = _ref.settingId,\n      sectionChanged = _ref.sectionChanged;\n  var setting = useEditableSetting(settingId);\n  var persistedSetting = useSettingStructure(settingId);\n  var dispatch = useEditableSettingsDispatch();\n  var update = useDebouncedCallback(function (_ref2) {\n    var value = _ref2.value,\n        editor = _ref2.editor;\n\n    if (!persistedSetting) {\n      return;\n    }\n\n    dispatch([_objectSpread(_objectSpread(_objectSpread({\n      _id: persistedSetting._id\n    }, value !== undefined && {\n      value: value\n    }), editor !== undefined && {\n      editor: editor\n    }), {}, {\n      changed: JSON.stringify(persistedSetting.value) !== JSON.stringify(value) || JSON.stringify(persistedSetting.editor) !== JSON.stringify(editor)\n    })]);\n  }, 230, [persistedSetting, dispatch]);\n  var t = useTranslation();\n\n  var _useState = useState(setting.value),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(setting.editor),\n      _useState4 = _slicedToArray(_useState3, 2),\n      editor = _useState4[0],\n      setEditor = _useState4[1];\n\n  useEffect(function () {\n    setValue(setting.value);\n  }, [setting.value]);\n  useEffect(function () {\n    setEditor(setting.editor);\n  }, [setting.editor]);\n  var onChangeValue = useCallback(function (value) {\n    setValue(value);\n    update({\n      value: value\n    });\n  }, [update]);\n  var onChangeEditor = useCallback(function (editor) {\n    setEditor(editor);\n    update({\n      editor: editor\n    });\n  }, [update]);\n  var onResetButtonClick = useCallback(function () {\n    setValue(setting.value);\n    setEditor(setting.editor);\n    update({\n      value: persistedSetting.packageValue,\n      editor: persistedSetting.packageEditor\n    });\n  }, [setting.value, setting.editor, update, persistedSetting]);\n  var _id = setting._id,\n      disabled = setting.disabled,\n      disableReset = setting.disableReset,\n      readonly = setting.readonly,\n      type = setting.type,\n      packageEditor = setting.packageEditor,\n      packageValue = setting.packageValue,\n      i18nLabel = setting.i18nLabel,\n      i18nDescription = setting.i18nDescription,\n      alert = setting.alert,\n      invisible = setting.invisible;\n  var label = i18nLabel && t(i18nLabel) || _id || t(_id);\n  var hint = useMemo(function () {\n    return t.has(i18nDescription) && /*#__PURE__*/React.createElement(MarkdownText, {\n      preserveHtml: true,\n      content: t(i18nDescription)\n    });\n  }, [i18nDescription, t]);\n  var callout = useMemo(function () {\n    return alert && /*#__PURE__*/React.createElement(\"span\", {\n      dangerouslySetInnerHTML: {\n        __html: t(alert)\n      }\n    });\n  }, [alert, t]);\n  var hasResetButton = !disableReset && !readonly && type !== 'asset' && (JSON.stringify(packageEditor) !== JSON.stringify(editor) || JSON.stringify(value) !== JSON.stringify(packageValue)) && !disabled;\n  return /*#__PURE__*/React.createElement(MemoizedSetting, _extends({\n    className: className,\n    type: type,\n    label: label,\n    hint: hint,\n    callout: callout,\n    sectionChanged: sectionChanged\n  }, setting, {\n    value: value,\n    editor: editor,\n    hasResetButton: hasResetButton,\n    onChangeValue: onChangeValue,\n    onChangeEditor: onChangeEditor,\n    onResetButtonClick: onResetButtonClick,\n    invisible: invisible\n  }));\n}\n\nmodule.exportDefault(Object.assign(Setting, {\n  Memoized: MemoizedSetting,\n  Skeleton: SettingSkeleton\n}));","map":{"version":3,"sources":["client/views/admin/settings/Setting.js"],"names":["_extends","module","link","default","v","_slicedToArray","_objectSpread","useDebouncedCallback","React","useEffect","useMemo","useState","useCallback","MarkdownText","useEditableSetting","useEditableSettingsDispatch","useSettingStructure","useTranslation","MemoizedSetting","SettingSkeleton","Setting","className","settingId","sectionChanged","setting","persistedSetting","dispatch","update","value","editor","_id","undefined","changed","JSON","stringify","t","setValue","setEditor","onChangeValue","onChangeEditor","onResetButtonClick","packageValue","packageEditor","disabled","disableReset","readonly","type","i18nLabel","i18nDescription","alert","invisible","label","hint","has","callout","__html","hasResetButton","exportDefault","Object","assign","Memoized","Skeleton"],"mappings":"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","sourcesContent":["import { useDebouncedCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\n\nimport MarkdownText from '../../../components/MarkdownText';\nimport { useEditableSetting, useEditableSettingsDispatch } from '../../../contexts/EditableSettingsContext';\nimport { useSettingStructure } from '../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport MemoizedSetting from './MemoizedSetting';\nimport SettingSkeleton from './SettingSkeleton';\n\nfunction Setting({ className, settingId, sectionChanged }) {\n\tconst setting = useEditableSetting(settingId);\n\n\tconst persistedSetting = useSettingStructure(settingId);\n\tconst dispatch = useEditableSettingsDispatch();\n\n\tconst update = useDebouncedCallback(\n\t\t({ value, editor }) => {\n\t\t\tif (!persistedSetting) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatch([\n\t\t\t\t{\n\t\t\t\t\t_id: persistedSetting._id,\n\t\t\t\t\t...(value !== undefined && { value }),\n\t\t\t\t\t...(editor !== undefined && { editor }),\n\t\t\t\t\tchanged:\n\t\t\t\t\t\tJSON.stringify(persistedSetting.value) !== JSON.stringify(value) ||\n\t\t\t\t\t\tJSON.stringify(persistedSetting.editor) !== JSON.stringify(editor),\n\t\t\t\t},\n\t\t\t]);\n\t\t},\n\t\t230,\n\t\t[persistedSetting, dispatch],\n\t);\n\n\tconst t = useTranslation();\n\n\tconst [value, setValue] = useState(setting.value);\n\tconst [editor, setEditor] = useState(setting.editor);\n\n\tuseEffect(() => {\n\t\tsetValue(setting.value);\n\t}, [setting.value]);\n\n\tuseEffect(() => {\n\t\tsetEditor(setting.editor);\n\t}, [setting.editor]);\n\n\tconst onChangeValue = useCallback(\n\t\t(value) => {\n\t\t\tsetValue(value);\n\t\t\tupdate({ value });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onChangeEditor = useCallback(\n\t\t(editor) => {\n\t\t\tsetEditor(editor);\n\t\t\tupdate({ editor });\n\t\t},\n\t\t[update],\n\t);\n\n\tconst onResetButtonClick = useCallback(() => {\n\t\tsetValue(setting.value);\n\t\tsetEditor(setting.editor);\n\t\tupdate({\n\t\t\tvalue: persistedSetting.packageValue,\n\t\t\teditor: persistedSetting.packageEditor,\n\t\t});\n\t}, [setting.value, setting.editor, update, persistedSetting]);\n\n\tconst { _id, disabled, disableReset, readonly, type, packageEditor, packageValue, i18nLabel, i18nDescription, alert, invisible } =\n\t\tsetting;\n\n\tconst label = (i18nLabel && t(i18nLabel)) || _id || t(_id);\n\tconst hint = useMemo(\n\t\t() => t.has(i18nDescription) && <MarkdownText preserveHtml={true} content={t(i18nDescription)} />,\n\t\t[i18nDescription, t],\n\t);\n\tconst callout = useMemo(() => alert && <span dangerouslySetInnerHTML={{ __html: t(alert) }} />, [alert, t]);\n\tconst hasResetButton =\n\t\t!disableReset &&\n\t\t!readonly &&\n\t\ttype !== 'asset' &&\n\t\t(JSON.stringify(packageEditor) !== JSON.stringify(editor) || JSON.stringify(value) !== JSON.stringify(packageValue)) &&\n\t\t!disabled;\n\n\treturn (\n\t\t<MemoizedSetting\n\t\t\tclassName={className}\n\t\t\ttype={type}\n\t\t\tlabel={label}\n\t\t\thint={hint}\n\t\t\tcallout={callout}\n\t\t\tsectionChanged={sectionChanged}\n\t\t\t{...setting}\n\t\t\tvalue={value}\n\t\t\teditor={editor}\n\t\t\thasResetButton={hasResetButton}\n\t\t\tonChangeValue={onChangeValue}\n\t\t\tonChangeEditor={onChangeEditor}\n\t\t\tonResetButtonClick={onResetButtonClick}\n\t\t\tinvisible={invisible}\n\t\t/>\n\t);\n}\n\nexport default Object.assign(Setting, {\n\tMemoized: MemoizedSetting,\n\tSkeleton: SettingSkeleton,\n});\n"]},"sourceType":"module","hash":"16cdbdf6c1086b8f0e6c14f413131abe3914b9ef"}
