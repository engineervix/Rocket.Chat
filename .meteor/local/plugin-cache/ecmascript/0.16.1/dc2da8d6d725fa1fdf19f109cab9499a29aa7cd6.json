{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/ui-login/client/login/services.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"app/ui-login/client/login/services.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/ui-login/client/login/services.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/ui-login/client/login/services.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/ui-login/client/login/services.js"}},"code":"let capitalize;\nmodule.link(\"@rocket.chat/string-helpers\", {\n  capitalize(v) {\n    capitalize = v;\n  }\n\n}, 0);\nlet Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 1);\nlet Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 2);\nlet ServiceConfiguration;\nmodule.link(\"meteor/service-configuration\", {\n  ServiceConfiguration(v) {\n    ServiceConfiguration = v;\n  }\n\n}, 3);\nlet dispatchToastMessage;\nmodule.link(\"../../../../client/lib/toast\", {\n  dispatchToastMessage(v) {\n    dispatchToastMessage = v;\n  }\n\n}, 4);\nTemplate.loginServices.helpers({\n  loginService() {\n    return ServiceConfiguration.configurations.find({\n      showButton: {\n        $ne: false\n      }\n    }, {\n      sort: {\n        service: 1\n      }\n    }).fetch().map(service => {\n      switch (service.service) {\n        case 'meteor-developer':\n          return {\n            service,\n            displayName: 'Meteor',\n            icon: 'meteor'\n          };\n\n        case 'github':\n          return {\n            service,\n            displayName: 'GitHub',\n            icon: 'github-circled'\n          };\n\n        case 'gitlab':\n          return {\n            service,\n            displayName: 'GitLab',\n            icon: service.service\n          };\n\n        case 'wordpress':\n          return {\n            service,\n            displayName: 'WordPress',\n            icon: service.service\n          };\n\n        default:\n          return {\n            service,\n            displayName: capitalize(String(service.service || '')),\n            icon: service.service\n          };\n      }\n    });\n  }\n\n});\nconst loginMethods = {\n  'meteor-developer': 'MeteorDeveloperAccount',\n  'linkedin': 'Linkedin'\n};\nTemplate.loginServices.events({\n  'click .external-login'(e) {\n    if (this.service == null || this.service.service == null) {\n      return;\n    }\n\n    const loadingIcon = $(e.currentTarget).find('.loading-icon');\n    const serviceIcon = $(e.currentTarget).find('.service-icon');\n    loadingIcon.removeClass('hidden');\n    serviceIcon.addClass('hidden');\n    const loginWithService = \"loginWith\".concat(loginMethods[this.service.service] || capitalize(String(this.service.service || '')));\n    const serviceConfig = this.service.clientConfig || {};\n    Meteor[loginWithService](serviceConfig, error => {\n      loadingIcon.addClass('hidden');\n      serviceIcon.removeClass('hidden');\n\n      if (!error) {\n        return;\n      }\n\n      if (error.reason) {\n        dispatchToastMessage({\n          type: 'error',\n          message: error.reason\n        });\n        return;\n      }\n\n      dispatchToastMessage({\n        type: 'error',\n        message: error.message\n      });\n    });\n  }\n\n});","map":{"version":3,"sources":["app/ui-login/client/login/services.js"],"names":["capitalize","module","link","v","Meteor","Template","ServiceConfiguration","dispatchToastMessage","loginServices","helpers","loginService","configurations","find","showButton","$ne","sort","service","fetch","map","displayName","icon","String","loginMethods","events","e","loadingIcon","$","currentTarget","serviceIcon","removeClass","addClass","loginWithService","serviceConfig","clientConfig","error","reason","type","message"],"mappings":"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","sourcesContent":["import { capitalize } from '@rocket.chat/string-helpers';\nimport { Meteor } from 'meteor/meteor';\nimport { Template } from 'meteor/templating';\nimport { ServiceConfiguration } from 'meteor/service-configuration';\n\nimport { dispatchToastMessage } from '../../../../client/lib/toast';\n\nTemplate.loginServices.helpers({\n\tloginService() {\n\t\treturn ServiceConfiguration.configurations\n\t\t\t.find(\n\t\t\t\t{\n\t\t\t\t\tshowButton: { $ne: false },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsort: {\n\t\t\t\t\t\tservice: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t)\n\t\t\t.fetch()\n\t\t\t.map((service) => {\n\t\t\t\tswitch (service.service) {\n\t\t\t\t\tcase 'meteor-developer':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\tdisplayName: 'Meteor',\n\t\t\t\t\t\t\ticon: 'meteor',\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'github':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\tdisplayName: 'GitHub',\n\t\t\t\t\t\t\ticon: 'github-circled',\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'gitlab':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\tdisplayName: 'GitLab',\n\t\t\t\t\t\t\ticon: service.service,\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'wordpress':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\tdisplayName: 'WordPress',\n\t\t\t\t\t\t\ticon: service.service,\n\t\t\t\t\t\t};\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tservice,\n\t\t\t\t\t\t\tdisplayName: capitalize(String(service.service || '')),\n\t\t\t\t\t\t\ticon: service.service,\n\t\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t});\n\t},\n});\n\nconst loginMethods = {\n\t'meteor-developer': 'MeteorDeveloperAccount',\n\t'linkedin': 'Linkedin',\n};\n\nTemplate.loginServices.events({\n\t'click .external-login'(e) {\n\t\tif (this.service == null || this.service.service == null) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst loadingIcon = $(e.currentTarget).find('.loading-icon');\n\t\tconst serviceIcon = $(e.currentTarget).find('.service-icon');\n\t\tloadingIcon.removeClass('hidden');\n\t\tserviceIcon.addClass('hidden');\n\n\t\tconst loginWithService = `loginWith${loginMethods[this.service.service] || capitalize(String(this.service.service || ''))}`;\n\t\tconst serviceConfig = this.service.clientConfig || {};\n\n\t\tMeteor[loginWithService](serviceConfig, (error) => {\n\t\t\tloadingIcon.addClass('hidden');\n\t\t\tserviceIcon.removeClass('hidden');\n\n\t\t\tif (!error) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (error.reason) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error.reason });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'error', message: error.message });\n\t\t});\n\t},\n});\n"]},"sourceType":"module","hash":"dc2da8d6d725fa1fdf19f109cab9499a29aa7cd6"}
