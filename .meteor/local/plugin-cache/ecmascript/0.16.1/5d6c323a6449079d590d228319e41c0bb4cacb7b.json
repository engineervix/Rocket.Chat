{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/Call/Jitsi/lib/JitsiBridge.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/Call/Jitsi/lib/JitsiBridge.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/Call/Jitsi/lib/JitsiBridge.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/Call/Jitsi/lib/JitsiBridge.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/Call/Jitsi/lib/JitsiBridge.js"}},"code":"var _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 0);\nmodule.export({\n  JitsiBridge: function () {\n    return JitsiBridge;\n  }\n});\nvar Emitter;\nmodule.link(\"@rocket.chat/emitter\", {\n  Emitter: function (v) {\n    Emitter = v;\n  }\n}, 0);\nvar JitsiMeetExternalAPI;\nmodule.link(\"./Jitsi\", {\n  JitsiMeetExternalAPI: function (v) {\n    JitsiMeetExternalAPI = v;\n  }\n}, 1);\n\nvar JitsiBridge = /*#__PURE__*/function (_Emitter) {\n  _inheritsLoose(JitsiBridge, _Emitter);\n\n  function JitsiBridge(_ref, heartbeat) {\n    var _this;\n\n    var openNewWindow = _ref.openNewWindow,\n        ssl = _ref.ssl,\n        domain = _ref.domain,\n        jitsiRoomName = _ref.jitsiRoomName,\n        accessToken = _ref.accessToken,\n        desktopSharingChromeExtId = _ref.desktopSharingChromeExtId,\n        name = _ref.name;\n    _this = _Emitter.call(this) || this;\n    _this.openNewWindow = openNewWindow;\n    _this.ssl = ssl;\n    _this.domain = domain;\n    _this.jitsiRoomName = jitsiRoomName;\n    _this.accessToken = accessToken;\n    _this.desktopSharingChromeExtId = desktopSharingChromeExtId;\n    _this.name = name;\n    _this.heartbeat = heartbeat;\n    _this.window = undefined;\n    _this.needsStart = false;\n    return _this;\n  }\n\n  var _proto = JitsiBridge.prototype;\n\n  _proto.start = function () {\n    function start(domTarget) {\n      var _this2 = this;\n\n      if (!this.needsStart) {\n        return;\n      }\n\n      this.needsStart = false;\n      var heartbeatTimer = setInterval(function () {\n        return _this2.emit('HEARTBEAT', true);\n      }, this.heartbeat);\n      this.once('dispose', function () {\n        return clearTimeout(heartbeatTimer);\n      });\n      var openNewWindow = this.openNewWindow,\n          ssl = this.ssl,\n          domain = this.domain,\n          jitsiRoomName = this.jitsiRoomName,\n          accessToken = this.accessToken,\n          desktopSharingChromeExtId = this.desktopSharingChromeExtId,\n          name = this.name;\n      var protocol = ssl ? 'https://' : 'http://';\n      var configOverwrite = {\n        desktopSharingChromeExtId: desktopSharingChromeExtId\n      };\n      var interfaceConfigOverwrite = {};\n\n      if (openNewWindow) {\n        var queryString = accessToken ? \"?jwt=\" + accessToken : '';\n        var newWindow = window.open(protocol + domain + \"/\" + jitsiRoomName + queryString, jitsiRoomName);\n\n        if (!newWindow) {\n          return;\n        }\n\n        var timer = setInterval(function () {\n          if (newWindow.closed) {\n            _this2.dispose();\n          }\n        }, 1000);\n        this.once('dispose', function () {\n          return clearTimeout(timer);\n        });\n        this.window = newWindow;\n        return newWindow.focus();\n      }\n\n      var width = 'auto';\n      var height = 500;\n      var api = new JitsiMeetExternalAPI(domain, jitsiRoomName, width, height, domTarget, configOverwrite, interfaceConfigOverwrite, !ssl, accessToken); // eslint-disable-line no-undef\n\n      api.executeCommand('displayName', [name]);\n      this.once('dispose', function () {\n        return api.dispose();\n      });\n    }\n\n    return start;\n  }();\n\n  _proto.dispose = function () {\n    function dispose() {\n      clearInterval(this.timer);\n      this.emit('dispose', true);\n    }\n\n    return dispose;\n  }();\n\n  return JitsiBridge;\n}(Emitter);","map":{"version":3,"sources":["client/views/room/contextualBar/Call/Jitsi/lib/JitsiBridge.js"],"names":["_inheritsLoose","module","link","default","v","export","JitsiBridge","Emitter","JitsiMeetExternalAPI","heartbeat","openNewWindow","ssl","domain","jitsiRoomName","accessToken","desktopSharingChromeExtId","name","window","undefined","needsStart","start","domTarget","heartbeatTimer","setInterval","emit","once","clearTimeout","protocol","configOverwrite","interfaceConfigOverwrite","queryString","newWindow","open","timer","closed","dispose","focus","width","height","api","executeCommand","clearInterval"],"mappings":"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","sourcesContent":["import { Emitter } from '@rocket.chat/emitter';\n\nimport { JitsiMeetExternalAPI } from './Jitsi';\n\nexport class JitsiBridge extends Emitter {\n\tconstructor({ openNewWindow, ssl, domain, jitsiRoomName, accessToken, desktopSharingChromeExtId, name }, heartbeat) {\n\t\tsuper();\n\n\t\tthis.openNewWindow = openNewWindow;\n\t\tthis.ssl = ssl;\n\t\tthis.domain = domain;\n\t\tthis.jitsiRoomName = jitsiRoomName;\n\t\tthis.accessToken = accessToken;\n\t\tthis.desktopSharingChromeExtId = desktopSharingChromeExtId;\n\t\tthis.name = name;\n\t\tthis.heartbeat = heartbeat;\n\t\tthis.window = undefined;\n\t\tthis.needsStart = false;\n\t}\n\n\tstart(domTarget) {\n\t\tif (!this.needsStart) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.needsStart = false;\n\n\t\tconst heartbeatTimer = setInterval(() => this.emit('HEARTBEAT', true), this.heartbeat);\n\t\tthis.once('dispose', () => clearTimeout(heartbeatTimer));\n\n\t\tconst { openNewWindow, ssl, domain, jitsiRoomName, accessToken, desktopSharingChromeExtId, name } = this;\n\n\t\tconst protocol = ssl ? 'https://' : 'http://';\n\n\t\tconst configOverwrite = {\n\t\t\tdesktopSharingChromeExtId,\n\t\t};\n\n\t\tconst interfaceConfigOverwrite = {};\n\n\t\tif (openNewWindow) {\n\t\t\tconst queryString = accessToken ? `?jwt=${accessToken}` : '';\n\t\t\tconst newWindow = window.open(`${protocol + domain}/${jitsiRoomName}${queryString}`, jitsiRoomName);\n\n\t\t\tif (!newWindow) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst timer = setInterval(() => {\n\t\t\t\tif (newWindow.closed) {\n\t\t\t\t\tthis.dispose();\n\t\t\t\t}\n\t\t\t}, 1000);\n\n\t\t\tthis.once('dispose', () => clearTimeout(timer));\n\t\t\tthis.window = newWindow;\n\t\t\treturn newWindow.focus();\n\t\t}\n\n\t\tconst width = 'auto';\n\t\tconst height = 500;\n\n\t\tconst api = new JitsiMeetExternalAPI(\n\t\t\tdomain,\n\t\t\tjitsiRoomName,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tdomTarget,\n\t\t\tconfigOverwrite,\n\t\t\tinterfaceConfigOverwrite,\n\t\t\t!ssl,\n\t\t\taccessToken,\n\t\t); // eslint-disable-line no-undef\n\t\tapi.executeCommand('displayName', [name]);\n\t\tthis.once('dispose', () => api.dispose());\n\t}\n\n\tdispose() {\n\t\tclearInterval(this.timer);\n\t\tthis.emit('dispose', true);\n\t}\n}\n"]},"sourceType":"module","hash":"5d6c323a6449079d590d228319e41c0bb4cacb7b"}
