{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/sidebar/AdminSidebar.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/admin/sidebar/AdminSidebar.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/sidebar/AdminSidebar.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/sidebar/AdminSidebar.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/sidebar/AdminSidebar.js"}},"code":"let React, useCallback, useMemo, useEffect, memo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useCallback(v) {\n    useCallback = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  },\n\n  useEffect(v) {\n    useEffect = v;\n  },\n\n  memo(v) {\n    memo = v;\n  }\n\n}, 0);\nlet menu, SideNav;\nmodule.link(\"../../../../app/ui-utils/client\", {\n  menu(v) {\n    menu = v;\n  },\n\n  SideNav(v) {\n    SideNav = v;\n  }\n\n}, 1);\nlet PlanTag;\nmodule.link(\"../../../components/PlanTag\", {\n  default(v) {\n    PlanTag = v;\n  }\n\n}, 2);\nlet Sidebar;\nmodule.link(\"../../../components/Sidebar\", {\n  default(v) {\n    Sidebar = v;\n  }\n\n}, 3);\nlet useAtLeastOnePermission;\nmodule.link(\"../../../contexts/AuthorizationContext\", {\n  useAtLeastOnePermission(v) {\n    useAtLeastOnePermission = v;\n  }\n\n}, 4);\nlet useRoutePath, useCurrentRoute;\nmodule.link(\"../../../contexts/RouterContext\", {\n  useRoutePath(v) {\n    useRoutePath = v;\n  },\n\n  useCurrentRoute(v) {\n    useCurrentRoute = v;\n  }\n\n}, 5);\nlet useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 6);\nlet isLayoutEmbedded;\nmodule.link(\"../../../lib/utils/isLayoutEmbedded\", {\n  isLayoutEmbedded(v) {\n    isLayoutEmbedded = v;\n  }\n\n}, 7);\nlet SettingsProvider;\nmodule.link(\"../../../providers/SettingsProvider\", {\n  default(v) {\n    SettingsProvider = v;\n  }\n\n}, 8);\nlet AdminSidebarPages;\nmodule.link(\"./AdminSidebarPages\", {\n  default(v) {\n    AdminSidebarPages = v;\n  }\n\n}, 9);\nlet AdminSidebarSettings;\nmodule.link(\"./AdminSidebarSettings\", {\n  default(v) {\n    AdminSidebarSettings = v;\n  }\n\n}, 10);\n\nfunction AdminSidebar() {\n  const t = useTranslation();\n  const canViewSettings = useAtLeastOnePermission(useMemo(() => ['view-privileged-setting', 'edit-privileged-setting', 'manage-selected-settings'], []));\n  const closeAdminFlex = useCallback(() => {\n    if (isLayoutEmbedded()) {\n      menu.close();\n      return;\n    }\n\n    SideNav.closeFlex();\n  }, []);\n  const currentRoute = useCurrentRoute();\n  const currentPath = useRoutePath(...currentRoute);\n  const [,,, currentRouteGroupName] = currentRoute;\n  useEffect(() => {\n    if (currentRouteGroupName !== 'admin') {\n      SideNav.toggleFlex(-1);\n    }\n  }, [currentRouteGroupName]); // TODO: uplift this provider\n\n  return /*#__PURE__*/React.createElement(SettingsProvider, {\n    privileged: true\n  }, /*#__PURE__*/React.createElement(Sidebar, null, /*#__PURE__*/React.createElement(Sidebar.Header, {\n    onClose: closeAdminFlex,\n    title: /*#__PURE__*/React.createElement(React.Fragment, null, t('Administration'), \" \", /*#__PURE__*/React.createElement(PlanTag, null))\n  }), /*#__PURE__*/React.createElement(Sidebar.Content, null, /*#__PURE__*/React.createElement(AdminSidebarPages, {\n    currentPath: currentPath\n  }), canViewSettings && /*#__PURE__*/React.createElement(AdminSidebarSettings, {\n    currentPath: currentPath\n  }))));\n}\n\nmodule.exportDefault( /*#__PURE__*/memo(AdminSidebar));","map":{"version":3,"sources":["client/views/admin/sidebar/AdminSidebar.js"],"names":["React","useCallback","useMemo","useEffect","memo","module","link","default","v","menu","SideNav","PlanTag","Sidebar","useAtLeastOnePermission","useRoutePath","useCurrentRoute","useTranslation","isLayoutEmbedded","SettingsProvider","AdminSidebarPages","AdminSidebarSettings","AdminSidebar","t","canViewSettings","closeAdminFlex","close","closeFlex","currentRoute","currentPath","currentRouteGroupName","toggleFlex","exportDefault"],"mappings":"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","sourcesContent":["import React, { useCallback, useMemo, useEffect, memo } from 'react';\n\nimport { menu, SideNav } from '../../../../app/ui-utils/client';\nimport PlanTag from '../../../components/PlanTag';\nimport Sidebar from '../../../components/Sidebar';\nimport { useAtLeastOnePermission } from '../../../contexts/AuthorizationContext';\nimport { useRoutePath, useCurrentRoute } from '../../../contexts/RouterContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { isLayoutEmbedded } from '../../../lib/utils/isLayoutEmbedded';\nimport SettingsProvider from '../../../providers/SettingsProvider';\nimport AdminSidebarPages from './AdminSidebarPages';\nimport AdminSidebarSettings from './AdminSidebarSettings';\n\nfunction AdminSidebar() {\n\tconst t = useTranslation();\n\n\tconst canViewSettings = useAtLeastOnePermission(\n\t\tuseMemo(() => ['view-privileged-setting', 'edit-privileged-setting', 'manage-selected-settings'], []),\n\t);\n\n\tconst closeAdminFlex = useCallback(() => {\n\t\tif (isLayoutEmbedded()) {\n\t\t\tmenu.close();\n\t\t\treturn;\n\t\t}\n\n\t\tSideNav.closeFlex();\n\t}, []);\n\n\tconst currentRoute = useCurrentRoute();\n\tconst currentPath = useRoutePath(...currentRoute);\n\tconst [, , , currentRouteGroupName] = currentRoute;\n\n\tuseEffect(() => {\n\t\tif (currentRouteGroupName !== 'admin') {\n\t\t\tSideNav.toggleFlex(-1);\n\t\t}\n\t}, [currentRouteGroupName]);\n\n\t// TODO: uplift this provider\n\treturn (\n\t\t<SettingsProvider privileged>\n\t\t\t<Sidebar>\n\t\t\t\t<Sidebar.Header\n\t\t\t\t\tonClose={closeAdminFlex}\n\t\t\t\t\ttitle={\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{t('Administration')} <PlanTag />\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Sidebar.Content>\n\t\t\t\t\t<AdminSidebarPages currentPath={currentPath} />\n\t\t\t\t\t{canViewSettings && <AdminSidebarSettings currentPath={currentPath} />}\n\t\t\t\t</Sidebar.Content>\n\t\t\t</Sidebar>\n\t\t</SettingsProvider>\n\t);\n}\n\nexport default memo(AdminSidebar);\n"]},"sourceType":"module","hash":"6191e50128d353b9d057ade3c7d918ef01d2d3b5"}
