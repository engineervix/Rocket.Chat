{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js"}},"code":"var _excluded = [\"joinCodeRequired\", \"hideSysMes\"];\n\nvar _regeneratorRuntime;\n\nmodule.link(\"@babel/runtime/regenerator\", {\n  default: function (v) {\n    _regeneratorRuntime = v;\n  }\n}, 0);\n\nvar _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default: function (v) {\n    _objectWithoutProperties = v;\n  }\n}, 1);\n\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 2);\n\nvar _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 3);\nvar Field, TextInput, PasswordInput, ToggleSwitch, MultiSelect, Accordion, Callout, NumberInput, FieldGroup, Button, ButtonGroup, Box, Icon, TextAreaInput;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Field: function (v) {\n    Field = v;\n  },\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  PasswordInput: function (v) {\n    PasswordInput = v;\n  },\n  ToggleSwitch: function (v) {\n    ToggleSwitch = v;\n  },\n  MultiSelect: function (v) {\n    MultiSelect = v;\n  },\n  Accordion: function (v) {\n    Accordion = v;\n  },\n  Callout: function (v) {\n    Callout = v;\n  },\n  NumberInput: function (v) {\n    NumberInput = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  },\n  Box: function (v) {\n    Box = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  TextAreaInput: function (v) {\n    TextAreaInput = v;\n  }\n}, 0);\nvar useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 1);\nvar React, useCallback, useMemo, useRef;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useRef: function (v) {\n    useRef = v;\n  }\n}, 2);\nvar e2e;\nmodule.link(\"../../../../../../app/e2e/client/rocketchat.e2e\", {\n  e2e: function (v) {\n    e2e = v;\n  }\n}, 3);\nvar MessageTypesValues;\nmodule.link(\"../../../../../../app/lib/lib/MessageTypes\", {\n  MessageTypesValues: function (v) {\n    MessageTypesValues = v;\n  }\n}, 4);\nvar RoomSettingsEnum;\nmodule.link(\"../../../../../../definition/IRoomTypeConfig\", {\n  RoomSettingsEnum: function (v) {\n    RoomSettingsEnum = v;\n  }\n}, 5);\nvar GenericModal;\nmodule.link(\"../../../../../components/GenericModal\", {\n  \"default\": function (v) {\n    GenericModal = v;\n  }\n}, 6);\nvar RawText;\nmodule.link(\"../../../../../components/RawText\", {\n  \"default\": function (v) {\n    RawText = v;\n  }\n}, 7);\nvar VerticalBar;\nmodule.link(\"../../../../../components/VerticalBar\", {\n  \"default\": function (v) {\n    VerticalBar = v;\n  }\n}, 8);\nvar RoomAvatarEditor;\nmodule.link(\"../../../../../components/avatar/RoomAvatarEditor\", {\n  \"default\": function (v) {\n    RoomAvatarEditor = v;\n  }\n}, 9);\nvar usePermission, useAtLeastOnePermission, useRole;\nmodule.link(\"../../../../../contexts/AuthorizationContext\", {\n  usePermission: function (v) {\n    usePermission = v;\n  },\n  useAtLeastOnePermission: function (v) {\n    useAtLeastOnePermission = v;\n  },\n  useRole: function (v) {\n    useRole = v;\n  }\n}, 10);\nvar useSetModal;\nmodule.link(\"../../../../../contexts/ModalContext\", {\n  useSetModal: function (v) {\n    useSetModal = v;\n  }\n}, 11);\nvar useMethod;\nmodule.link(\"../../../../../contexts/ServerContext\", {\n  useMethod: function (v) {\n    useMethod = v;\n  }\n}, 12);\nvar useSetting;\nmodule.link(\"../../../../../contexts/SettingsContext\", {\n  useSetting: function (v) {\n    useSetting = v;\n  }\n}, 13);\nvar useTranslation;\nmodule.link(\"../../../../../contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 14);\nvar useEndpointActionExperimental;\nmodule.link(\"../../../../../hooks/useEndpointActionExperimental\", {\n  useEndpointActionExperimental: function (v) {\n    useEndpointActionExperimental = v;\n  }\n}, 15);\nvar useForm;\nmodule.link(\"../../../../../hooks/useForm\", {\n  useForm: function (v) {\n    useForm = v;\n  }\n}, 16);\nvar roomCoordinator;\nmodule.link(\"../../../../../lib/rooms/roomCoordinator\", {\n  roomCoordinator: function (v) {\n    roomCoordinator = v;\n  }\n}, 17);\nvar typeMap = {\n  c: 'Channels',\n  p: 'Groups',\n  d: 'DMs'\n};\n\nvar useInitialValues = function (room, settings) {\n  var t = room.t,\n      ro = room.ro,\n      archived = room.archived,\n      topic = room.topic,\n      description = room.description,\n      announcement = room.announcement,\n      joinCodeRequired = room.joinCodeRequired,\n      sysMes = room.sysMes,\n      encrypted = room.encrypted,\n      _room$retention = room.retention,\n      retention = _room$retention === void 0 ? {} : _room$retention;\n  var retentionPolicyEnabled = settings.retentionPolicyEnabled,\n      maxAgeDefault = settings.maxAgeDefault;\n  var retentionEnabledDefault = useSetting(\"RetentionPolicy_AppliesTo\" + typeMap[room.t]);\n  var excludePinnedDefault = useSetting('RetentionPolicy_DoNotPrunePinned');\n  var filesOnlyDefault = useSetting('RetentionPolicy_FilesOnly');\n  return useMemo(function () {\n    var _retention$enabled, _retention$excludePin, _retention$filesOnly;\n\n    return _objectSpread({\n      roomName: t === 'd' ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, _objectSpread({\n        type: t\n      }, room)),\n      roomType: t,\n      readOnly: !!ro,\n      reactWhenReadOnly: false,\n      archived: !!archived,\n      roomTopic: topic !== null && topic !== void 0 ? topic : '',\n      roomDescription: description !== null && description !== void 0 ? description : '',\n      roomAnnouncement: announcement !== null && announcement !== void 0 ? announcement : '',\n      roomAvatar: undefined,\n      joinCode: '',\n      joinCodeRequired: !!joinCodeRequired,\n      systemMessages: Array.isArray(sysMes) ? sysMes : [],\n      hideSysMes: !!(sysMes !== null && sysMes !== void 0 && sysMes.length),\n      encrypted: encrypted\n    }, retentionPolicyEnabled && {\n      retentionEnabled: (_retention$enabled = retention.enabled) !== null && _retention$enabled !== void 0 ? _retention$enabled : retentionEnabledDefault,\n      retentionOverrideGlobal: !!retention.overrideGlobal,\n      retentionMaxAge: Math.min(retention.maxAge, maxAgeDefault) || maxAgeDefault,\n      retentionExcludePinned: (_retention$excludePin = retention.excludePinned) !== null && _retention$excludePin !== void 0 ? _retention$excludePin : excludePinnedDefault,\n      retentionFilesOnly: (_retention$filesOnly = retention.filesOnly) !== null && _retention$filesOnly !== void 0 ? _retention$filesOnly : filesOnlyDefault\n    });\n  }, [announcement, archived, description, excludePinnedDefault, filesOnlyDefault, joinCodeRequired, maxAgeDefault, retention.enabled, retention.excludePinned, retention.filesOnly, retention.maxAge, retention.overrideGlobal, retentionEnabledDefault, retentionPolicyEnabled, ro, room, sysMes, t, topic, encrypted]);\n};\n\nvar getCanChangeType = function (room, canCreateChannel, canCreateGroup, isAdmin) {\n  return (!room.default || isAdmin) && (room.t === 'p' && canCreateChannel || room.t === 'c' && canCreateGroup);\n};\n\nfunction EditChannel(_ref) {\n  var room = _ref.room,\n      onClickClose = _ref.onClickClose,\n      onClickBack = _ref.onClickBack;\n  var t = useTranslation();\n  var setModal = useSetModal();\n  var retentionPolicyEnabled = useSetting('RetentionPolicy_Enabled');\n  var maxAgeDefault = useSetting(\"RetentionPolicy_MaxAge_\" + typeMap[room.t]) || 30;\n  var saveData = useRef({});\n  var onChange = useCallback(function (_ref2) {\n    var initialValue = _ref2.initialValue,\n        value = _ref2.value,\n        key = _ref2.key;\n    var current = saveData.current;\n\n    if (JSON.stringify(initialValue) !== JSON.stringify(value)) {\n      if (key === 'systemMessages' && (value === null || value === void 0 ? void 0 : value.length) > 0) {\n        current.hideSysMes = true;\n      }\n\n      current[key] = value;\n    } else {\n      delete current[key];\n    }\n  }, []);\n\n  var _useForm = useForm(useInitialValues(room, {\n    retentionPolicyEnabled: retentionPolicyEnabled,\n    maxAgeDefault: maxAgeDefault\n  }), onChange),\n      values = _useForm.values,\n      handlers = _useForm.handlers,\n      hasUnsavedChanges = _useForm.hasUnsavedChanges,\n      reset = _useForm.reset,\n      commit = _useForm.commit;\n\n  var sysMesOptions = useMemo(function () {\n    return MessageTypesValues.map(function (_ref3) {\n      var key = _ref3.key,\n          i18nLabel = _ref3.i18nLabel;\n      return [key, t(i18nLabel)];\n    });\n  }, [t]);\n  var roomName = values.roomName,\n      roomType = values.roomType,\n      readOnly = values.readOnly,\n      encrypted = values.encrypted,\n      roomAvatar = values.roomAvatar,\n      archived = values.archived,\n      roomTopic = values.roomTopic,\n      roomDescription = values.roomDescription,\n      roomAnnouncement = values.roomAnnouncement,\n      reactWhenReadOnly = values.reactWhenReadOnly,\n      joinCode = values.joinCode,\n      joinCodeRequired = values.joinCodeRequired,\n      systemMessages = values.systemMessages,\n      hideSysMes = values.hideSysMes,\n      retentionEnabled = values.retentionEnabled,\n      retentionOverrideGlobal = values.retentionOverrideGlobal,\n      retentionMaxAge = values.retentionMaxAge,\n      retentionExcludePinned = values.retentionExcludePinned,\n      retentionFilesOnly = values.retentionFilesOnly;\n  var handleJoinCode = handlers.handleJoinCode,\n      handleJoinCodeRequired = handlers.handleJoinCodeRequired,\n      handleSystemMessages = handlers.handleSystemMessages,\n      handleEncrypted = handlers.handleEncrypted,\n      handleHideSysMes = handlers.handleHideSysMes,\n      handleRoomName = handlers.handleRoomName,\n      handleReadOnly = handlers.handleReadOnly,\n      handleArchived = handlers.handleArchived,\n      handleRoomAvatar = handlers.handleRoomAvatar,\n      handleReactWhenReadOnly = handlers.handleReactWhenReadOnly,\n      handleRoomType = handlers.handleRoomType,\n      handleRoomTopic = handlers.handleRoomTopic,\n      handleRoomDescription = handlers.handleRoomDescription,\n      handleRoomAnnouncement = handlers.handleRoomAnnouncement,\n      handleRetentionEnabled = handlers.handleRetentionEnabled,\n      handleRetentionOverrideGlobal = handlers.handleRetentionOverrideGlobal,\n      handleRetentionMaxAge = handlers.handleRetentionMaxAge,\n      handleRetentionExcludePinned = handlers.handleRetentionExcludePinned,\n      handleRetentionFilesOnly = handlers.handleRetentionFilesOnly;\n\n  var _useMemo = useMemo(function () {\n    var _roomCoordinator$getR;\n\n    var isAllowed = ((_roomCoordinator$getR = roomCoordinator.getRoomDirectives(room.t)) === null || _roomCoordinator$getR === void 0 ? void 0 : _roomCoordinator$getR.allowRoomSettingChange) || function () {};\n\n    return [isAllowed(room, RoomSettingsEnum.NAME), isAllowed(room, RoomSettingsEnum.TOPIC), isAllowed(room, RoomSettingsEnum.ANNOUNCEMENT), isAllowed(room, RoomSettingsEnum.ARCHIVE_OR_UNARCHIVE), isAllowed(room, RoomSettingsEnum.DESCRIPTION), isAllowed(room, RoomSettingsEnum.TYPE), isAllowed(room, RoomSettingsEnum.READ_ONLY), isAllowed(room, RoomSettingsEnum.SYSTEM_MESSAGES), isAllowed(room, RoomSettingsEnum.JOIN_CODE), isAllowed(room, RoomSettingsEnum.REACT_WHEN_READ_ONLY), isAllowed(room, RoomSettingsEnum.E2E)];\n  }, [room]),\n      _useMemo2 = _slicedToArray(_useMemo, 11),\n      canViewName = _useMemo2[0],\n      canViewTopic = _useMemo2[1],\n      canViewAnnouncement = _useMemo2[2],\n      canViewArchived = _useMemo2[3],\n      canViewDescription = _useMemo2[4],\n      canViewType = _useMemo2[5],\n      canViewReadOnly = _useMemo2[6],\n      canViewHideSysMes = _useMemo2[7],\n      canViewJoinCode = _useMemo2[8],\n      canViewReactWhenReadOnly = _useMemo2[9],\n      canViewEncrypted = _useMemo2[10];\n\n  var isAdmin = useRole('admin');\n  var canCreateChannel = usePermission('create-c');\n  var canCreateGroup = usePermission('create-p');\n  var canChangeType = getCanChangeType(room, canCreateChannel, canCreateGroup, isAdmin);\n  var canSetRo = usePermission('set-readonly', room._id);\n  var canSetReactWhenRo = usePermission('set-react-when-readonly', room._id);\n  var canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n  var canArchiveOrUnarchive = useAtLeastOnePermission(useMemo(function () {\n    return ['archive-room', 'unarchive-room'];\n  }, []), room._id);\n  var canDelete = usePermission(\"delete-\" + room.t);\n  var canToggleEncryption = usePermission('toggle-room-e2e-encryption', room._id) && (room.encrypted || e2e.isReady());\n  var changeArchivation = archived !== !!room.archived;\n  var archiveSelector = room.archived ? 'unarchive' : 'archive';\n  var archiveMessage = room.archived ? 'Room_has_been_unarchived' : 'Room_has_been_archived';\n  var saveAction = useEndpointActionExperimental('POST', 'rooms.saveRoomSettings', t('Room_updated_successfully'));\n  var archiveAction = useEndpointActionExperimental('POST', 'rooms.changeArchivationState', t(archiveMessage));\n  var handleSave = useMutableCallback(function () {\n    function _callee() {\n      var _saveData$current, joinCodeRequired, hideSysMes, data, save, archive;\n\n      return _regeneratorRuntime.async(function () {\n        function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _saveData$current = saveData.current, joinCodeRequired = _saveData$current.joinCodeRequired, hideSysMes = _saveData$current.hideSysMes, data = _objectWithoutProperties(_saveData$current, _excluded);\n                delete data.archived;\n\n                save = function () {\n                  return saveAction(_objectSpread(_objectSpread(_objectSpread({\n                    rid: room._id\n                  }, data), joinCode && {\n                    joinCode: joinCodeRequired ? joinCode : ''\n                  }), (data.systemMessages || !hideSysMes) && {\n                    systemMessages: hideSysMes && systemMessages\n                  }));\n                };\n\n                archive = function () {\n                  return archiveAction({\n                    rid: room._id,\n                    action: archiveSelector\n                  });\n                };\n\n                _context.next = 6;\n                return _regeneratorRuntime.awrap(Promise.all([hasUnsavedChanges && save(), changeArchivation && archive()].filter(Boolean)));\n\n              case 6:\n                saveData.current = {};\n                commit();\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }\n\n        return _callee$;\n      }(), null, null, null, Promise);\n    }\n\n    return _callee;\n  }());\n  var deleteRoom = useMethod('eraseRoom');\n  var handleDelete = useMutableCallback(function () {\n    var onCancel = function () {\n      return setModal(undefined);\n    };\n\n    var onConfirm = function () {\n      function _callee2() {\n        return _regeneratorRuntime.async(function () {\n          function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return _regeneratorRuntime.awrap(deleteRoom(room._id));\n\n                case 2:\n                  onCancel();\n\n                case 3:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }\n\n          return _callee2$;\n        }(), null, null, null, Promise);\n      }\n\n      return _callee2;\n    }();\n\n    setModal( /*#__PURE__*/React.createElement(GenericModal, {\n      variant: \"danger\",\n      onConfirm: onConfirm,\n      onCancel: onCancel,\n      confirmText: t('Yes_delete_it')\n    }, t('Delete_Room_Warning')));\n  });\n  var changeRoomType = useMutableCallback(function () {\n    handleRoomType(roomType === 'p' ? 'c' : 'p');\n  });\n  var onChangeMaxAge = useMutableCallback(function (e) {\n    handleRetentionMaxAge(Math.max(1, Number(e.currentTarget.value)));\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(VerticalBar.Header, null, onClickBack && /*#__PURE__*/React.createElement(VerticalBar.Back, {\n    onClick: onClickBack\n  }), /*#__PURE__*/React.createElement(VerticalBar.Text, null, t('edit-room')), onClickClose && /*#__PURE__*/React.createElement(VerticalBar.Close, {\n    onClick: onClickClose\n  })), /*#__PURE__*/React.createElement(VerticalBar.ScrollableContent, {\n    p: \"x24\",\n    is: \"form\",\n    onSubmit: useMutableCallback(function (e) {\n      return e.preventDefault();\n    })\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"center\"\n  }, /*#__PURE__*/React.createElement(RoomAvatarEditor, {\n    room: room,\n    roomAvatar: roomAvatar,\n    onChangeAvatar: handleRoomAvatar\n  })), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Name')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextInput, {\n    disabled: !canViewName,\n    value: roomName,\n    onChange: handleRoomName,\n    flexGrow: 1\n  }))), canViewDescription && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Description')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextAreaInput, {\n    rows: 4,\n    value: roomDescription,\n    onChange: handleRoomDescription,\n    flexGrow: 1\n  }))), canViewAnnouncement && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Announcement')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextAreaInput, {\n    rows: 4,\n    value: roomAnnouncement,\n    onChange: handleRoomAnnouncement,\n    flexGrow: 1\n  }))), canViewTopic && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Topic')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextAreaInput, {\n    rows: 4,\n    value: roomTopic,\n    onChange: handleRoomTopic,\n    flexGrow: 1\n  }))), canViewType && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Private')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    disabled: !canChangeType,\n    checked: roomType === 'p',\n    onChange: changeRoomType\n  }))), /*#__PURE__*/React.createElement(Field.Hint, null, t('Teams_New_Private_Description_Enabled'))), canViewReadOnly && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Read_only')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    disabled: !canSetRo,\n    checked: readOnly,\n    onChange: handleReadOnly\n  }))), /*#__PURE__*/React.createElement(Field.Hint, null, t('Only_authorized_users_can_write_new_messages'))), canViewReactWhenReadOnly && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('React_when_read_only')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    disabled: !canSetReactWhenRo,\n    checked: reactWhenReadOnly,\n    onChange: handleReactWhenReadOnly\n  }))), /*#__PURE__*/React.createElement(Field.Hint, null, t('Only_authorized_users_can_react_to_messages'))), canViewArchived && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Room_archivation_state_true')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    disabled: !canArchiveOrUnarchive,\n    checked: archived,\n    onChange: handleArchived\n  })))), canViewJoinCode && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Password_to_access')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: joinCodeRequired,\n    onChange: handleJoinCodeRequired\n  }))), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(PasswordInput, {\n    disabled: !joinCodeRequired,\n    value: joinCode,\n    onChange: handleJoinCode,\n    placeholder: t('Reset_password'),\n    flexGrow: 1\n  }))), canViewHideSysMes && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Hide_System_Messages')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: hideSysMes,\n    onChange: handleHideSysMes\n  }))), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(MultiSelect, {\n    maxWidth: \"100%\",\n    options: sysMesOptions,\n    disabled: !hideSysMes,\n    value: systemMessages,\n    onChange: handleSystemMessages,\n    placeholder: t('Select_an_option'),\n    flexGrow: 1\n  }))), canViewEncrypted && /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Encrypted')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    disabled: !canToggleEncryption,\n    checked: encrypted,\n    onChange: handleEncrypted\n  })))), retentionPolicyEnabled && /*#__PURE__*/React.createElement(Accordion, null, /*#__PURE__*/React.createElement(Accordion.Item, {\n    title: t('Prune')\n  }, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('RetentionPolicyRoom_Enabled')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: retentionEnabled,\n    onChange: handleRetentionEnabled\n  })))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('RetentionPolicyRoom_OverrideGlobal')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    disabled: !retentionEnabled || !canEditRoomRetentionPolicy,\n    checked: retentionOverrideGlobal,\n    onChange: handleRetentionOverrideGlobal\n  })))), retentionOverrideGlobal && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Callout, {\n    type: \"danger\"\n  }, /*#__PURE__*/React.createElement(RawText, null, t('RetentionPolicyRoom_ReadTheDocs'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('RetentionPolicyRoom_MaxAge', {\n    max: maxAgeDefault\n  })), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(NumberInput, {\n    value: retentionMaxAge,\n    onChange: onChangeMaxAge,\n    flexGrow: 1\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('RetentionPolicyRoom_ExcludePinned')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: retentionExcludePinned,\n    onChange: handleRetentionExcludePinned\n  })))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('RetentionPolicyRoom_FilesOnly')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: retentionFilesOnly,\n    onChange: handleRetentionFilesOnly\n  })))))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    w: \"full\"\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    stretch: true,\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"reset\",\n    disabled: !hasUnsavedChanges,\n    onClick: reset\n  }, t('Reset')), /*#__PURE__*/React.createElement(Button, {\n    flexGrow: 1,\n    disabled: !hasUnsavedChanges,\n    onClick: handleSave\n  }, t('Save')))))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(Button, {\n    flexGrow: 1,\n    primary: true,\n    danger: true,\n    disabled: !canDelete,\n    onClick: handleDelete\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"trash\",\n    size: \"x16\"\n  }), t('Delete'))))));\n}\n\nmodule.exportDefault(EditChannel);","map":{"version":3,"sources":["client/views/room/contextualBar/Info/EditRoomInfo/EditChannel.js"],"names":["_regeneratorRuntime","module","link","default","v","_objectWithoutProperties","_slicedToArray","_objectSpread","Field","TextInput","PasswordInput","ToggleSwitch","MultiSelect","Accordion","Callout","NumberInput","FieldGroup","Button","ButtonGroup","Box","Icon","TextAreaInput","useMutableCallback","React","useCallback","useMemo","useRef","e2e","MessageTypesValues","RoomSettingsEnum","GenericModal","RawText","VerticalBar","RoomAvatarEditor","usePermission","useAtLeastOnePermission","useRole","useSetModal","useMethod","useSetting","useTranslation","useEndpointActionExperimental","useForm","roomCoordinator","typeMap","c","p","d","useInitialValues","room","settings","t","ro","archived","topic","description","announcement","joinCodeRequired","sysMes","encrypted","retention","retentionPolicyEnabled","maxAgeDefault","retentionEnabledDefault","excludePinnedDefault","filesOnlyDefault","roomName","usernames","join","getRoomName","type","roomType","readOnly","reactWhenReadOnly","roomTopic","roomDescription","roomAnnouncement","roomAvatar","undefined","joinCode","systemMessages","Array","isArray","hideSysMes","length","retentionEnabled","enabled","retentionOverrideGlobal","overrideGlobal","retentionMaxAge","Math","min","maxAge","retentionExcludePinned","excludePinned","retentionFilesOnly","filesOnly","getCanChangeType","canCreateChannel","canCreateGroup","isAdmin","EditChannel","onClickClose","onClickBack","setModal","saveData","onChange","initialValue","value","key","current","JSON","stringify","values","handlers","hasUnsavedChanges","reset","commit","sysMesOptions","map","i18nLabel","handleJoinCode","handleJoinCodeRequired","handleSystemMessages","handleEncrypted","handleHideSysMes","handleRoomName","handleReadOnly","handleArchived","handleRoomAvatar","handleReactWhenReadOnly","handleRoomType","handleRoomTopic","handleRoomDescription","handleRoomAnnouncement","handleRetentionEnabled","handleRetentionOverrideGlobal","handleRetentionMaxAge","handleRetentionExcludePinned","handleRetentionFilesOnly","isAllowed","getRoomDirectives","allowRoomSettingChange","NAME","TOPIC","ANNOUNCEMENT","ARCHIVE_OR_UNARCHIVE","DESCRIPTION","TYPE","READ_ONLY","SYSTEM_MESSAGES","JOIN_CODE","REACT_WHEN_READ_ONLY","E2E","canViewName","canViewTopic","canViewAnnouncement","canViewArchived","canViewDescription","canViewType","canViewReadOnly","canViewHideSysMes","canViewJoinCode","canViewReactWhenReadOnly","canViewEncrypted","canChangeType","canSetRo","_id","canSetReactWhenRo","canEditRoomRetentionPolicy","canArchiveOrUnarchive","canDelete","canToggleEncryption","isReady","changeArchivation","archiveSelector","archiveMessage","saveAction","archiveAction","handleSave","data","save","rid","archive","action","Promise","all","filter","Boolean","deleteRoom","handleDelete","onCancel","onConfirm","changeRoomType","onChangeMaxAge","e","max","Number","currentTarget","preventDefault","exportDefault"],"mappings":"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","sourcesContent":["import {\n\tField,\n\tTextInput,\n\tPasswordInput,\n\tToggleSwitch,\n\tMultiSelect,\n\tAccordion,\n\tCallout,\n\tNumberInput,\n\tFieldGroup,\n\tButton,\n\tButtonGroup,\n\tBox,\n\tIcon,\n\tTextAreaInput,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { useCallback, useMemo, useRef } from 'react';\n\nimport { e2e } from '../../../../../../app/e2e/client/rocketchat.e2e';\nimport { MessageTypesValues } from '../../../../../../app/lib/lib/MessageTypes';\nimport { RoomSettingsEnum } from '../../../../../../definition/IRoomTypeConfig';\nimport GenericModal from '../../../../../components/GenericModal';\nimport RawText from '../../../../../components/RawText';\nimport VerticalBar from '../../../../../components/VerticalBar';\nimport RoomAvatarEditor from '../../../../../components/avatar/RoomAvatarEditor';\nimport { usePermission, useAtLeastOnePermission, useRole } from '../../../../../contexts/AuthorizationContext';\nimport { useSetModal } from '../../../../../contexts/ModalContext';\nimport { useMethod } from '../../../../../contexts/ServerContext';\nimport { useSetting } from '../../../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../../../contexts/TranslationContext';\nimport { useEndpointActionExperimental } from '../../../../../hooks/useEndpointActionExperimental';\nimport { useForm } from '../../../../../hooks/useForm';\nimport { roomCoordinator } from '../../../../../lib/rooms/roomCoordinator';\n\nconst typeMap = {\n\tc: 'Channels',\n\tp: 'Groups',\n\td: 'DMs',\n};\n\nconst useInitialValues = (room, settings) => {\n\tconst { t, ro, archived, topic, description, announcement, joinCodeRequired, sysMes, encrypted, retention = {} } = room;\n\n\tconst { retentionPolicyEnabled, maxAgeDefault } = settings;\n\n\tconst retentionEnabledDefault = useSetting(`RetentionPolicy_AppliesTo${typeMap[room.t]}`);\n\tconst excludePinnedDefault = useSetting('RetentionPolicy_DoNotPrunePinned');\n\tconst filesOnlyDefault = useSetting('RetentionPolicy_FilesOnly');\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\troomName: t === 'd' ? room.usernames.join(' x ') : roomCoordinator.getRoomName(t, { type: t, ...room }),\n\t\t\troomType: t,\n\t\t\treadOnly: !!ro,\n\t\t\treactWhenReadOnly: false,\n\t\t\tarchived: !!archived,\n\t\t\troomTopic: topic ?? '',\n\t\t\troomDescription: description ?? '',\n\t\t\troomAnnouncement: announcement ?? '',\n\t\t\troomAvatar: undefined,\n\t\t\tjoinCode: '',\n\t\t\tjoinCodeRequired: !!joinCodeRequired,\n\t\t\tsystemMessages: Array.isArray(sysMes) ? sysMes : [],\n\t\t\thideSysMes: !!sysMes?.length,\n\t\t\tencrypted,\n\t\t\t...(retentionPolicyEnabled && {\n\t\t\t\tretentionEnabled: retention.enabled ?? retentionEnabledDefault,\n\t\t\t\tretentionOverrideGlobal: !!retention.overrideGlobal,\n\t\t\t\tretentionMaxAge: Math.min(retention.maxAge, maxAgeDefault) || maxAgeDefault,\n\t\t\t\tretentionExcludePinned: retention.excludePinned ?? excludePinnedDefault,\n\t\t\t\tretentionFilesOnly: retention.filesOnly ?? filesOnlyDefault,\n\t\t\t}),\n\t\t}),\n\t\t[\n\t\t\tannouncement,\n\t\t\tarchived,\n\t\t\tdescription,\n\t\t\texcludePinnedDefault,\n\t\t\tfilesOnlyDefault,\n\t\t\tjoinCodeRequired,\n\t\t\tmaxAgeDefault,\n\t\t\tretention.enabled,\n\t\t\tretention.excludePinned,\n\t\t\tretention.filesOnly,\n\t\t\tretention.maxAge,\n\t\t\tretention.overrideGlobal,\n\t\t\tretentionEnabledDefault,\n\t\t\tretentionPolicyEnabled,\n\t\t\tro,\n\t\t\troom,\n\t\t\tsysMes,\n\t\t\tt,\n\t\t\ttopic,\n\t\t\tencrypted,\n\t\t],\n\t);\n};\n\nconst getCanChangeType = (room, canCreateChannel, canCreateGroup, isAdmin) =>\n\t(!room.default || isAdmin) && ((room.t === 'p' && canCreateChannel) || (room.t === 'c' && canCreateGroup));\n\nfunction EditChannel({ room, onClickClose, onClickBack }) {\n\tconst t = useTranslation();\n\n\tconst setModal = useSetModal();\n\n\tconst retentionPolicyEnabled = useSetting('RetentionPolicy_Enabled');\n\tconst maxAgeDefault = useSetting(`RetentionPolicy_MaxAge_${typeMap[room.t]}`) || 30;\n\n\tconst saveData = useRef({});\n\n\tconst onChange = useCallback(({ initialValue, value, key }) => {\n\t\tconst { current } = saveData;\n\t\tif (JSON.stringify(initialValue) !== JSON.stringify(value)) {\n\t\t\tif (key === 'systemMessages' && value?.length > 0) {\n\t\t\t\tcurrent.hideSysMes = true;\n\t\t\t}\n\t\t\tcurrent[key] = value;\n\t\t} else {\n\t\t\tdelete current[key];\n\t\t}\n\t}, []);\n\n\tconst { values, handlers, hasUnsavedChanges, reset, commit } = useForm(\n\t\tuseInitialValues(room, { retentionPolicyEnabled, maxAgeDefault }),\n\t\tonChange,\n\t);\n\n\tconst sysMesOptions = useMemo(() => MessageTypesValues.map(({ key, i18nLabel }) => [key, t(i18nLabel)]), [t]);\n\n\tconst {\n\t\troomName,\n\t\troomType,\n\t\treadOnly,\n\t\tencrypted,\n\t\troomAvatar,\n\t\tarchived,\n\t\troomTopic,\n\t\troomDescription,\n\t\troomAnnouncement,\n\t\treactWhenReadOnly,\n\t\tjoinCode,\n\t\tjoinCodeRequired,\n\t\tsystemMessages,\n\t\thideSysMes,\n\t\tretentionEnabled,\n\t\tretentionOverrideGlobal,\n\t\tretentionMaxAge,\n\t\tretentionExcludePinned,\n\t\tretentionFilesOnly,\n\t} = values;\n\n\tconst {\n\t\thandleJoinCode,\n\t\thandleJoinCodeRequired,\n\t\thandleSystemMessages,\n\t\thandleEncrypted,\n\t\thandleHideSysMes,\n\t\thandleRoomName,\n\t\thandleReadOnly,\n\t\thandleArchived,\n\t\thandleRoomAvatar,\n\t\thandleReactWhenReadOnly,\n\t\thandleRoomType,\n\t\thandleRoomTopic,\n\t\thandleRoomDescription,\n\t\thandleRoomAnnouncement,\n\t\thandleRetentionEnabled,\n\t\thandleRetentionOverrideGlobal,\n\t\thandleRetentionMaxAge,\n\t\thandleRetentionExcludePinned,\n\t\thandleRetentionFilesOnly,\n\t} = handlers;\n\n\tconst [\n\t\tcanViewName,\n\t\tcanViewTopic,\n\t\tcanViewAnnouncement,\n\t\tcanViewArchived,\n\t\tcanViewDescription,\n\t\tcanViewType,\n\t\tcanViewReadOnly,\n\t\tcanViewHideSysMes,\n\t\tcanViewJoinCode,\n\t\tcanViewReactWhenReadOnly,\n\t\tcanViewEncrypted,\n\t] = useMemo(() => {\n\t\tconst isAllowed = roomCoordinator.getRoomDirectives(room.t)?.allowRoomSettingChange || (() => {});\n\t\treturn [\n\t\t\tisAllowed(room, RoomSettingsEnum.NAME),\n\t\t\tisAllowed(room, RoomSettingsEnum.TOPIC),\n\t\t\tisAllowed(room, RoomSettingsEnum.ANNOUNCEMENT),\n\t\t\tisAllowed(room, RoomSettingsEnum.ARCHIVE_OR_UNARCHIVE),\n\t\t\tisAllowed(room, RoomSettingsEnum.DESCRIPTION),\n\t\t\tisAllowed(room, RoomSettingsEnum.TYPE),\n\t\t\tisAllowed(room, RoomSettingsEnum.READ_ONLY),\n\t\t\tisAllowed(room, RoomSettingsEnum.SYSTEM_MESSAGES),\n\t\t\tisAllowed(room, RoomSettingsEnum.JOIN_CODE),\n\t\t\tisAllowed(room, RoomSettingsEnum.REACT_WHEN_READ_ONLY),\n\t\t\tisAllowed(room, RoomSettingsEnum.E2E),\n\t\t];\n\t}, [room]);\n\n\tconst isAdmin = useRole('admin');\n\n\tconst canCreateChannel = usePermission('create-c');\n\tconst canCreateGroup = usePermission('create-p');\n\tconst canChangeType = getCanChangeType(room, canCreateChannel, canCreateGroup, isAdmin);\n\tconst canSetRo = usePermission('set-readonly', room._id);\n\tconst canSetReactWhenRo = usePermission('set-react-when-readonly', room._id);\n\tconst canEditRoomRetentionPolicy = usePermission('edit-room-retention-policy', room._id);\n\tconst canArchiveOrUnarchive = useAtLeastOnePermission(\n\t\tuseMemo(() => ['archive-room', 'unarchive-room'], []),\n\t\troom._id,\n\t);\n\tconst canDelete = usePermission(`delete-${room.t}`);\n\tconst canToggleEncryption = usePermission('toggle-room-e2e-encryption', room._id) && (room.encrypted || e2e.isReady());\n\n\tconst changeArchivation = archived !== !!room.archived;\n\tconst archiveSelector = room.archived ? 'unarchive' : 'archive';\n\tconst archiveMessage = room.archived ? 'Room_has_been_unarchived' : 'Room_has_been_archived';\n\tconst saveAction = useEndpointActionExperimental('POST', 'rooms.saveRoomSettings', t('Room_updated_successfully'));\n\tconst archiveAction = useEndpointActionExperimental('POST', 'rooms.changeArchivationState', t(archiveMessage));\n\n\tconst handleSave = useMutableCallback(async () => {\n\t\tconst { joinCodeRequired, hideSysMes, ...data } = saveData.current;\n\t\tdelete data.archived;\n\t\tconst save = () =>\n\t\t\tsaveAction({\n\t\t\t\trid: room._id,\n\t\t\t\t...data,\n\t\t\t\t...(joinCode && { joinCode: joinCodeRequired ? joinCode : '' }),\n\t\t\t\t...((data.systemMessages || !hideSysMes) && {\n\t\t\t\t\tsystemMessages: hideSysMes && systemMessages,\n\t\t\t\t}),\n\t\t\t});\n\n\t\tconst archive = () => archiveAction({ rid: room._id, action: archiveSelector });\n\n\t\tawait Promise.all([hasUnsavedChanges && save(), changeArchivation && archive()].filter(Boolean));\n\t\tsaveData.current = {};\n\t\tcommit();\n\t});\n\n\tconst deleteRoom = useMethod('eraseRoom');\n\n\tconst handleDelete = useMutableCallback(() => {\n\t\tconst onCancel = () => setModal(undefined);\n\t\tconst onConfirm = async () => {\n\t\t\tawait deleteRoom(room._id);\n\t\t\tonCancel();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal variant='danger' onConfirm={onConfirm} onCancel={onCancel} confirmText={t('Yes_delete_it')}>\n\t\t\t\t{t('Delete_Room_Warning')}\n\t\t\t</GenericModal>,\n\t\t);\n\t});\n\n\tconst changeRoomType = useMutableCallback(() => {\n\t\thandleRoomType(roomType === 'p' ? 'c' : 'p');\n\t});\n\n\tconst onChangeMaxAge = useMutableCallback((e) => {\n\t\thandleRetentionMaxAge(Math.max(1, Number(e.currentTarget.value)));\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<VerticalBar.Header>\n\t\t\t\t{onClickBack && <VerticalBar.Back onClick={onClickBack} />}\n\t\t\t\t<VerticalBar.Text>{t('edit-room')}</VerticalBar.Text>\n\t\t\t\t{onClickClose && <VerticalBar.Close onClick={onClickClose} />}\n\t\t\t</VerticalBar.Header>\n\n\t\t\t<VerticalBar.ScrollableContent p='x24' is='form' onSubmit={useMutableCallback((e) => e.preventDefault())}>\n\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t<RoomAvatarEditor room={room} roomAvatar={roomAvatar} onChangeAvatar={handleRoomAvatar} />\n\t\t\t\t</Box>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Name')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<TextInput disabled={!canViewName} value={roomName} onChange={handleRoomName} flexGrow={1} />\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t{canViewDescription && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Description')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput rows={4} value={roomDescription} onChange={handleRoomDescription} flexGrow={1} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewAnnouncement && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Announcement')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput rows={4} value={roomAnnouncement} onChange={handleRoomAnnouncement} flexGrow={1} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewTopic && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Topic')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput rows={4} value={roomTopic} onChange={handleRoomTopic} flexGrow={1} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewType && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Private')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canChangeType} checked={roomType === 'p'} onChange={changeRoomType} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Hint>{t('Teams_New_Private_Description_Enabled')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewReadOnly && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Read_only')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canSetRo} checked={readOnly} onChange={handleReadOnly} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Hint>{t('Only_authorized_users_can_write_new_messages')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewReactWhenReadOnly && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('React_when_read_only')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canSetReactWhenRo} checked={reactWhenReadOnly} onChange={handleReactWhenReadOnly} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Hint>{t('Only_authorized_users_can_react_to_messages')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewArchived && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Room_archivation_state_true')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canArchiveOrUnarchive} checked={archived} onChange={handleArchived} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewJoinCode && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Password_to_access')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={joinCodeRequired} onChange={handleJoinCodeRequired} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\tdisabled={!joinCodeRequired}\n\t\t\t\t\t\t\t\tvalue={joinCode}\n\t\t\t\t\t\t\t\tonChange={handleJoinCode}\n\t\t\t\t\t\t\t\tplaceholder={t('Reset_password')}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewHideSysMes && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Hide_System_Messages')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch checked={hideSysMes} onChange={handleHideSysMes} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\t\tmaxWidth='100%'\n\t\t\t\t\t\t\t\toptions={sysMesOptions}\n\t\t\t\t\t\t\t\tdisabled={!hideSysMes}\n\t\t\t\t\t\t\t\tvalue={systemMessages}\n\t\t\t\t\t\t\t\tonChange={handleSystemMessages}\n\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{canViewEncrypted && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<Field.Label>{t('Encrypted')}</Field.Label>\n\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t<ToggleSwitch disabled={!canToggleEncryption} checked={encrypted} onChange={handleEncrypted} />\n\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{retentionPolicyEnabled && (\n\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t<Accordion.Item title={t('Prune')}>\n\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_Enabled')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={retentionEnabled} onChange={handleRetentionEnabled} />\n\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_OverrideGlobal')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!retentionEnabled || !canEditRoomRetentionPolicy}\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={retentionOverrideGlobal}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleRetentionOverrideGlobal}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t{retentionOverrideGlobal && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Callout type='danger'>\n\t\t\t\t\t\t\t\t\t\t\t<RawText>{t('RetentionPolicyRoom_ReadTheDocs')}</RawText>\n\t\t\t\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_MaxAge', { max: maxAgeDefault })}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t<NumberInput value={retentionMaxAge} onChange={onChangeMaxAge} flexGrow={1} />\n\t\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_ExcludePinned')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={retentionExcludePinned} onChange={handleRetentionExcludePinned} />\n\t\t\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Label>{t('RetentionPolicyRoom_FilesOnly')}</Field.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch checked={retentionFilesOnly} onChange={handleRetentionFilesOnly} />\n\t\t\t\t\t\t\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t</Accordion>\n\t\t\t\t)}\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' w='full'>\n\t\t\t\t\t\t\t<ButtonGroup stretch flexGrow={1}>\n\t\t\t\t\t\t\t\t<Button type='reset' disabled={!hasUnsavedChanges} onClick={reset}>\n\t\t\t\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button flexGrow={1} disabled={!hasUnsavedChanges} onClick={handleSave}>\n\t\t\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<Button flexGrow={1} primary danger disabled={!canDelete} onClick={handleDelete}>\n\t\t\t\t\t\t\t<Icon name='trash' size='x16' />\n\t\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t</VerticalBar.ScrollableContent>\n\t\t</>\n\t);\n}\n\nexport default EditChannel;\n"]},"sourceType":"module","hash":"32d901b4cfba7b21294ba426e330b846bb369006"}
