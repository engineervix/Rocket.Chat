{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/BusinessHoursRow.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"ee/client/omnichannel/BusinessHoursRow.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/BusinessHoursRow.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/BusinessHoursRow.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/client/omnichannel/BusinessHoursRow.js"}},"code":"let Table;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Table(v) {\n    Table = v;\n  }\n\n}, 0);\nlet React, memo, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  memo(v) {\n    memo = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  }\n\n}, 1);\nlet useRoute;\nmodule.link(\"../../../client/contexts/RouterContext\", {\n  useRoute(v) {\n    useRoute = v;\n  }\n\n}, 2);\nlet useTranslation;\nmodule.link(\"../../../client/contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 3);\nlet RemoveBusinessHourButton;\nmodule.link(\"./RemoveBusinessHourButton\", {\n  default(v) {\n    RemoveBusinessHourButton = v;\n  }\n\n}, 4);\n\nfunction BusinessHoursRow(props) {\n  const {\n    _id,\n    name,\n    timezone,\n    workHours,\n    active,\n    type,\n    reload\n  } = props;\n  const t = useTranslation();\n  const bhRoute = useRoute('omnichannel-businessHours');\n\n  const handleClick = () => {\n    bhRoute.push({\n      context: 'edit',\n      type,\n      id: _id\n    });\n  };\n\n  const handleKeyDown = e => {\n    if (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n      return;\n    }\n\n    handleClick();\n  };\n\n  const openDays = useMemo(() => workHours.reduce((acc, day) => {\n    if (day.open) {\n      acc.push(t(day.day));\n    }\n\n    return acc;\n  }, []), [t, workHours]);\n\n  const preventClickPropagation = e => {\n    e.stopPropagation();\n  };\n\n  return /*#__PURE__*/React.createElement(Table.Row, {\n    key: _id,\n    role: \"link\",\n    action: true,\n    tabIndex: 0,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown\n  }, /*#__PURE__*/React.createElement(Table.Cell, {\n    withTruncatedText: true\n  }, name || t('Default')), /*#__PURE__*/React.createElement(Table.Cell, {\n    withTruncatedText: true\n  }, t(timezone.name)), /*#__PURE__*/React.createElement(Table.Cell, {\n    withTruncatedText: true\n  }, openDays.join(', ')), /*#__PURE__*/React.createElement(Table.Cell, {\n    withTruncatedText: true\n  }, active ? t('Yes') : t('No')), name && /*#__PURE__*/React.createElement(Table.Cell, {\n    withTruncatedText: true,\n    onClick: preventClickPropagation\n  }, /*#__PURE__*/React.createElement(RemoveBusinessHourButton, {\n    _id: _id,\n    reload: reload,\n    type: type\n  })));\n}\n\nmodule.exportDefault( /*#__PURE__*/memo(BusinessHoursRow));","map":{"version":3,"sources":["ee/client/omnichannel/BusinessHoursRow.js"],"names":["Table","module","link","v","React","memo","useMemo","default","useRoute","useTranslation","RemoveBusinessHourButton","BusinessHoursRow","props","_id","name","timezone","workHours","active","type","reload","t","bhRoute","handleClick","push","context","id","handleKeyDown","e","includes","nativeEvent","code","openDays","reduce","acc","day","open","preventClickPropagation","stopPropagation","join","exportDefault"],"mappings":"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","sourcesContent":["import { Table } from '@rocket.chat/fuselage';\nimport React, { memo, useMemo } from 'react';\n\nimport { useRoute } from '../../../client/contexts/RouterContext';\nimport { useTranslation } from '../../../client/contexts/TranslationContext';\nimport RemoveBusinessHourButton from './RemoveBusinessHourButton';\n\nfunction BusinessHoursRow(props) {\n\tconst { _id, name, timezone, workHours, active, type, reload } = props;\n\n\tconst t = useTranslation();\n\n\tconst bhRoute = useRoute('omnichannel-businessHours');\n\n\tconst handleClick = () => {\n\t\tbhRoute.push({\n\t\t\tcontext: 'edit',\n\t\t\ttype,\n\t\t\tid: _id,\n\t\t});\n\t};\n\n\tconst handleKeyDown = (e) => {\n\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\thandleClick();\n\t};\n\n\tconst openDays = useMemo(\n\t\t() =>\n\t\t\tworkHours.reduce((acc, day) => {\n\t\t\t\tif (day.open) {\n\t\t\t\t\tacc.push(t(day.day));\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t}, []),\n\t\t[t, workHours],\n\t);\n\n\tconst preventClickPropagation = (e) => {\n\t\te.stopPropagation();\n\t};\n\n\treturn (\n\t\t<Table.Row key={_id} role='link' action tabIndex={0} onClick={handleClick} onKeyDown={handleKeyDown}>\n\t\t\t<Table.Cell withTruncatedText>{name || t('Default')}</Table.Cell>\n\t\t\t<Table.Cell withTruncatedText>{t(timezone.name)}</Table.Cell>\n\t\t\t<Table.Cell withTruncatedText>{openDays.join(', ')}</Table.Cell>\n\t\t\t<Table.Cell withTruncatedText>{active ? t('Yes') : t('No')}</Table.Cell>\n\t\t\t{name && (\n\t\t\t\t<Table.Cell withTruncatedText onClick={preventClickPropagation}>\n\t\t\t\t\t<RemoveBusinessHourButton _id={_id} reload={reload} type={type} />\n\t\t\t\t</Table.Cell>\n\t\t\t)}\n\t\t</Table.Row>\n\t);\n}\n\nexport default memo(BusinessHoursRow);\n"]},"sourceType":"module","hash":"9a6ba4f03ad846351d581b35f4d9a38b0ca114c7"}
