{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/apps/client/gameCenter/invitePlayers.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"app/apps/client/gameCenter/invitePlayers.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/apps/client/gameCenter/invitePlayers.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/apps/client/gameCenter/invitePlayers.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/apps/client/gameCenter/invitePlayers.js"}},"code":"let Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor(v) {\n    Meteor = v;\n  }\n\n}, 0);\nlet Random;\nmodule.link(\"meteor/random\", {\n  Random(v) {\n    Random = v;\n  }\n\n}, 1);\nlet Template;\nmodule.link(\"meteor/templating\", {\n  Template(v) {\n    Template = v;\n  }\n\n}, 2);\nlet ReactiveVar;\nmodule.link(\"meteor/reactive-var\", {\n  ReactiveVar(v) {\n    ReactiveVar = v;\n  }\n\n}, 3);\nlet Blaze;\nmodule.link(\"meteor/blaze\", {\n  Blaze(v) {\n    Blaze = v;\n  }\n\n}, 4);\nlet TAPi18n;\nmodule.link(\"meteor/rocketchat:tap-i18n\", {\n  TAPi18n(v) {\n    TAPi18n = v;\n  }\n\n}, 5);\nlet Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker(v) {\n    Tracker = v;\n  }\n\n}, 6);\nlet Session;\nmodule.link(\"meteor/session\", {\n  Session(v) {\n    Session = v;\n  }\n\n}, 7);\nlet AutoComplete;\nmodule.link(\"../../../meteor-autocomplete/client\", {\n  AutoComplete(v) {\n    AutoComplete = v;\n  }\n\n}, 8);\nlet roomCoordinator;\nmodule.link(\"../../../../client/lib/rooms/roomCoordinator\", {\n  roomCoordinator(v) {\n    roomCoordinator = v;\n  }\n\n}, 9);\nlet ChatRoom;\nmodule.link(\"../../../models/client\", {\n  ChatRoom(v) {\n    ChatRoom = v;\n  }\n\n}, 10);\nlet modal;\nmodule.link(\"../../../ui-utils/client\", {\n  modal(v) {\n    modal = v;\n  }\n\n}, 11);\nlet callWithErrorHandling;\nmodule.link(\"../../../../client/lib/utils/callWithErrorHandling\", {\n  callWithErrorHandling(v) {\n    callWithErrorHandling = v;\n  }\n\n}, 12);\nmodule.link(\"./invitePlayers.html\");\nTemplate.InvitePlayers.helpers({\n  onSelectUser() {\n    return Template.instance().onSelectUser;\n  },\n\n  selectedUsers() {\n    const myUsername = Meteor.user().username;\n    const {\n      message\n    } = this;\n    const users = Template.instance().selectedUsers.get().map(e => e);\n\n    if (message) {\n      users.unshift(message.u);\n    }\n\n    return users.filter(_ref => {\n      let {\n        username\n      } = _ref;\n      return myUsername !== username;\n    });\n  },\n\n  onClickTagUser() {\n    return Template.instance().onClickTagUser;\n  },\n\n  deleteLastItemUser() {\n    return Template.instance().deleteLastItemUser;\n  },\n\n  onClickTagRoom() {\n    return Template.instance().onClickTagRoom;\n  },\n\n  deleteLastItemRoom() {\n    return Template.instance().deleteLastItemRoom;\n  },\n\n  selectedRoom() {\n    return Template.instance().selectedRoom.get();\n  },\n\n  onSelectRoom() {\n    return Template.instance().onSelectRoom;\n  },\n\n  roomCollection() {\n    return ChatRoom;\n  },\n\n  roomSelector() {\n    return expression => ({\n      name: {\n        $regex: \".*\".concat(expression, \".*\")\n      }\n    });\n  },\n\n  roomModifier() {\n    return function (filter) {\n      let text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      const f = filter.get();\n      return \"#\".concat(f.length === 0 ? text : text.replace(new RegExp(filter.get(), 'i'), part => \"<strong>\".concat(part, \"</strong>\")));\n    };\n  },\n\n  userModifier() {\n    return function (filter) {\n      let text = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      const f = filter.get();\n      return \"@\".concat(f.length === 0 ? text : text.replace(new RegExp(filter.get(), 'i'), part => \"<strong>\".concat(part, \"</strong>\")));\n    };\n  },\n\n  nameSuggestion() {\n    return Template.instance().discussionName.get();\n  }\n\n});\nTemplate.InvitePlayers.events({\n  async 'submit #invite-players, click .js-invite-players'(e, instance) {\n    e.preventDefault();\n    const {\n      data: {\n        name\n      }\n    } = instance;\n    const users = instance.selectedUsers.get().map(_ref2 => {\n      let {\n        username\n      } = _ref2;\n      return username;\n    });\n    const privateGroupName = \"\".concat(name.replace(/\\s/g, '-'), \"-\").concat(Random.id(10));\n\n    try {\n      const result = await callWithErrorHandling('createPrivateGroup', privateGroupName, users);\n      roomCoordinator.openRouteLink(result.t, result); // This ensures the message is only sent after the\n      // user has been redirected to the new room, preventing a\n      // weird bug that made the message appear as unsent until\n      // the screen gets refreshed\n\n      Tracker.autorun(c => {\n        if (Session.get('openedRoom') !== result.rid) {\n          return;\n        }\n\n        callWithErrorHandling('sendMessage', {\n          _id: Random.id(),\n          rid: result.rid,\n          msg: TAPi18n.__('Apps_Game_Center_Play_Game_Together', {\n            name\n          })\n        });\n        c.stop();\n      });\n      modal.close();\n    } catch (err) {\n      console.warn(err);\n    }\n  }\n\n});\nTemplate.InvitePlayers.onCreated(function () {\n  this.selectedUsers = new ReactiveVar([]);\n\n  this.onSelectUser = _ref3 => {\n    let {\n      item: user\n    } = _ref3;\n\n    if (user.username === Meteor.user().username) {\n      return;\n    }\n\n    const users = this.selectedUsers.get();\n\n    if (!users.find(u => user.username === u.username)) {\n      this.selectedUsers.set([...users, user]);\n    }\n  };\n\n  this.onClickTagUser = _ref4 => {\n    let {\n      username\n    } = _ref4;\n    this.selectedUsers.set(this.selectedUsers.get().filter(user => user.username !== username));\n  };\n\n  this.deleteLastItemUser = () => {\n    const arr = this.selectedUsers.get();\n    arr.pop();\n    this.selectedUsers.set(arr);\n  };\n});\nTemplate.SearchInvitePlayers.helpers({\n  list() {\n    return this.list;\n  },\n\n  items() {\n    return Template.instance().ac.filteredList();\n  },\n\n  config() {\n    const {\n      filter\n    } = Template.instance();\n    const {\n      noMatchTemplate,\n      templateItem,\n      modifier\n    } = Template.instance().data;\n    return {\n      filter: filter.get(),\n      template_item: templateItem,\n      noMatchTemplate,\n\n      modifier(text) {\n        return modifier(filter, text);\n      }\n\n    };\n  },\n\n  autocomplete(key) {\n    const instance = Template.instance();\n    const param = instance.ac[key];\n    return typeof param === 'function' ? param.apply(instance.ac) : param;\n  }\n\n});\nTemplate.SearchInvitePlayers.events({\n  'input input'(e, t) {\n    const input = e.target;\n    const position = input.selectionEnd || input.selectionStart;\n    const {\n      length\n    } = input.value;\n    document.activeElement === input && e && /input/i.test(e.type) && (input.selectionEnd = position + input.value.length - length);\n    t.filter.set(input.value);\n  },\n\n  'click .rc-popup-list__item'(e, t) {\n    t.ac.onItemClick(this, e);\n  },\n\n  'keydown input'(e, t) {\n    const KEYCODE_BACKSPACE = 8;\n    const KEYCODE_DELETE = 46;\n    t.ac.onKeyDown(e);\n\n    if ([KEYCODE_BACKSPACE, KEYCODE_DELETE].includes(e.keyCode) && e.target.value === '') {\n      const {\n        deleteLastItem\n      } = t;\n      return deleteLastItem && deleteLastItem();\n    }\n  },\n\n  'keyup input'(e, t) {\n    t.ac.onKeyUp(e);\n  },\n\n  'focus input'(e, t) {\n    t.ac.onFocus(e);\n  },\n\n  'blur input'(e, t) {\n    t.ac.onBlur(e);\n  },\n\n  'click .rc-tags__tag'(_ref5, t) {\n    let {\n      target\n    } = _ref5;\n    const {\n      onClickTag\n    } = t;\n    return onClickTag & onClickTag(Blaze.getData(target));\n  }\n\n});\nTemplate.SearchInvitePlayers.onRendered(function () {\n  const {\n    name\n  } = this.data;\n  this.ac.element = this.firstNode.querySelector(\"[name=\".concat(name, \"]\"));\n  this.ac.$element = $(this.ac.element);\n});\nTemplate.SearchInvitePlayers.onCreated(function () {\n  this.filter = new ReactiveVar('');\n  this.selected = new ReactiveVar([]);\n  this.onClickTag = this.data.onClickTag;\n  this.deleteLastItem = this.data.deleteLastItem;\n  const {\n    collection,\n    endpoint,\n    field,\n    sort,\n    onSelect,\n    selector = match => ({\n      term: match\n    })\n  } = this.data;\n  this.ac = new AutoComplete({\n    selector: {\n      anchor: '.rc-input__label',\n      item: '.rc-popup-list__item',\n      container: '.rc-popup-list__list'\n    },\n    onSelect,\n    position: 'fixed',\n    limit: 10,\n    inputDelay: 300,\n    rules: [{\n      collection,\n      endpoint,\n      field,\n      matchAll: true,\n      doNotChangeWidth: false,\n      selector,\n      sort\n    }]\n  });\n  this.ac.tmplInst = this;\n});","map":{"version":3,"sources":["app/apps/client/gameCenter/invitePlayers.js"],"names":["Meteor","module","link","v","Random","Template","ReactiveVar","Blaze","TAPi18n","Tracker","Session","AutoComplete","roomCoordinator","ChatRoom","modal","callWithErrorHandling","InvitePlayers","helpers","onSelectUser","instance","selectedUsers","myUsername","user","username","message","users","get","map","e","unshift","u","filter","onClickTagUser","deleteLastItemUser","onClickTagRoom","deleteLastItemRoom","selectedRoom","onSelectRoom","roomCollection","roomSelector","expression","name","$regex","roomModifier","text","f","length","replace","RegExp","part","userModifier","nameSuggestion","discussionName","events","preventDefault","data","privateGroupName","id","result","openRouteLink","t","autorun","c","rid","_id","msg","__","stop","close","err","console","warn","onCreated","item","find","set","arr","pop","SearchInvitePlayers","list","items","ac","filteredList","config","noMatchTemplate","templateItem","modifier","template_item","autocomplete","key","param","apply","input","target","position","selectionEnd","selectionStart","value","document","activeElement","test","type","onItemClick","KEYCODE_BACKSPACE","KEYCODE_DELETE","onKeyDown","includes","keyCode","deleteLastItem","onKeyUp","onFocus","onBlur","onClickTag","getData","onRendered","element","firstNode","querySelector","$element","$","selected","collection","endpoint","field","sort","onSelect","selector","match","term","anchor","container","limit","inputDelay","rules","matchAll","doNotChangeWidth","tmplInst"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Random } from 'meteor/random';\nimport { Template } from 'meteor/templating';\nimport { ReactiveVar } from 'meteor/reactive-var';\nimport { Blaze } from 'meteor/blaze';\nimport { TAPi18n } from 'meteor/rocketchat:tap-i18n';\nimport { Tracker } from 'meteor/tracker';\nimport { Session } from 'meteor/session';\n\nimport { AutoComplete } from '../../../meteor-autocomplete/client';\nimport { roomCoordinator } from '../../../../client/lib/rooms/roomCoordinator';\nimport { ChatRoom } from '../../../models/client';\nimport { modal } from '../../../ui-utils/client';\nimport { callWithErrorHandling } from '../../../../client/lib/utils/callWithErrorHandling';\n\nimport './invitePlayers.html';\n\nTemplate.InvitePlayers.helpers({\n\tonSelectUser() {\n\t\treturn Template.instance().onSelectUser;\n\t},\n\tselectedUsers() {\n\t\tconst myUsername = Meteor.user().username;\n\t\tconst { message } = this;\n\t\tconst users = Template.instance()\n\t\t\t.selectedUsers.get()\n\t\t\t.map((e) => e);\n\t\tif (message) {\n\t\t\tusers.unshift(message.u);\n\t\t}\n\t\treturn users.filter(({ username }) => myUsername !== username);\n\t},\n\tonClickTagUser() {\n\t\treturn Template.instance().onClickTagUser;\n\t},\n\tdeleteLastItemUser() {\n\t\treturn Template.instance().deleteLastItemUser;\n\t},\n\tonClickTagRoom() {\n\t\treturn Template.instance().onClickTagRoom;\n\t},\n\tdeleteLastItemRoom() {\n\t\treturn Template.instance().deleteLastItemRoom;\n\t},\n\tselectedRoom() {\n\t\treturn Template.instance().selectedRoom.get();\n\t},\n\tonSelectRoom() {\n\t\treturn Template.instance().onSelectRoom;\n\t},\n\troomCollection() {\n\t\treturn ChatRoom;\n\t},\n\troomSelector() {\n\t\treturn (expression) => ({ name: { $regex: `.*${expression}.*` } });\n\t},\n\troomModifier() {\n\t\treturn (filter, text = '') => {\n\t\t\tconst f = filter.get();\n\t\t\treturn `#${f.length === 0 ? text : text.replace(new RegExp(filter.get(), 'i'), (part) => `<strong>${part}</strong>`)}`;\n\t\t};\n\t},\n\tuserModifier() {\n\t\treturn (filter, text = '') => {\n\t\t\tconst f = filter.get();\n\t\t\treturn `@${f.length === 0 ? text : text.replace(new RegExp(filter.get(), 'i'), (part) => `<strong>${part}</strong>`)}`;\n\t\t};\n\t},\n\tnameSuggestion() {\n\t\treturn Template.instance().discussionName.get();\n\t},\n});\n\nTemplate.InvitePlayers.events({\n\tasync 'submit #invite-players, click .js-invite-players'(e, instance) {\n\t\te.preventDefault();\n\n\t\tconst {\n\t\t\tdata: { name },\n\t\t} = instance;\n\t\tconst users = instance.selectedUsers.get().map(({ username }) => username);\n\t\tconst privateGroupName = `${name.replace(/\\s/g, '-')}-${Random.id(10)}`;\n\n\t\ttry {\n\t\t\tconst result = await callWithErrorHandling('createPrivateGroup', privateGroupName, users);\n\n\t\t\troomCoordinator.openRouteLink(result.t, result);\n\n\t\t\t// This ensures the message is only sent after the\n\t\t\t// user has been redirected to the new room, preventing a\n\t\t\t// weird bug that made the message appear as unsent until\n\t\t\t// the screen gets refreshed\n\t\t\tTracker.autorun((c) => {\n\t\t\t\tif (Session.get('openedRoom') !== result.rid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcallWithErrorHandling('sendMessage', {\n\t\t\t\t\t_id: Random.id(),\n\t\t\t\t\trid: result.rid,\n\t\t\t\t\tmsg: TAPi18n.__('Apps_Game_Center_Play_Game_Together', { name }),\n\t\t\t\t});\n\n\t\t\t\tc.stop();\n\t\t\t});\n\n\t\t\tmodal.close();\n\t\t} catch (err) {\n\t\t\tconsole.warn(err);\n\t\t}\n\t},\n});\n\nTemplate.InvitePlayers.onCreated(function () {\n\tthis.selectedUsers = new ReactiveVar([]);\n\tthis.onSelectUser = ({ item: user }) => {\n\t\tif (user.username === Meteor.user().username) {\n\t\t\treturn;\n\t\t}\n\t\tconst users = this.selectedUsers.get();\n\t\tif (!users.find((u) => user.username === u.username)) {\n\t\t\tthis.selectedUsers.set([...users, user]);\n\t\t}\n\t};\n\tthis.onClickTagUser = ({ username }) => {\n\t\tthis.selectedUsers.set(this.selectedUsers.get().filter((user) => user.username !== username));\n\t};\n\tthis.deleteLastItemUser = () => {\n\t\tconst arr = this.selectedUsers.get();\n\t\tarr.pop();\n\t\tthis.selectedUsers.set(arr);\n\t};\n});\n\nTemplate.SearchInvitePlayers.helpers({\n\tlist() {\n\t\treturn this.list;\n\t},\n\titems() {\n\t\treturn Template.instance().ac.filteredList();\n\t},\n\tconfig() {\n\t\tconst { filter } = Template.instance();\n\t\tconst { noMatchTemplate, templateItem, modifier } = Template.instance().data;\n\t\treturn {\n\t\t\tfilter: filter.get(),\n\t\t\ttemplate_item: templateItem,\n\t\t\tnoMatchTemplate,\n\t\t\tmodifier(text) {\n\t\t\t\treturn modifier(filter, text);\n\t\t\t},\n\t\t};\n\t},\n\tautocomplete(key) {\n\t\tconst instance = Template.instance();\n\t\tconst param = instance.ac[key];\n\t\treturn typeof param === 'function' ? param.apply(instance.ac) : param;\n\t},\n});\n\nTemplate.SearchInvitePlayers.events({\n\t'input input'(e, t) {\n\t\tconst input = e.target;\n\t\tconst position = input.selectionEnd || input.selectionStart;\n\t\tconst { length } = input.value;\n\t\tdocument.activeElement === input && e && /input/i.test(e.type) && (input.selectionEnd = position + input.value.length - length);\n\t\tt.filter.set(input.value);\n\t},\n\t'click .rc-popup-list__item'(e, t) {\n\t\tt.ac.onItemClick(this, e);\n\t},\n\t'keydown input'(e, t) {\n\t\tconst KEYCODE_BACKSPACE = 8;\n\t\tconst KEYCODE_DELETE = 46;\n\n\t\tt.ac.onKeyDown(e);\n\t\tif ([KEYCODE_BACKSPACE, KEYCODE_DELETE].includes(e.keyCode) && e.target.value === '') {\n\t\t\tconst { deleteLastItem } = t;\n\t\t\treturn deleteLastItem && deleteLastItem();\n\t\t}\n\t},\n\t'keyup input'(e, t) {\n\t\tt.ac.onKeyUp(e);\n\t},\n\t'focus input'(e, t) {\n\t\tt.ac.onFocus(e);\n\t},\n\t'blur input'(e, t) {\n\t\tt.ac.onBlur(e);\n\t},\n\t'click .rc-tags__tag'({ target }, t) {\n\t\tconst { onClickTag } = t;\n\t\treturn onClickTag & onClickTag(Blaze.getData(target));\n\t},\n});\nTemplate.SearchInvitePlayers.onRendered(function () {\n\tconst { name } = this.data;\n\n\tthis.ac.element = this.firstNode.querySelector(`[name=${name}]`);\n\tthis.ac.$element = $(this.ac.element);\n});\n\nTemplate.SearchInvitePlayers.onCreated(function () {\n\tthis.filter = new ReactiveVar('');\n\tthis.selected = new ReactiveVar([]);\n\tthis.onClickTag = this.data.onClickTag;\n\tthis.deleteLastItem = this.data.deleteLastItem;\n\n\tconst { collection, endpoint, field, sort, onSelect, selector = (match) => ({ term: match }) } = this.data;\n\tthis.ac = new AutoComplete({\n\t\tselector: {\n\t\t\tanchor: '.rc-input__label',\n\t\t\titem: '.rc-popup-list__item',\n\t\t\tcontainer: '.rc-popup-list__list',\n\t\t},\n\t\tonSelect,\n\t\tposition: 'fixed',\n\t\tlimit: 10,\n\t\tinputDelay: 300,\n\t\trules: [\n\t\t\t{\n\t\t\t\tcollection,\n\t\t\t\tendpoint,\n\t\t\t\tfield,\n\t\t\t\tmatchAll: true,\n\t\t\t\tdoNotChangeWidth: false,\n\t\t\t\tselector,\n\t\t\t\tsort,\n\t\t\t},\n\t\t],\n\t});\n\tthis.ac.tmplInst = this;\n});\n"]},"sourceType":"module","hash":"ac07c248f5c7db31e17111a28d4060034bcb3ee9"}
