{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/preferences/PreferencesGlobalSection.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/account/preferences/PreferencesGlobalSection.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/preferences/PreferencesGlobalSection.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/account/preferences/PreferencesGlobalSection.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/account/preferences/PreferencesGlobalSection.js"}},"code":"const _excluded = [\"onChange\", \"commitRef\"];\n\nlet _extends;\n\nmodule.link(\"@babel/runtime/helpers/extends\", {\n  default(v) {\n    _extends = v;\n  }\n\n}, 0);\n\nlet _objectWithoutProperties;\n\nmodule.link(\"@babel/runtime/helpers/objectWithoutProperties\", {\n  default(v) {\n    _objectWithoutProperties = v;\n  }\n\n}, 1);\nlet Accordion, Field, FieldGroup, MultiSelect, ToggleSwitch, Callout;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Accordion(v) {\n    Accordion = v;\n  },\n\n  Field(v) {\n    Field = v;\n  },\n\n  FieldGroup(v) {\n    FieldGroup = v;\n  },\n\n  MultiSelect(v) {\n    MultiSelect = v;\n  },\n\n  ToggleSwitch(v) {\n    ToggleSwitch = v;\n  },\n\n  Callout(v) {\n    Callout = v;\n  }\n\n}, 0);\nlet React, useMemo;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  }\n\n}, 1);\nlet useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 2);\nlet useUserPreference;\nmodule.link(\"../../../contexts/UserContext\", {\n  useUserPreference(v) {\n    useUserPreference = v;\n  }\n\n}, 3);\nlet useForm;\nmodule.link(\"../../../hooks/useForm\", {\n  useForm(v) {\n    useForm = v;\n  }\n\n}, 4);\n\nconst PreferencesGlobalSection = _ref => {\n  let {\n    onChange,\n    commitRef\n  } = _ref,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  const t = useTranslation();\n  const userDontAskAgainList = useUserPreference('dontAskAgainList');\n  const userEnableMessageParserEarlyAdoption = useUserPreference('enableMessageParserEarlyAdoption');\n  const options = useMemo(() => (userDontAskAgainList || []).map(_ref2 => {\n    let {\n      action,\n      label\n    } = _ref2;\n    return [action, label];\n  }), [userDontAskAgainList]);\n  const selectedOptions = options.map(_ref3 => {\n    let [action] = _ref3;\n    return action;\n  });\n  const {\n    values,\n    handlers,\n    commit\n  } = useForm({\n    dontAskAgainList: selectedOptions,\n    enableMessageParserEarlyAdoption: userEnableMessageParserEarlyAdoption\n  }, onChange);\n  const {\n    dontAskAgainList,\n    enableMessageParserEarlyAdoption\n  } = values;\n  const {\n    handleDontAskAgainList,\n    handleEnableMessageParserEarlyAdoption\n  } = handlers;\n  commitRef.current.global = commit;\n  return /*#__PURE__*/React.createElement(Accordion.Item, _extends({\n    title: t('Global')\n  }, props), /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Dont_ask_me_again_list')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(MultiSelect, {\n    placeholder: t('Nothing_found'),\n    value: dontAskAgainList.length > 0 && dontAskAgainList || undefined,\n    onChange: handleDontAskAgainList,\n    options: options\n  })))), /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Enable_message_parser_early_adoption')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: enableMessageParserEarlyAdoption,\n    onChange: handleEnableMessageParserEarlyAdoption\n  }))), /*#__PURE__*/React.createElement(Callout, {\n    type: \"warning\"\n  }, t('Enable_message_parser_early_adoption_alert'))));\n};\n\nmodule.exportDefault(PreferencesGlobalSection);","map":{"version":3,"sources":["client/views/account/preferences/PreferencesGlobalSection.js"],"names":["_extends","module","link","default","v","_objectWithoutProperties","Accordion","Field","FieldGroup","MultiSelect","ToggleSwitch","Callout","React","useMemo","useTranslation","useUserPreference","useForm","PreferencesGlobalSection","onChange","commitRef","props","t","userDontAskAgainList","userEnableMessageParserEarlyAdoption","options","map","action","label","selectedOptions","values","handlers","commit","dontAskAgainList","enableMessageParserEarlyAdoption","handleDontAskAgainList","handleEnableMessageParserEarlyAdoption","current","global","length","undefined","exportDefault"],"mappings":"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","sourcesContent":["import { Accordion, Field, FieldGroup, MultiSelect, ToggleSwitch, Callout } from '@rocket.chat/fuselage';\nimport React, { useMemo } from 'react';\n\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useUserPreference } from '../../../contexts/UserContext';\nimport { useForm } from '../../../hooks/useForm';\n\nconst PreferencesGlobalSection = ({ onChange, commitRef, ...props }) => {\n\tconst t = useTranslation();\n\n\tconst userDontAskAgainList = useUserPreference('dontAskAgainList');\n\tconst userEnableMessageParserEarlyAdoption = useUserPreference('enableMessageParserEarlyAdoption');\n\n\tconst options = useMemo(() => (userDontAskAgainList || []).map(({ action, label }) => [action, label]), [userDontAskAgainList]);\n\n\tconst selectedOptions = options.map(([action]) => action);\n\n\tconst { values, handlers, commit } = useForm(\n\t\t{\n\t\t\tdontAskAgainList: selectedOptions,\n\t\t\tenableMessageParserEarlyAdoption: userEnableMessageParserEarlyAdoption,\n\t\t},\n\t\tonChange,\n\t);\n\n\tconst { dontAskAgainList, enableMessageParserEarlyAdoption } = values;\n\n\tconst { handleDontAskAgainList, handleEnableMessageParserEarlyAdoption } = handlers;\n\n\tcommitRef.current.global = commit;\n\n\treturn (\n\t\t<Accordion.Item title={t('Global')} {...props}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Dont_ask_me_again_list')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\tplaceholder={t('Nothing_found')}\n\t\t\t\t\t\t\tvalue={(dontAskAgainList.length > 0 && dontAskAgainList) || undefined}\n\t\t\t\t\t\t\tonChange={handleDontAskAgainList}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<Field.Label>{t('Enable_message_parser_early_adoption')}</Field.Label>\n\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t<ToggleSwitch checked={enableMessageParserEarlyAdoption} onChange={handleEnableMessageParserEarlyAdoption} />\n\t\t\t\t\t</Field.Row>\n\t\t\t\t</Field>\n\t\t\t\t<Callout type='warning'>{t('Enable_message_parser_early_adoption_alert')}</Callout>\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesGlobalSection;\n"]},"sourceType":"module","hash":"d410d2d824bd4dcc45b3f0716b74a70edfc5827b"}
