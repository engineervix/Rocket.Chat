{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/mailer/Mailer.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"client/views/admin/mailer/Mailer.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/mailer/Mailer.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/admin/mailer/Mailer.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/admin/mailer/Mailer.js"}},"code":"var _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nmodule.export({\n  Mailer: function () {\n    return Mailer;\n  }\n});\nvar TextInput, TextAreaInput, Field, FieldGroup, CheckBox, Button, Icon, ButtonGroup;\nmodule.link(\"@rocket.chat/fuselage\", {\n  TextInput: function (v) {\n    TextInput = v;\n  },\n  TextAreaInput: function (v) {\n    TextAreaInput = v;\n  },\n  Field: function (v) {\n    Field = v;\n  },\n  FieldGroup: function (v) {\n    FieldGroup = v;\n  },\n  CheckBox: function (v) {\n    CheckBox = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Icon: function (v) {\n    Icon = v;\n  },\n  ButtonGroup: function (v) {\n    ButtonGroup = v;\n  }\n}, 0);\nvar React, useState, useCallback;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useState: function (v) {\n    useState = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  }\n}, 1);\nvar validateEmail;\nmodule.link(\"../../../../lib/emailValidator\", {\n  validateEmail: function (v) {\n    validateEmail = v;\n  }\n}, 2);\nvar isJSON;\nmodule.link(\"../../../../lib/utils/isJSON\", {\n  isJSON: function (v) {\n    isJSON = v;\n  }\n}, 3);\nvar Page;\nmodule.link(\"../../../components/Page\", {\n  \"default\": function (v) {\n    Page = v;\n  }\n}, 4);\nvar useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 5);\n\nfunction Mailer(_ref) {\n  var _ref$sendMail = _ref.sendMail,\n      sendMail = _ref$sendMail === void 0 ? function () {} : _ref$sendMail;\n  var t = useTranslation();\n\n  var _useState = useState({\n    value: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      fromEmail = _useState2[0],\n      setFromEmail = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dryRun = _useState4[0],\n      setDryRun = _useState4[1];\n\n  var _useState5 = useState({\n    value: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      query = _useState6[0],\n      setQuery = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      subject = _useState8[0],\n      setSubject = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      emailBody = _useState10[0],\n      setEmailBody = _useState10[1];\n\n  return /*#__PURE__*/React.createElement(Page, null, /*#__PURE__*/React.createElement(Page.Header, {\n    title: t('Mailer')\n  }, /*#__PURE__*/React.createElement(ButtonGroup, {\n    align: \"end\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: function () {\n      sendMail({\n        fromEmail: fromEmail,\n        dryRun: dryRun,\n        query: query,\n        subject: subject,\n        emailBody: emailBody\n      });\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    name: \"send\",\n    size: \"x20\",\n    mie: \"x8\"\n  }), t('Send_email')))), /*#__PURE__*/React.createElement(Page.ScrollableContentWithShadow, {\n    alignSelf: \"center\",\n    w: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(FieldGroup, {\n    maxWidth: \"x600\",\n    is: \"form\",\n    onSubmit: useCallback(function (e) {\n      return e.preventDefault();\n    }, []),\n    method: \"post\"\n  }, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('From')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"fromEmail\",\n    placeholder: t('Type_your_email'),\n    value: fromEmail.value,\n    error: fromEmail.error,\n    onChange: function (e) {\n      setFromEmail({\n        value: e.currentTarget.value,\n        error: !validateEmail(e.currentTarget.value) ? t('Invalid_Email') : undefined\n      });\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(CheckBox, {\n    id: \"dryRun\",\n    checked: dryRun,\n    onChange: function () {\n      return setDryRun(!dryRun);\n    }\n  }), /*#__PURE__*/React.createElement(Field.Label, {\n    htmlFor: \"dry-run\"\n  }, t('Dry_run'))), /*#__PURE__*/React.createElement(Field.Hint, null, t('Dry_run_description'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Query')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"query\",\n    value: query.value,\n    error: query.error,\n    onChange: function (e) {\n      setQuery({\n        value: e.currentTarget.value,\n        error: e.currentTarget.value && !isJSON(e.currentTarget.value) ? t('Invalid_JSON') : undefined\n      });\n    }\n  })), /*#__PURE__*/React.createElement(Field.Hint, null, t('Query_description'))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Subject')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextInput, {\n    id: \"subject\",\n    value: subject.value,\n    error: subject.error,\n    onChange: function (e) {\n      setSubject(e.currentTarget.value);\n    }\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Email_body')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextAreaInput, {\n    id: \"emailBody\",\n    rows: 10,\n    value: emailBody,\n    onChange: function (e) {\n      return setEmailBody(e.currentTarget.value);\n    }\n  })), /*#__PURE__*/React.createElement(Field.Hint, {\n    dangerouslySetInnerHTML: {\n      __html: t('Mailer_body_tags')\n    }\n  })))));\n}","map":{"version":3,"sources":["client/views/admin/mailer/Mailer.js"],"names":["_slicedToArray","module","link","default","v","export","Mailer","TextInput","TextAreaInput","Field","FieldGroup","CheckBox","Button","Icon","ButtonGroup","React","useState","useCallback","validateEmail","isJSON","Page","useTranslation","sendMail","t","value","fromEmail","setFromEmail","dryRun","setDryRun","query","setQuery","subject","setSubject","emailBody","setEmailBody","e","preventDefault","error","currentTarget","undefined","__html"],"mappings":"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","sourcesContent":["import { TextInput, TextAreaInput, Field, FieldGroup, CheckBox, Button, Icon, ButtonGroup } from '@rocket.chat/fuselage';\nimport React, { useState, useCallback } from 'react';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { isJSON } from '../../../../lib/utils/isJSON';\nimport Page from '../../../components/Page';\nimport { useTranslation } from '../../../contexts/TranslationContext';\n\nexport function Mailer({ sendMail = () => {} }) {\n\tconst t = useTranslation();\n\n\tconst [fromEmail, setFromEmail] = useState({ value: '' });\n\tconst [dryRun, setDryRun] = useState(false);\n\tconst [query, setQuery] = useState({ value: '' });\n\tconst [subject, setSubject] = useState('');\n\tconst [emailBody, setEmailBody] = useState('');\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Mailer')}>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tprimary\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsendMail({ fromEmail, dryRun, query, subject, emailBody });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon name='send' size='x20' mie='x8' />\n\t\t\t\t\t\t{t('Send_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Header>\n\t\t\t<Page.ScrollableContentWithShadow alignSelf='center' w='100%' display='flex' flexDirection='column' alignItems='center'>\n\t\t\t\t<FieldGroup maxWidth='x600' is='form' onSubmit={useCallback((e) => e.preventDefault(), [])} method='post'>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('From')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tid='fromEmail'\n\t\t\t\t\t\t\t\tplaceholder={t('Type_your_email')}\n\t\t\t\t\t\t\t\tvalue={fromEmail.value}\n\t\t\t\t\t\t\t\terror={fromEmail.error}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetFromEmail({\n\t\t\t\t\t\t\t\t\t\tvalue: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\terror: !validateEmail(e.currentTarget.value) ? t('Invalid_Email') : undefined,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<CheckBox id='dryRun' checked={dryRun} onChange={() => setDryRun(!dryRun)} />\n\t\t\t\t\t\t\t<Field.Label htmlFor='dry-run'>{t('Dry_run')}</Field.Label>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t<Field.Hint>{t('Dry_run_description')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Query')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tid='query'\n\t\t\t\t\t\t\t\tvalue={query.value}\n\t\t\t\t\t\t\t\terror={query.error}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetQuery({\n\t\t\t\t\t\t\t\t\t\tvalue: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\terror: e.currentTarget.value && !isJSON(e.currentTarget.value) ? t('Invalid_JSON') : undefined,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t<Field.Hint>{t('Query_description')}</Field.Hint>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Subject')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tid='subject'\n\t\t\t\t\t\t\t\tvalue={subject.value}\n\t\t\t\t\t\t\t\terror={subject.error}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetSubject(e.currentTarget.value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Email_body')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextAreaInput id='emailBody' rows={10} value={emailBody} onChange={(e) => setEmailBody(e.currentTarget.value)} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t<Field.Hint dangerouslySetInnerHTML={{ __html: t('Mailer_body_tags') }} />\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n"]},"sourceType":"module","hash":"ce6656ebf2fe68908757378a5a4a942e57e4a41b"}
