{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/user-status/client/lib/customUserStatus.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"app/user-status/client/lib/customUserStatus.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/user-status/client/lib/customUserStatus.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/app/user-status/client/lib/customUserStatus.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"app/user-status/client/lib/customUserStatus.js"}},"code":"var _createForOfIteratorHelperLoose;\n\nmodule.link(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\", {\n  default: function (v) {\n    _createForOfIteratorHelperLoose = v;\n  }\n}, 0);\nmodule.export({\n  deleteCustomUserStatus: function () {\n    return deleteCustomUserStatus;\n  },\n  updateCustomUserStatus: function () {\n    return updateCustomUserStatus;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 1);\nvar userStatus;\nmodule.link(\"./userStatus\", {\n  userStatus: function (v) {\n    userStatus = v;\n  }\n}, 2);\nuserStatus.packages.customUserStatus = {\n  list: []\n};\n\nvar deleteCustomUserStatus = function (customUserStatusData) {\n  delete userStatus.list[customUserStatusData._id];\n  var arrayIndex = userStatus.packages.customUserStatus.list.indexOf(customUserStatusData._id);\n\n  if (arrayIndex !== -1) {\n    userStatus.packages.customUserStatusData.list.splice(arrayIndex, 1);\n  }\n};\n\nvar updateCustomUserStatus = function (customUserStatusData) {\n  var newUserStatus = {\n    name: customUserStatusData.name,\n    id: customUserStatusData._id,\n    statusType: customUserStatusData.statusType,\n    localizeName: false\n  };\n  var arrayIndex = userStatus.packages.customUserStatus.list.indexOf(newUserStatus.id);\n\n  if (arrayIndex === -1) {\n    userStatus.packages.customUserStatus.list.push(newUserStatus);\n  } else {\n    userStatus.packages.customUserStatus.list[arrayIndex] = newUserStatus;\n  }\n\n  userStatus.list[newUserStatus.id] = newUserStatus;\n};\n\nMeteor.startup(function () {\n  Tracker.autorun(function () {\n    if (!Meteor.userId()) {\n      return;\n    }\n\n    Meteor.call('listCustomUserStatus', function (error, result) {\n      if (!result) {\n        return;\n      }\n\n      for (var _iterator = _createForOfIteratorHelperLoose(result), _step; !(_step = _iterator()).done;) {\n        var customStatus = _step.value;\n        var newUserStatus = {\n          name: customStatus.name,\n          id: customStatus._id,\n          statusType: customStatus.statusType,\n          localizeName: false\n        };\n        userStatus.packages.customUserStatus.list.push(newUserStatus);\n        userStatus.list[newUserStatus.id] = newUserStatus;\n      }\n    });\n  });\n});","map":{"version":3,"sources":["app/user-status/client/lib/customUserStatus.js"],"names":["_createForOfIteratorHelperLoose","module","link","default","v","export","deleteCustomUserStatus","updateCustomUserStatus","Meteor","Tracker","userStatus","packages","customUserStatus","list","customUserStatusData","_id","arrayIndex","indexOf","splice","newUserStatus","name","id","statusType","localizeName","push","startup","autorun","userId","call","error","result","customStatus"],"mappings":"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","sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { userStatus } from './userStatus';\n\nuserStatus.packages.customUserStatus = {\n\tlist: [],\n};\n\nexport const deleteCustomUserStatus = function (customUserStatusData) {\n\tdelete userStatus.list[customUserStatusData._id];\n\n\tconst arrayIndex = userStatus.packages.customUserStatus.list.indexOf(customUserStatusData._id);\n\tif (arrayIndex !== -1) {\n\t\tuserStatus.packages.customUserStatusData.list.splice(arrayIndex, 1);\n\t}\n};\n\nexport const updateCustomUserStatus = function (customUserStatusData) {\n\tconst newUserStatus = {\n\t\tname: customUserStatusData.name,\n\t\tid: customUserStatusData._id,\n\t\tstatusType: customUserStatusData.statusType,\n\t\tlocalizeName: false,\n\t};\n\n\tconst arrayIndex = userStatus.packages.customUserStatus.list.indexOf(newUserStatus.id);\n\tif (arrayIndex === -1) {\n\t\tuserStatus.packages.customUserStatus.list.push(newUserStatus);\n\t} else {\n\t\tuserStatus.packages.customUserStatus.list[arrayIndex] = newUserStatus;\n\t}\n\n\tuserStatus.list[newUserStatus.id] = newUserStatus;\n};\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tif (!Meteor.userId()) {\n\t\t\treturn;\n\t\t}\n\n\t\tMeteor.call('listCustomUserStatus', (error, result) => {\n\t\t\tif (!result) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const customStatus of result) {\n\t\t\t\tconst newUserStatus = {\n\t\t\t\t\tname: customStatus.name,\n\t\t\t\t\tid: customStatus._id,\n\t\t\t\t\tstatusType: customStatus.statusType,\n\t\t\t\t\tlocalizeName: false,\n\t\t\t\t};\n\n\t\t\t\tuserStatus.packages.customUserStatus.list.push(newUserStatus);\n\t\t\t\tuserStatus.list[newUserStatus.id] = newUserStatus;\n\t\t\t}\n\t\t});\n\t});\n});\n"]},"sourceType":"module","hash":"77345423b0cffd48625c55d2ae49932fc39b7832"}
