{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/teams/CreateTeamModal/CreateTeamModal.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/teams/CreateTeamModal/CreateTeamModal.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/teams/CreateTeamModal/CreateTeamModal.tsx","inputSourceMap":{"version":3,"file":"client/views/teams/CreateTeamModal/CreateTeamModal.tsx","sourceRoot":"","sources":["client/views/teams/CreateTeamModal/CreateTeamModal.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Modal, ButtonGroup, Button, TextInput, Field, ToggleSwitch, FieldGroup } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedCallback, useAutoFocus } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { IUser } from '../../../../definition/IUser';\nimport { usePermission } from '../../../contexts/AuthorizationContext';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useSetting } from '../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointActionExperimental } from '../../../hooks/useEndpointActionExperimental';\nimport { useForm } from '../../../hooks/useForm';\nimport { goToRoomById } from '../../../lib/utils/goToRoomById';\nimport TeamNameInput from './TeamNameInput';\nimport UsersInput from './UsersInput';\n\ntype CreateTeamModalState = {\n\tname: any;\n\tnameError: any;\n\tonChangeName: any;\n\tdescription: any;\n\tonChangeDescription: any;\n\ttype: any;\n\tonChangeType: any;\n\treadOnly: any;\n\tcanChangeReadOnly: any;\n\tonChangeReadOnly: any;\n\tencrypted: any;\n\tcanChangeEncrypted: any;\n\tonChangeEncrypted: any;\n\tbroadcast: any;\n\tonChangeBroadcast: any;\n\tmembers: any;\n\tonChangeMembers: any;\n\thasUnsavedChanges: any;\n\tisCreateButtonEnabled: any;\n\tonCreate: any;\n};\n\nconst useCreateTeamModalState = (onClose: () => void): CreateTeamModalState => {\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\tconst e2eEnabledForPrivateByDefault = useSetting('E2E_Enabled_Default_PrivateRooms');\n\tconst namesValidation = useSetting('UTF8_Channel_Names_Validation');\n\tconst allowSpecialNames = useSetting('UI_Allow_room_names_with_special_chars');\n\n\tconst { values, handlers, hasUnsavedChanges } = useForm({\n\t\tmembers: [],\n\t\tname: '',\n\t\tdescription: '',\n\t\ttype: true,\n\t\treadOnly: false,\n\t\tencrypted: e2eEnabledForPrivateByDefault ?? false,\n\t\tbroadcast: false,\n\t});\n\n\tconst { name, description, type, readOnly, broadcast, encrypted, members } = values as {\n\t\tname: string;\n\t\tdescription: string;\n\t\ttype: boolean;\n\t\treadOnly: boolean;\n\t\tbroadcast: boolean;\n\t\tencrypted: boolean;\n\t\tmembers: Exclude<IUser['username'], undefined>[];\n\t};\n\n\tconst { handleMembers, handleEncrypted, handleType, handleBroadcast, handleReadOnly } = handlers;\n\n\tconst t = useTranslation();\n\n\tconst teamNameRegex = useMemo(() => {\n\t\tif (allowSpecialNames) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn new RegExp(`^${namesValidation}$`);\n\t}, [allowSpecialNames, namesValidation]);\n\n\tconst [nameError, setNameError] = useState<string>();\n\n\tconst teamNameExists = useMethod('roomNameExists');\n\n\tconst checkName = useDebouncedCallback(\n\t\tasync (name: string) => {\n\t\t\tsetNameError(undefined);\n\n\t\t\tif (!hasUnsavedChanges) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!name || name.length === 0) {\n\t\t\t\tsetNameError(t('Field_required'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (teamNameRegex && !teamNameRegex.test(name)) {\n\t\t\t\tsetNameError(t('error-invalid-name'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isNotAvailable = await teamNameExists(name);\n\t\t\tif (isNotAvailable) {\n\t\t\t\tsetNameError(t('Teams_Errors_team_name', { name }));\n\t\t\t}\n\t\t},\n\t\t230,\n\t\t[name],\n\t);\n\n\tuseEffect(() => {\n\t\tcheckName(name);\n\t}, [checkName, name]);\n\n\tconst canChangeReadOnly = !broadcast;\n\n\tconst canChangeEncrypted = type && !broadcast && e2eEnabled && !e2eEnabledForPrivateByDefault;\n\n\tconst onChangeName = handlers.handleName;\n\n\tconst onChangeDescription = handlers.handleDescription;\n\n\tconst onChangeType = useMutableCallback((value) => {\n\t\thandleEncrypted(!value);\n\t\treturn handleType(value);\n\t});\n\n\tconst onChangeReadOnly = handlers.handleReadOnly;\n\n\tconst onChangeEncrypted = handlers.handleEncrypted;\n\n\tconst onChangeBroadcast = useCallback(\n\t\t(value) => {\n\t\t\thandleEncrypted(!value);\n\t\t\thandleReadOnly(value);\n\t\t\treturn handleBroadcast(value);\n\t\t},\n\t\t[handleBroadcast, handleEncrypted, handleReadOnly],\n\t);\n\n\tconst onChangeMembers = useCallback(\n\t\t(value, action) => {\n\t\t\tif (!action) {\n\t\t\t\tif (members.includes(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn handleMembers([...members, value]);\n\t\t\t}\n\t\t\thandleMembers(members.filter((current) => current !== value));\n\t\t},\n\t\t[handleMembers, members],\n\t);\n\n\tconst canSave = hasUnsavedChanges && !nameError;\n\tconst canCreateTeam = usePermission('create-team');\n\tconst isCreateButtonEnabled = canSave && canCreateTeam;\n\n\tconst createTeam = useEndpointActionExperimental('POST', 'teams.create');\n\n\tconst onCreate = useCallback(async () => {\n\t\tconst params = {\n\t\t\tname,\n\t\t\tmembers,\n\t\t\ttype: type ? 1 : 0,\n\t\t\troom: {\n\t\t\t\treadOnly,\n\t\t\t\textraData: {\n\t\t\t\t\tdescription,\n\t\t\t\t\tbroadcast,\n\t\t\t\t\tencrypted,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tconst data = await createTeam(params);\n\n\t\tgoToRoomById(data.team.roomId);\n\n\t\tonClose();\n\t}, [name, members, type, readOnly, description, broadcast, encrypted, createTeam, onClose]);\n\n\treturn {\n\t\tname,\n\t\tnameError,\n\t\tonChangeName,\n\t\tdescription,\n\t\tonChangeDescription,\n\t\ttype,\n\t\tonChangeType,\n\t\treadOnly,\n\t\tcanChangeReadOnly,\n\t\tonChangeReadOnly,\n\t\tencrypted,\n\t\tcanChangeEncrypted,\n\t\tonChangeEncrypted,\n\t\tbroadcast,\n\t\tonChangeBroadcast,\n\t\tmembers,\n\t\tonChangeMembers,\n\t\thasUnsavedChanges,\n\t\tisCreateButtonEnabled,\n\t\tonCreate,\n\t};\n};\n\ntype CreateTeamModalProps = {\n\tonClose: () => void;\n};\n\nconst CreateTeamModal: FC<CreateTeamModalProps> = ({ onClose }) => {\n\tconst {\n\t\tname,\n\t\tnameError,\n\t\tonChangeName,\n\t\tdescription,\n\t\tonChangeDescription,\n\t\ttype,\n\t\tonChangeType,\n\t\treadOnly,\n\t\tcanChangeReadOnly,\n\t\tonChangeReadOnly,\n\t\tencrypted,\n\t\tcanChangeEncrypted,\n\t\tonChangeEncrypted,\n\t\tbroadcast,\n\t\tonChangeBroadcast,\n\t\tmembers,\n\t\tonChangeMembers,\n\t\thasUnsavedChanges,\n\t\tisCreateButtonEnabled,\n\t\tonCreate,\n\t} = useCreateTeamModalState(onClose);\n\n\tconst t = useTranslation();\n\n\tconst focusRef = useAutoFocus<HTMLInputElement>();\n\n\treturn (\n\t\t<Modal>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Teams_New_Title')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Teams_New_Name_Label')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TeamNameInput\n\t\t\t\t\t\t\t\tref={focusRef}\n\t\t\t\t\t\t\t\tprivate={type}\n\t\t\t\t\t\t\t\terror={hasUnsavedChanges ? nameError : undefined}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={onChangeName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t{hasUnsavedChanges && nameError && <Field.Error>{nameError}</Field.Error>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>\n\t\t\t\t\t\t\t{t('Teams_New_Description_Label')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='neutral-600'>\n\t\t\t\t\t\t\t\t({t('optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Teams_New_Description_Placeholder')} value={description} onChange={onChangeDescription} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Private_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{type ? t('Teams_New_Private_Description_Enabled') : t('Teams_New_Private_Description_Disabled')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={type} onChange={onChangeType} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field disabled={!canChangeReadOnly}>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Read_only_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{readOnly ? t('Only_authorized_users_can_write_new_messages') : t('Teams_New_Read_only_Description')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={readOnly} disabled={!canChangeReadOnly} onChange={onChangeReadOnly} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field disabled={!canChangeEncrypted}>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Encrypted_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{type ? t('Teams_New_Encrypted_Description_Enabled') : t('Teams_New_Encrypted_Description_Disabled')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={encrypted} disabled={!canChangeEncrypted} onChange={onChangeEncrypted} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Broadcast_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>{t('Teams_New_Broadcast_Description')}</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={broadcast} onChange={onChangeBroadcast} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>\n\t\t\t\t\t\t\t{t('Teams_New_Add_members_Label')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='neutral-600'>\n\t\t\t\t\t\t\t\t({t('optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Label>\n\t\t\t\t\t\t<UsersInput value={members} onChange={onChangeMembers} />\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button disabled={!isCreateButtonEnabled} onClick={onCreate} primary>\n\t\t\t\t\t\t{t('Create')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default memo(CreateTeamModal);\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/teams/CreateTeamModal/CreateTeamModal.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/teams/CreateTeamModal/CreateTeamModal.tsx"}},"code":"let Box, Modal, ButtonGroup, Button, TextInput, Field, ToggleSwitch, FieldGroup;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n\n  Modal(v) {\n    Modal = v;\n  },\n\n  ButtonGroup(v) {\n    ButtonGroup = v;\n  },\n\n  Button(v) {\n    Button = v;\n  },\n\n  TextInput(v) {\n    TextInput = v;\n  },\n\n  Field(v) {\n    Field = v;\n  },\n\n  ToggleSwitch(v) {\n    ToggleSwitch = v;\n  },\n\n  FieldGroup(v) {\n    FieldGroup = v;\n  }\n\n}, 0);\nlet useMutableCallback, useDebouncedCallback, useAutoFocus;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  },\n\n  useDebouncedCallback(v) {\n    useDebouncedCallback = v;\n  },\n\n  useAutoFocus(v) {\n    useAutoFocus = v;\n  }\n\n}, 1);\nlet React, memo, useCallback, useEffect, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  memo(v) {\n    memo = v;\n  },\n\n  useCallback(v) {\n    useCallback = v;\n  },\n\n  useEffect(v) {\n    useEffect = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  },\n\n  useState(v) {\n    useState = v;\n  }\n\n}, 2);\nlet usePermission;\nmodule.link(\"../../../contexts/AuthorizationContext\", {\n  usePermission(v) {\n    usePermission = v;\n  }\n\n}, 3);\nlet useMethod;\nmodule.link(\"../../../contexts/ServerContext\", {\n  useMethod(v) {\n    useMethod = v;\n  }\n\n}, 4);\nlet useSetting;\nmodule.link(\"../../../contexts/SettingsContext\", {\n  useSetting(v) {\n    useSetting = v;\n  }\n\n}, 5);\nlet useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 6);\nlet useEndpointActionExperimental;\nmodule.link(\"../../../hooks/useEndpointActionExperimental\", {\n  useEndpointActionExperimental(v) {\n    useEndpointActionExperimental = v;\n  }\n\n}, 7);\nlet useForm;\nmodule.link(\"../../../hooks/useForm\", {\n  useForm(v) {\n    useForm = v;\n  }\n\n}, 8);\nlet goToRoomById;\nmodule.link(\"../../../lib/utils/goToRoomById\", {\n  goToRoomById(v) {\n    goToRoomById = v;\n  }\n\n}, 9);\nlet TeamNameInput;\nmodule.link(\"./TeamNameInput\", {\n  default(v) {\n    TeamNameInput = v;\n  }\n\n}, 10);\nlet UsersInput;\nmodule.link(\"./UsersInput\", {\n  default(v) {\n    UsersInput = v;\n  }\n\n}, 11);\n\nconst useCreateTeamModalState = onClose => {\n  const e2eEnabled = useSetting('E2E_Enable');\n  const e2eEnabledForPrivateByDefault = useSetting('E2E_Enabled_Default_PrivateRooms');\n  const namesValidation = useSetting('UTF8_Channel_Names_Validation');\n  const allowSpecialNames = useSetting('UI_Allow_room_names_with_special_chars');\n  const {\n    values,\n    handlers,\n    hasUnsavedChanges\n  } = useForm({\n    members: [],\n    name: '',\n    description: '',\n    type: true,\n    readOnly: false,\n    encrypted: e2eEnabledForPrivateByDefault !== null && e2eEnabledForPrivateByDefault !== void 0 ? e2eEnabledForPrivateByDefault : false,\n    broadcast: false\n  });\n  const {\n    name,\n    description,\n    type,\n    readOnly,\n    broadcast,\n    encrypted,\n    members\n  } = values;\n  const {\n    handleMembers,\n    handleEncrypted,\n    handleType,\n    handleBroadcast,\n    handleReadOnly\n  } = handlers;\n  const t = useTranslation();\n  const teamNameRegex = useMemo(() => {\n    if (allowSpecialNames) {\n      return null;\n    }\n\n    return new RegExp(\"^\".concat(namesValidation, \"$\"));\n  }, [allowSpecialNames, namesValidation]);\n  const [nameError, setNameError] = useState();\n  const teamNameExists = useMethod('roomNameExists');\n  const checkName = useDebouncedCallback(async name => {\n    setNameError(undefined);\n\n    if (!hasUnsavedChanges) {\n      return;\n    }\n\n    if (!name || name.length === 0) {\n      setNameError(t('Field_required'));\n      return;\n    }\n\n    if (teamNameRegex && !teamNameRegex.test(name)) {\n      setNameError(t('error-invalid-name'));\n      return;\n    }\n\n    const isNotAvailable = await teamNameExists(name);\n\n    if (isNotAvailable) {\n      setNameError(t('Teams_Errors_team_name', {\n        name\n      }));\n    }\n  }, 230, [name]);\n  useEffect(() => {\n    checkName(name);\n  }, [checkName, name]);\n  const canChangeReadOnly = !broadcast;\n  const canChangeEncrypted = type && !broadcast && e2eEnabled && !e2eEnabledForPrivateByDefault;\n  const onChangeName = handlers.handleName;\n  const onChangeDescription = handlers.handleDescription;\n  const onChangeType = useMutableCallback(value => {\n    handleEncrypted(!value);\n    return handleType(value);\n  });\n  const onChangeReadOnly = handlers.handleReadOnly;\n  const onChangeEncrypted = handlers.handleEncrypted;\n  const onChangeBroadcast = useCallback(value => {\n    handleEncrypted(!value);\n    handleReadOnly(value);\n    return handleBroadcast(value);\n  }, [handleBroadcast, handleEncrypted, handleReadOnly]);\n  const onChangeMembers = useCallback((value, action) => {\n    if (!action) {\n      if (members.includes(value)) {\n        return;\n      }\n\n      return handleMembers([...members, value]);\n    }\n\n    handleMembers(members.filter(current => current !== value));\n  }, [handleMembers, members]);\n  const canSave = hasUnsavedChanges && !nameError;\n  const canCreateTeam = usePermission('create-team');\n  const isCreateButtonEnabled = canSave && canCreateTeam;\n  const createTeam = useEndpointActionExperimental('POST', 'teams.create');\n  const onCreate = useCallback(async () => {\n    const params = {\n      name,\n      members,\n      type: type ? 1 : 0,\n      room: {\n        readOnly,\n        extraData: {\n          description,\n          broadcast,\n          encrypted\n        }\n      }\n    };\n    const data = await createTeam(params);\n    goToRoomById(data.team.roomId);\n    onClose();\n  }, [name, members, type, readOnly, description, broadcast, encrypted, createTeam, onClose]);\n  return {\n    name,\n    nameError,\n    onChangeName,\n    description,\n    onChangeDescription,\n    type,\n    onChangeType,\n    readOnly,\n    canChangeReadOnly,\n    onChangeReadOnly,\n    encrypted,\n    canChangeEncrypted,\n    onChangeEncrypted,\n    broadcast,\n    onChangeBroadcast,\n    members,\n    onChangeMembers,\n    hasUnsavedChanges,\n    isCreateButtonEnabled,\n    onCreate\n  };\n};\n\nconst CreateTeamModal = _ref => {\n  let {\n    onClose\n  } = _ref;\n  const {\n    name,\n    nameError,\n    onChangeName,\n    description,\n    onChangeDescription,\n    type,\n    onChangeType,\n    readOnly,\n    canChangeReadOnly,\n    onChangeReadOnly,\n    encrypted,\n    canChangeEncrypted,\n    onChangeEncrypted,\n    broadcast,\n    onChangeBroadcast,\n    members,\n    onChangeMembers,\n    hasUnsavedChanges,\n    isCreateButtonEnabled,\n    onCreate\n  } = useCreateTeamModalState(onClose);\n  const t = useTranslation();\n  const focusRef = useAutoFocus();\n  return /*#__PURE__*/React.createElement(Modal, null, /*#__PURE__*/React.createElement(Modal.Header, null, /*#__PURE__*/React.createElement(Modal.Title, null, t('Teams_New_Title')), /*#__PURE__*/React.createElement(Modal.Close, {\n    onClick: onClose\n  })), /*#__PURE__*/React.createElement(Modal.Content, null, /*#__PURE__*/React.createElement(FieldGroup, null, /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Name_Label')), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TeamNameInput, {\n    ref: focusRef,\n    private: type,\n    error: hasUnsavedChanges ? nameError : undefined,\n    value: name,\n    onChange: onChangeName\n  })), hasUnsavedChanges && nameError && /*#__PURE__*/React.createElement(Field.Error, null, nameError)), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Description_Label'), ' ', /*#__PURE__*/React.createElement(Box, {\n    is: \"span\",\n    color: \"neutral-600\"\n  }, \"(\", t('optional'), \")\")), /*#__PURE__*/React.createElement(Field.Row, null, /*#__PURE__*/React.createElement(TextInput, {\n    placeholder: t('Teams_New_Description_Placeholder'),\n    value: description,\n    onChange: onChangeDescription\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"start\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Private_Label')), /*#__PURE__*/React.createElement(Field.Description, null, type ? t('Teams_New_Private_Description_Enabled') : t('Teams_New_Private_Description_Disabled'))), /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: type,\n    onChange: onChangeType\n  }))), /*#__PURE__*/React.createElement(Field, {\n    disabled: !canChangeReadOnly\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"start\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Read_only_Label')), /*#__PURE__*/React.createElement(Field.Description, null, readOnly ? t('Only_authorized_users_can_write_new_messages') : t('Teams_New_Read_only_Description'))), /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: readOnly,\n    disabled: !canChangeReadOnly,\n    onChange: onChangeReadOnly\n  }))), /*#__PURE__*/React.createElement(Field, {\n    disabled: !canChangeEncrypted\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"start\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Encrypted_Label')), /*#__PURE__*/React.createElement(Field.Description, null, type ? t('Teams_New_Encrypted_Description_Enabled') : t('Teams_New_Encrypted_Description_Disabled'))), /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: encrypted,\n    disabled: !canChangeEncrypted,\n    onChange: onChangeEncrypted\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"start\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    width: \"full\"\n  }, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Broadcast_Label')), /*#__PURE__*/React.createElement(Field.Description, null, t('Teams_New_Broadcast_Description'))), /*#__PURE__*/React.createElement(ToggleSwitch, {\n    checked: broadcast,\n    onChange: onChangeBroadcast\n  }))), /*#__PURE__*/React.createElement(Field, null, /*#__PURE__*/React.createElement(Field.Label, null, t('Teams_New_Add_members_Label'), ' ', /*#__PURE__*/React.createElement(Box, {\n    is: \"span\",\n    color: \"neutral-600\"\n  }, \"(\", t('optional'), \")\")), /*#__PURE__*/React.createElement(UsersInput, {\n    value: members,\n    onChange: onChangeMembers\n  })))), /*#__PURE__*/React.createElement(Modal.Footer, null, /*#__PURE__*/React.createElement(ButtonGroup, {\n    align: \"end\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    disabled: !isCreateButtonEnabled,\n    onClick: onCreate,\n    primary: true\n  }, t('Create')))));\n};\n\nmodule.exportDefault( /*#__PURE__*/memo(CreateTeamModal));","map":{"version":3,"sources":["client/views/teams/CreateTeamModal/CreateTeamModal.tsx"],"names":[],"mappings":"AAAA,IAAA,GAAA,EAAO,KAAP,EAAc,WAAd,EAAqB,MAArB,EAAgC,SAAhC,EAA0C,KAA1C,EAA0C,YAA1C,EAA4D,UAA5D;AAAwE,MAAE,CAAA,IAAF,CAAY,uBAAZ,EAAoB;AAAA,EAAA,GAAA,CAAA,CAAA,EAAwB;AAAA,IAAA,GAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,KAAA,CAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,WAAA,CAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,MAAA,CAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,SAAA,CAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,KAAA,CAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,YAAA,CAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA,GAAxB;;AAAwB,EAAA,UAAA,CAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,CAAA;AAAA;;AAAxB,CAApB,EAA4C,CAA5C;AAA4C,IAAA,kBAAA,EAAA,oBAAA,EAAA,YAAA;AAAA,MAAA,CAAA,IAAA,CAAA,6BAAA,EAAA;AAAA,EAAA,kBAAA,CAAA,CAAA,EAAA;AAAA,IAAA,kBAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,oBAAA,CAAA,CAAA,EAAA;AAAA,IAAA,oBAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,YAAA,CAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,KAAA,EAAA,IAAA,EAAA,WAAA,EAAA,SAAA,EAAA,OAAA,EAAA,QAAA;AAAA,MAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAAA,IAAA,KAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,IAAA,CAAA,CAAA,EAAA;AAAA,IAAA,IAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,WAAA,CAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,SAAA,CAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,CAAA;AAAA,GAAA;;AAAA,EAAA,QAAA,CAAA,CAAA,EAAA;AAAA,IAAA,QAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,aAAA;AAAA,MAAA,CAAA,IAAA,CAAA,wCAAA,EAAA;AAAA,EAAA,aAAA,CAAA,CAAA,EAAA;AAAA,IAAA,aAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,SAAA;AAAA,MAAA,CAAA,IAAA,CAAA,iCAAA,EAAA;AAAA,EAAA,SAAA,CAAA,CAAA,EAAA;AAAA,IAAA,SAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,UAAA;AAAA,MAAA,CAAA,IAAA,CAAA,mCAAA,EAAA;AAAA,EAAA,UAAA,CAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,cAAA;AAAA,MAAA,CAAA,IAAA,CAAA,sCAAA,EAAA;AAAA,EAAA,cAAA,CAAA,CAAA,EAAA;AAAA,IAAA,cAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,6BAAA;AAAA,MAAA,CAAA,IAAA,CAAA,8CAAA,EAAA;AAAA,EAAA,6BAAA,CAAA,CAAA,EAAA;AAAA,IAAA,6BAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,OAAA;AAAA,MAAA,CAAA,IAAA,CAAA,wBAAA,EAAA;AAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,YAAA;AAAA,MAAA,CAAA,IAAA,CAAA,iCAAA,EAAA;AAAA,EAAA,YAAA,CAAA,CAAA,EAAA;AAAA,IAAA,YAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,CAAA;AAAA,IAAA,aAAA;AAAA,MAAA,CAAA,IAAA,CAAA,iBAAA,EAAA;AAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAAA,IAAA,aAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,EAAA;AAAA,IAAA,UAAA;AAAA,MAAA,CAAA,IAAA,CAAA,cAAA,EAAA;AAAA,EAAA,OAAA,CAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,CAAA;AAAA;;AAAA,CAAA,EAAA,EAAA;;AAsCpH,MAAM,uBAAuB,GAAI,OAAD,IAA8C;AAC7E,QAAM,UAAU,GAAG,UAAU,CAAC,YAAD,CAA7B;AACA,QAAM,6BAA6B,GAAG,UAAU,CAAC,kCAAD,CAAhD;AACA,QAAM,eAAe,GAAG,UAAU,CAAC,+BAAD,CAAlC;AACA,QAAM,iBAAiB,GAAG,UAAU,CAAC,wCAAD,CAApC;AAEA,QAAM;AAAE,IAAA,MAAF;AAAU,IAAA,QAAV;AAAoB,IAAA;AAApB,MAA0C,OAAO,CAAC;AACvD,IAAA,OAAO,EAAE,EAD8C;AAEvD,IAAA,IAAI,EAAE,EAFiD;AAGvD,IAAA,WAAW,EAAE,EAH0C;AAIvD,IAAA,IAAI,EAAE,IAJiD;AAKvD,IAAA,QAAQ,EAAE,KAL6C;AAMvD,IAAA,SAAS,EAAE,6BAAF,aAAE,6BAAF,cAAE,6BAAF,GAAmC,KANW;AAOvD,IAAA,SAAS,EAAE;AAP4C,GAAD,CAAvD;AAUA,QAAM;AAAE,IAAA,IAAF;AAAQ,IAAA,WAAR;AAAqB,IAAA,IAArB;AAA2B,IAAA,QAA3B;AAAqC,IAAA,SAArC;AAAgD,IAAA,SAAhD;AAA2D,IAAA;AAA3D,MAAuE,MAA7E;AAUA,QAAM;AAAE,IAAA,aAAF;AAAiB,IAAA,eAAjB;AAAkC,IAAA,UAAlC;AAA8C,IAAA,eAA9C;AAA+D,IAAA;AAA/D,MAAkF,QAAxF;AAEA,QAAM,CAAC,GAAG,cAAc,EAAxB;AAEA,QAAM,aAAa,GAAG,OAAO,CAAC,MAAK;AAClC,QAAI,iBAAJ,EAAuB;AACtB,aAAO,IAAP;AACA;;AAED,WAAO,IAAI,MAAJ,YAAe,eAAf,OAAP;AACA,GAN4B,EAM1B,CAAC,iBAAD,EAAoB,eAApB,CAN0B,CAA7B;AAQA,QAAM,CAAC,SAAD,EAAY,YAAZ,IAA4B,QAAQ,EAA1C;AAEA,QAAM,cAAc,GAAG,SAAS,CAAC,gBAAD,CAAhC;AAEA,QAAM,SAAS,GAAG,oBAAoB,CACrC,MAAO,IAAP,IAAuB;AACtB,IAAA,YAAY,CAAC,SAAD,CAAZ;;AAEA,QAAI,CAAC,iBAAL,EAAwB;AACvB;AACA;;AAED,QAAI,CAAC,IAAD,IAAS,IAAI,CAAC,MAAL,KAAgB,CAA7B,EAAgC;AAC/B,MAAA,YAAY,CAAC,CAAC,CAAC,gBAAD,CAAF,CAAZ;AACA;AACA;;AAED,QAAI,aAAa,IAAI,CAAC,aAAa,CAAC,IAAd,CAAmB,IAAnB,CAAtB,EAAgD;AAC/C,MAAA,YAAY,CAAC,CAAC,CAAC,oBAAD,CAAF,CAAZ;AACA;AACA;;AAED,UAAM,cAAc,GAAG,MAAM,cAAc,CAAC,IAAD,CAA3C;;AACA,QAAI,cAAJ,EAAoB;AACnB,MAAA,YAAY,CAAC,CAAC,CAAC,wBAAD,EAA2B;AAAE,QAAA;AAAF,OAA3B,CAAF,CAAZ;AACA;AACD,GAtBoC,EAuBrC,GAvBqC,EAwBrC,CAAC,IAAD,CAxBqC,CAAtC;AA2BA,EAAA,SAAS,CAAC,MAAK;AACd,IAAA,SAAS,CAAC,IAAD,CAAT;AACA,GAFQ,EAEN,CAAC,SAAD,EAAY,IAAZ,CAFM,CAAT;AAIA,QAAM,iBAAiB,GAAG,CAAC,SAA3B;AAEA,QAAM,kBAAkB,GAAG,IAAI,IAAI,CAAC,SAAT,IAAsB,UAAtB,IAAoC,CAAC,6BAAhE;AAEA,QAAM,YAAY,GAAG,QAAQ,CAAC,UAA9B;AAEA,QAAM,mBAAmB,GAAG,QAAQ,CAAC,iBAArC;AAEA,QAAM,YAAY,GAAG,kBAAkB,CAAE,KAAD,IAAU;AACjD,IAAA,eAAe,CAAC,CAAC,KAAF,CAAf;AACA,WAAO,UAAU,CAAC,KAAD,CAAjB;AACA,GAHsC,CAAvC;AAKA,QAAM,gBAAgB,GAAG,QAAQ,CAAC,cAAlC;AAEA,QAAM,iBAAiB,GAAG,QAAQ,CAAC,eAAnC;AAEA,QAAM,iBAAiB,GAAG,WAAW,CACnC,KAAD,IAAU;AACT,IAAA,eAAe,CAAC,CAAC,KAAF,CAAf;AACA,IAAA,cAAc,CAAC,KAAD,CAAd;AACA,WAAO,eAAe,CAAC,KAAD,CAAtB;AACA,GALmC,EAMpC,CAAC,eAAD,EAAkB,eAAlB,EAAmC,cAAnC,CANoC,CAArC;AASA,QAAM,eAAe,GAAG,WAAW,CAClC,CAAC,KAAD,EAAQ,MAAR,KAAkB;AACjB,QAAI,CAAC,MAAL,EAAa;AACZ,UAAI,OAAO,CAAC,QAAR,CAAiB,KAAjB,CAAJ,EAA6B;AAC5B;AACA;;AACD,aAAO,aAAa,CAAC,CAAC,GAAG,OAAJ,EAAa,KAAb,CAAD,CAApB;AACA;;AACD,IAAA,aAAa,CAAC,OAAO,CAAC,MAAR,CAAgB,OAAD,IAAa,OAAO,KAAK,KAAxC,CAAD,CAAb;AACA,GATiC,EAUlC,CAAC,aAAD,EAAgB,OAAhB,CAVkC,CAAnC;AAaA,QAAM,OAAO,GAAG,iBAAiB,IAAI,CAAC,SAAtC;AACA,QAAM,aAAa,GAAG,aAAa,CAAC,aAAD,CAAnC;AACA,QAAM,qBAAqB,GAAG,OAAO,IAAI,aAAzC;AAEA,QAAM,UAAU,GAAG,6BAA6B,CAAC,MAAD,EAAS,cAAT,CAAhD;AAEA,QAAM,QAAQ,GAAG,WAAW,CAAC,YAAW;AACvC,UAAM,MAAM,GAAG;AACd,MAAA,IADc;AAEd,MAAA,OAFc;AAGd,MAAA,IAAI,EAAE,IAAI,GAAG,CAAH,GAAO,CAHH;AAId,MAAA,IAAI,EAAE;AACL,QAAA,QADK;AAEL,QAAA,SAAS,EAAE;AACV,UAAA,WADU;AAEV,UAAA,SAFU;AAGV,UAAA;AAHU;AAFN;AAJQ,KAAf;AAcA,UAAM,IAAI,GAAG,MAAM,UAAU,CAAC,MAAD,CAA7B;AAEA,IAAA,YAAY,CAAC,IAAI,CAAC,IAAL,CAAU,MAAX,CAAZ;AAEA,IAAA,OAAO;AACP,GApB2B,EAoBzB,CAAC,IAAD,EAAO,OAAP,EAAgB,IAAhB,EAAsB,QAAtB,EAAgC,WAAhC,EAA6C,SAA7C,EAAwD,SAAxD,EAAmE,UAAnE,EAA+E,OAA/E,CApByB,CAA5B;AAsBA,SAAO;AACN,IAAA,IADM;AAEN,IAAA,SAFM;AAGN,IAAA,YAHM;AAIN,IAAA,WAJM;AAKN,IAAA,mBALM;AAMN,IAAA,IANM;AAON,IAAA,YAPM;AAQN,IAAA,QARM;AASN,IAAA,iBATM;AAUN,IAAA,gBAVM;AAWN,IAAA,SAXM;AAYN,IAAA,kBAZM;AAaN,IAAA,iBAbM;AAcN,IAAA,SAdM;AAeN,IAAA,iBAfM;AAgBN,IAAA,OAhBM;AAiBN,IAAA,eAjBM;AAkBN,IAAA,iBAlBM;AAmBN,IAAA,qBAnBM;AAoBN,IAAA;AApBM,GAAP;AAsBA,CAlKD;;AAwKA,MAAM,eAAe,GAA6B,QAAgB;AAAA,MAAf;AAAE,IAAA;AAAF,GAAe;AACjE,QAAM;AACL,IAAA,IADK;AAEL,IAAA,SAFK;AAGL,IAAA,YAHK;AAIL,IAAA,WAJK;AAKL,IAAA,mBALK;AAML,IAAA,IANK;AAOL,IAAA,YAPK;AAQL,IAAA,QARK;AASL,IAAA,iBATK;AAUL,IAAA,gBAVK;AAWL,IAAA,SAXK;AAYL,IAAA,kBAZK;AAaL,IAAA,iBAbK;AAcL,IAAA,SAdK;AAeL,IAAA,iBAfK;AAgBL,IAAA,OAhBK;AAiBL,IAAA,eAjBK;AAkBL,IAAA,iBAlBK;AAmBL,IAAA,qBAnBK;AAoBL,IAAA;AApBK,MAqBF,uBAAuB,CAAC,OAAD,CArB3B;AAuBA,QAAM,CAAC,GAAG,cAAc,EAAxB;AAEA,QAAM,QAAQ,GAAG,YAAY,EAA7B;AAEA,sBACC,oBAAC,KAAD,qBACC,oBAAC,KAAD,CAAO,MAAP,qBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,iBAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,KAAP;AAAa,IAAA,OAAO,EAAE;AAAtB,IAFD,CADD,eAKC,oBAAC,KAAD,CAAO,OAAP,qBACC,oBAAC,UAAD,qBACC,oBAAC,KAAD,qBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,sBAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,GAAP,qBACC,oBAAC,aAAD;AACC,IAAA,GAAG,EAAE,QADN;AAEC,IAAA,OAAO,EAAE,IAFV;AAGC,IAAA,KAAK,EAAE,iBAAiB,GAAG,SAAH,GAAe,SAHxC;AAIC,IAAA,KAAK,EAAE,IAJR;AAKC,IAAA,QAAQ,EAAE;AALX,IADD,CAFD,EAWE,iBAAiB,IAAI,SAArB,iBAAkC,oBAAC,KAAD,CAAO,KAAP,QAAc,SAAd,CAXpC,CADD,eAcC,oBAAC,KAAD,qBACC,oBAAC,KAAD,CAAO,KAAP,QACE,CAAC,CAAC,6BAAD,CADH,EACoC,GADpC,eAEC,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,KAAK,EAAC;AAArB,UACG,CAAC,CAAC,UAAD,CADJ,MAFD,CADD,eAOC,oBAAC,KAAD,CAAO,GAAP,qBACC,oBAAC,SAAD;AAAW,IAAA,WAAW,EAAE,CAAC,CAAC,mCAAD,CAAzB;AAAgE,IAAA,KAAK,EAAE,WAAvE;AAAoF,IAAA,QAAQ,EAAE;AAA9F,IADD,CAPD,CAdD,eAyBC,oBAAC,KAAD,qBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,cAAc,EAAC,eAAnC;AAAmD,IAAA,UAAU,EAAC;AAA9D,kBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,aAAa,EAAC,QAAlC;AAA2C,IAAA,KAAK,EAAC;AAAjD,kBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,yBAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,WAAP,QACE,IAAI,GAAG,CAAC,CAAC,uCAAD,CAAJ,GAAgD,CAAC,CAAC,wCAAD,CADvD,CAFD,CADD,eAOC,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE,IAAvB;AAA6B,IAAA,QAAQ,EAAE;AAAvC,IAPD,CADD,CAzBD,eAoCC,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAE,CAAC;AAAlB,kBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,cAAc,EAAC,eAAnC;AAAmD,IAAA,UAAU,EAAC;AAA9D,kBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,aAAa,EAAC,QAAlC;AAA2C,IAAA,KAAK,EAAC;AAAjD,kBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,2BAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,WAAP,QACE,QAAQ,GAAG,CAAC,CAAC,8CAAD,CAAJ,GAAuD,CAAC,CAAC,iCAAD,CADlE,CAFD,CADD,eAOC,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE,QAAvB;AAAiC,IAAA,QAAQ,EAAE,CAAC,iBAA5C;AAA+D,IAAA,QAAQ,EAAE;AAAzE,IAPD,CADD,CApCD,eA+CC,oBAAC,KAAD;AAAO,IAAA,QAAQ,EAAE,CAAC;AAAlB,kBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,cAAc,EAAC,eAAnC;AAAmD,IAAA,UAAU,EAAC;AAA9D,kBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,aAAa,EAAC,QAAlC;AAA2C,IAAA,KAAK,EAAC;AAAjD,kBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,2BAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,WAAP,QACE,IAAI,GAAG,CAAC,CAAC,yCAAD,CAAJ,GAAkD,CAAC,CAAC,0CAAD,CADzD,CAFD,CADD,eAOC,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE,SAAvB;AAAkC,IAAA,QAAQ,EAAE,CAAC,kBAA7C;AAAiE,IAAA,QAAQ,EAAE;AAA3E,IAPD,CADD,CA/CD,eA0DC,oBAAC,KAAD,qBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,cAAc,EAAC,eAAnC;AAAmD,IAAA,UAAU,EAAC;AAA9D,kBACC,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,aAAa,EAAC,QAAlC;AAA2C,IAAA,KAAK,EAAC;AAAjD,kBACC,oBAAC,KAAD,CAAO,KAAP,QAAc,CAAC,CAAC,2BAAD,CAAf,CADD,eAEC,oBAAC,KAAD,CAAO,WAAP,QAAoB,CAAC,CAAC,iCAAD,CAArB,CAFD,CADD,eAKC,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE,SAAvB;AAAkC,IAAA,QAAQ,EAAE;AAA5C,IALD,CADD,CA1DD,eAmEC,oBAAC,KAAD,qBACC,oBAAC,KAAD,CAAO,KAAP,QACE,CAAC,CAAC,6BAAD,CADH,EACoC,GADpC,eAEC,oBAAC,GAAD;AAAK,IAAA,EAAE,EAAC,MAAR;AAAe,IAAA,KAAK,EAAC;AAArB,UACG,CAAC,CAAC,UAAD,CADJ,MAFD,CADD,eAOC,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAE,OAAnB;AAA4B,IAAA,QAAQ,EAAE;AAAtC,IAPD,CAnED,CADD,CALD,eAoFC,oBAAC,KAAD,CAAO,MAAP,qBACC,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAC;AAAnB,kBACC,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE;AAAjB,KAA2B,CAAC,CAAC,QAAD,CAA5B,CADD,eAEC,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE,CAAC,qBAAnB;AAA0C,IAAA,OAAO,EAAE,QAAnD;AAA6D,IAAA,OAAO;AAApE,KACE,CAAC,CAAC,QAAD,CADH,CAFD,CADD,CApFD,CADD;AA+FA,CA3HD;;AA9MA,MAAA,CAAO,aAAP,eA2Ue,IAAI,CAAC,eAAD,CA3UnB","sourcesContent":["import { Box, Modal, ButtonGroup, Button, TextInput, Field, ToggleSwitch, FieldGroup } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useDebouncedCallback, useAutoFocus } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { IUser } from '../../../../definition/IUser';\nimport { usePermission } from '../../../contexts/AuthorizationContext';\nimport { useMethod } from '../../../contexts/ServerContext';\nimport { useSetting } from '../../../contexts/SettingsContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointActionExperimental } from '../../../hooks/useEndpointActionExperimental';\nimport { useForm } from '../../../hooks/useForm';\nimport { goToRoomById } from '../../../lib/utils/goToRoomById';\nimport TeamNameInput from './TeamNameInput';\nimport UsersInput from './UsersInput';\n\ntype CreateTeamModalState = {\n\tname: any;\n\tnameError: any;\n\tonChangeName: any;\n\tdescription: any;\n\tonChangeDescription: any;\n\ttype: any;\n\tonChangeType: any;\n\treadOnly: any;\n\tcanChangeReadOnly: any;\n\tonChangeReadOnly: any;\n\tencrypted: any;\n\tcanChangeEncrypted: any;\n\tonChangeEncrypted: any;\n\tbroadcast: any;\n\tonChangeBroadcast: any;\n\tmembers: any;\n\tonChangeMembers: any;\n\thasUnsavedChanges: any;\n\tisCreateButtonEnabled: any;\n\tonCreate: any;\n};\n\nconst useCreateTeamModalState = (onClose: () => void): CreateTeamModalState => {\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\tconst e2eEnabledForPrivateByDefault = useSetting('E2E_Enabled_Default_PrivateRooms');\n\tconst namesValidation = useSetting('UTF8_Channel_Names_Validation');\n\tconst allowSpecialNames = useSetting('UI_Allow_room_names_with_special_chars');\n\n\tconst { values, handlers, hasUnsavedChanges } = useForm({\n\t\tmembers: [],\n\t\tname: '',\n\t\tdescription: '',\n\t\ttype: true,\n\t\treadOnly: false,\n\t\tencrypted: e2eEnabledForPrivateByDefault ?? false,\n\t\tbroadcast: false,\n\t});\n\n\tconst { name, description, type, readOnly, broadcast, encrypted, members } = values as {\n\t\tname: string;\n\t\tdescription: string;\n\t\ttype: boolean;\n\t\treadOnly: boolean;\n\t\tbroadcast: boolean;\n\t\tencrypted: boolean;\n\t\tmembers: Exclude<IUser['username'], undefined>[];\n\t};\n\n\tconst { handleMembers, handleEncrypted, handleType, handleBroadcast, handleReadOnly } = handlers;\n\n\tconst t = useTranslation();\n\n\tconst teamNameRegex = useMemo(() => {\n\t\tif (allowSpecialNames) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn new RegExp(`^${namesValidation}$`);\n\t}, [allowSpecialNames, namesValidation]);\n\n\tconst [nameError, setNameError] = useState<string>();\n\n\tconst teamNameExists = useMethod('roomNameExists');\n\n\tconst checkName = useDebouncedCallback(\n\t\tasync (name: string) => {\n\t\t\tsetNameError(undefined);\n\n\t\t\tif (!hasUnsavedChanges) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!name || name.length === 0) {\n\t\t\t\tsetNameError(t('Field_required'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (teamNameRegex && !teamNameRegex.test(name)) {\n\t\t\t\tsetNameError(t('error-invalid-name'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isNotAvailable = await teamNameExists(name);\n\t\t\tif (isNotAvailable) {\n\t\t\t\tsetNameError(t('Teams_Errors_team_name', { name }));\n\t\t\t}\n\t\t},\n\t\t230,\n\t\t[name],\n\t);\n\n\tuseEffect(() => {\n\t\tcheckName(name);\n\t}, [checkName, name]);\n\n\tconst canChangeReadOnly = !broadcast;\n\n\tconst canChangeEncrypted = type && !broadcast && e2eEnabled && !e2eEnabledForPrivateByDefault;\n\n\tconst onChangeName = handlers.handleName;\n\n\tconst onChangeDescription = handlers.handleDescription;\n\n\tconst onChangeType = useMutableCallback((value) => {\n\t\thandleEncrypted(!value);\n\t\treturn handleType(value);\n\t});\n\n\tconst onChangeReadOnly = handlers.handleReadOnly;\n\n\tconst onChangeEncrypted = handlers.handleEncrypted;\n\n\tconst onChangeBroadcast = useCallback(\n\t\t(value) => {\n\t\t\thandleEncrypted(!value);\n\t\t\thandleReadOnly(value);\n\t\t\treturn handleBroadcast(value);\n\t\t},\n\t\t[handleBroadcast, handleEncrypted, handleReadOnly],\n\t);\n\n\tconst onChangeMembers = useCallback(\n\t\t(value, action) => {\n\t\t\tif (!action) {\n\t\t\t\tif (members.includes(value)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn handleMembers([...members, value]);\n\t\t\t}\n\t\t\thandleMembers(members.filter((current) => current !== value));\n\t\t},\n\t\t[handleMembers, members],\n\t);\n\n\tconst canSave = hasUnsavedChanges && !nameError;\n\tconst canCreateTeam = usePermission('create-team');\n\tconst isCreateButtonEnabled = canSave && canCreateTeam;\n\n\tconst createTeam = useEndpointActionExperimental('POST', 'teams.create');\n\n\tconst onCreate = useCallback(async () => {\n\t\tconst params = {\n\t\t\tname,\n\t\t\tmembers,\n\t\t\ttype: type ? 1 : 0,\n\t\t\troom: {\n\t\t\t\treadOnly,\n\t\t\t\textraData: {\n\t\t\t\t\tdescription,\n\t\t\t\t\tbroadcast,\n\t\t\t\t\tencrypted,\n\t\t\t\t},\n\t\t\t},\n\t\t};\n\n\t\tconst data = await createTeam(params);\n\n\t\tgoToRoomById(data.team.roomId);\n\n\t\tonClose();\n\t}, [name, members, type, readOnly, description, broadcast, encrypted, createTeam, onClose]);\n\n\treturn {\n\t\tname,\n\t\tnameError,\n\t\tonChangeName,\n\t\tdescription,\n\t\tonChangeDescription,\n\t\ttype,\n\t\tonChangeType,\n\t\treadOnly,\n\t\tcanChangeReadOnly,\n\t\tonChangeReadOnly,\n\t\tencrypted,\n\t\tcanChangeEncrypted,\n\t\tonChangeEncrypted,\n\t\tbroadcast,\n\t\tonChangeBroadcast,\n\t\tmembers,\n\t\tonChangeMembers,\n\t\thasUnsavedChanges,\n\t\tisCreateButtonEnabled,\n\t\tonCreate,\n\t};\n};\n\ntype CreateTeamModalProps = {\n\tonClose: () => void;\n};\n\nconst CreateTeamModal: FC<CreateTeamModalProps> = ({ onClose }) => {\n\tconst {\n\t\tname,\n\t\tnameError,\n\t\tonChangeName,\n\t\tdescription,\n\t\tonChangeDescription,\n\t\ttype,\n\t\tonChangeType,\n\t\treadOnly,\n\t\tcanChangeReadOnly,\n\t\tonChangeReadOnly,\n\t\tencrypted,\n\t\tcanChangeEncrypted,\n\t\tonChangeEncrypted,\n\t\tbroadcast,\n\t\tonChangeBroadcast,\n\t\tmembers,\n\t\tonChangeMembers,\n\t\thasUnsavedChanges,\n\t\tisCreateButtonEnabled,\n\t\tonCreate,\n\t} = useCreateTeamModalState(onClose);\n\n\tconst t = useTranslation();\n\n\tconst focusRef = useAutoFocus<HTMLInputElement>();\n\n\treturn (\n\t\t<Modal>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Teams_New_Title')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>{t('Teams_New_Name_Label')}</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TeamNameInput\n\t\t\t\t\t\t\t\tref={focusRef}\n\t\t\t\t\t\t\t\tprivate={type}\n\t\t\t\t\t\t\t\terror={hasUnsavedChanges ? nameError : undefined}\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={onChangeName}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t\t{hasUnsavedChanges && nameError && <Field.Error>{nameError}</Field.Error>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>\n\t\t\t\t\t\t\t{t('Teams_New_Description_Label')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='neutral-600'>\n\t\t\t\t\t\t\t\t({t('optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Label>\n\t\t\t\t\t\t<Field.Row>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Teams_New_Description_Placeholder')} value={description} onChange={onChangeDescription} />\n\t\t\t\t\t\t</Field.Row>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Private_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{type ? t('Teams_New_Private_Description_Enabled') : t('Teams_New_Private_Description_Disabled')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={type} onChange={onChangeType} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field disabled={!canChangeReadOnly}>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Read_only_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{readOnly ? t('Only_authorized_users_can_write_new_messages') : t('Teams_New_Read_only_Description')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={readOnly} disabled={!canChangeReadOnly} onChange={onChangeReadOnly} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field disabled={!canChangeEncrypted}>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Encrypted_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>\n\t\t\t\t\t\t\t\t\t{type ? t('Teams_New_Encrypted_Description_Enabled') : t('Teams_New_Encrypted_Description_Disabled')}\n\t\t\t\t\t\t\t\t</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={encrypted} disabled={!canChangeEncrypted} onChange={onChangeEncrypted} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<Field.Label>{t('Teams_New_Broadcast_Label')}</Field.Label>\n\t\t\t\t\t\t\t\t<Field.Description>{t('Teams_New_Broadcast_Description')}</Field.Description>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<ToggleSwitch checked={broadcast} onChange={onChangeBroadcast} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Field.Label>\n\t\t\t\t\t\t\t{t('Teams_New_Add_members_Label')}{' '}\n\t\t\t\t\t\t\t<Box is='span' color='neutral-600'>\n\t\t\t\t\t\t\t\t({t('optional')})\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field.Label>\n\t\t\t\t\t\t<UsersInput value={members} onChange={onChangeMembers} />\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button disabled={!isCreateButtonEnabled} onClick={onCreate} primary>\n\t\t\t\t\t\t{t('Create')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default memo(CreateTeamModal);\n"],"sourceRoot":""},"sourceType":"module","hash":"0ee4ea9b837d705ca8788944d93982bd3d47afd0"}
