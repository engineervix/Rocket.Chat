{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","inputSourceMap":{"version":3,"file":"ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","sourceRoot":"","sources":["ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useDebouncedValue, useLocalStorage, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, MouseEvent, useCallback, useMemo, useState } from 'react';\n\nimport { chatMessages } from '../../../../../../app/ui';\nimport { useSetModal } from '../../../../../../client/contexts/ModalContext';\nimport { useCurrentRoute, useRoute } from '../../../../../../client/contexts/RouterContext';\nimport { useRecordList } from '../../../../../../client/hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../../../client/lib/asyncState';\nimport { useRoom } from '../../../../../../client/views/room/contexts/RoomContext';\nimport { useCannedResponseFilterOptions } from '../../../hooks/useCannedResponseFilterOptions';\nimport { useCannedResponseList } from '../../../hooks/useCannedResponseList';\nimport CreateCannedResponse from '../../CannedResponse/modals';\nimport CannedResponseList from './CannedResponseList';\n\nexport const WrapCannedResponseList: FC<{ tabBar: any }> = ({ tabBar }) => {\n\tconst room = useRoom();\n\tconst [name] = useCurrentRoute();\n\tconst channelRoute = useRoute(name || '');\n\tconst setModal = useSetModal();\n\n\tconst options = useCannedResponseFilterOptions() as [string, string][];\n\n\tconst [text, setText] = useState('');\n\tconst [type, setType] = useLocalStorage('canned-response-list-type', 'all');\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst debouncedText = useDebouncedValue(text, 400);\n\n\tconst { cannedList, loadMoreItems, reload } = useCannedResponseList(\n\t\tuseMemo(() => ({ filter: debouncedText, type }), [debouncedText, type]),\n\t);\n\tconst { phase, items, itemCount } = useRecordList(cannedList);\n\n\tconst onClickItem = useMutableCallback((data) => {\n\t\tconst { _id: context } = data;\n\n\t\tchannelRoute?.push({\n\t\t\tid: room._id,\n\t\t\ttab: 'canned-responses',\n\t\t\tcontext,\n\t\t});\n\t});\n\n\tconst onClickUse = (e: MouseEvent<HTMLOrSVGElement>, text: string): void => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tconst { input } = chatMessages[room._id];\n\n\t\tinput.value = text;\n\t\tinput.focus();\n\t};\n\n\tconst onClickCreate = (): void => {\n\t\tsetModal(<CreateCannedResponse reloadCannedList={reload} />);\n\t};\n\n\treturn (\n\t\t<CannedResponseList\n\t\t\tloadMoreItems={loadMoreItems}\n\t\t\tcannedItems={items}\n\t\t\titemCount={itemCount}\n\t\t\tonClose={tabBar.close}\n\t\t\tloading={phase === AsyncStatePhase.LOADING}\n\t\t\toptions={options}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\ttype={type}\n\t\t\tsetType={setType}\n\t\t\tonClickUse={onClickUse}\n\t\t\tonClickItem={onClickItem}\n\t\t\tonClickCreate={onClickCreate}\n\t\t\treload={reload}\n\t\t/>\n\t);\n};\n\nexport default memo(WrapCannedResponseList);\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx"}},"code":"module.export({\n  WrapCannedResponseList: () => WrapCannedResponseList\n});\nlet useDebouncedValue, useLocalStorage, useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue(v) {\n    useDebouncedValue = v;\n  },\n\n  useLocalStorage(v) {\n    useLocalStorage = v;\n  },\n\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n\n}, 0);\nlet React, memo, useCallback, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  memo(v) {\n    memo = v;\n  },\n\n  useCallback(v) {\n    useCallback = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  },\n\n  useState(v) {\n    useState = v;\n  }\n\n}, 1);\nlet chatMessages;\nmodule.link(\"../../../../../../app/ui\", {\n  chatMessages(v) {\n    chatMessages = v;\n  }\n\n}, 2);\nlet useSetModal;\nmodule.link(\"../../../../../../client/contexts/ModalContext\", {\n  useSetModal(v) {\n    useSetModal = v;\n  }\n\n}, 3);\nlet useCurrentRoute, useRoute;\nmodule.link(\"../../../../../../client/contexts/RouterContext\", {\n  useCurrentRoute(v) {\n    useCurrentRoute = v;\n  },\n\n  useRoute(v) {\n    useRoute = v;\n  }\n\n}, 4);\nlet useRecordList;\nmodule.link(\"../../../../../../client/hooks/lists/useRecordList\", {\n  useRecordList(v) {\n    useRecordList = v;\n  }\n\n}, 5);\nlet AsyncStatePhase;\nmodule.link(\"../../../../../../client/lib/asyncState\", {\n  AsyncStatePhase(v) {\n    AsyncStatePhase = v;\n  }\n\n}, 6);\nlet useRoom;\nmodule.link(\"../../../../../../client/views/room/contexts/RoomContext\", {\n  useRoom(v) {\n    useRoom = v;\n  }\n\n}, 7);\nlet useCannedResponseFilterOptions;\nmodule.link(\"../../../hooks/useCannedResponseFilterOptions\", {\n  useCannedResponseFilterOptions(v) {\n    useCannedResponseFilterOptions = v;\n  }\n\n}, 8);\nlet useCannedResponseList;\nmodule.link(\"../../../hooks/useCannedResponseList\", {\n  useCannedResponseList(v) {\n    useCannedResponseList = v;\n  }\n\n}, 9);\nlet CreateCannedResponse;\nmodule.link(\"../../CannedResponse/modals\", {\n  default(v) {\n    CreateCannedResponse = v;\n  }\n\n}, 10);\nlet CannedResponseList;\nmodule.link(\"./CannedResponseList\", {\n  default(v) {\n    CannedResponseList = v;\n  }\n\n}, 11);\n\nconst WrapCannedResponseList = _ref => {\n  let {\n    tabBar\n  } = _ref;\n  const room = useRoom();\n  const [name] = useCurrentRoute();\n  const channelRoute = useRoute(name || '');\n  const setModal = useSetModal();\n  const options = useCannedResponseFilterOptions();\n  const [text, setText] = useState('');\n  const [type, setType] = useLocalStorage('canned-response-list-type', 'all');\n  const handleTextChange = useCallback(event => {\n    setText(event.currentTarget.value);\n  }, []);\n  const debouncedText = useDebouncedValue(text, 400);\n  const {\n    cannedList,\n    loadMoreItems,\n    reload\n  } = useCannedResponseList(useMemo(() => ({\n    filter: debouncedText,\n    type\n  }), [debouncedText, type]));\n  const {\n    phase,\n    items,\n    itemCount\n  } = useRecordList(cannedList);\n  const onClickItem = useMutableCallback(data => {\n    const {\n      _id: context\n    } = data;\n    channelRoute === null || channelRoute === void 0 ? void 0 : channelRoute.push({\n      id: room._id,\n      tab: 'canned-responses',\n      context\n    });\n  });\n\n  const onClickUse = (e, text) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const {\n      input\n    } = chatMessages[room._id];\n    input.value = text;\n    input.focus();\n  };\n\n  const onClickCreate = () => {\n    setModal( /*#__PURE__*/React.createElement(CreateCannedResponse, {\n      reloadCannedList: reload\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(CannedResponseList, {\n    loadMoreItems: loadMoreItems,\n    cannedItems: items,\n    itemCount: itemCount,\n    onClose: tabBar.close,\n    loading: phase === AsyncStatePhase.LOADING,\n    options: options,\n    text: text,\n    setText: handleTextChange,\n    type: type,\n    setType: setType,\n    onClickUse: onClickUse,\n    onClickItem: onClickItem,\n    onClickCreate: onClickCreate,\n    reload: reload\n  });\n};\n\nmodule.exportDefault( /*#__PURE__*/memo(WrapCannedResponseList));","map":{"version":3,"sources":["ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useDebouncedValue, useLocalStorage, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, MouseEvent, useCallback, useMemo, useState } from 'react';\n\nimport { chatMessages } from '../../../../../../app/ui';\nimport { useSetModal } from '../../../../../../client/contexts/ModalContext';\nimport { useCurrentRoute, useRoute } from '../../../../../../client/contexts/RouterContext';\nimport { useRecordList } from '../../../../../../client/hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../../../client/lib/asyncState';\nimport { useRoom } from '../../../../../../client/views/room/contexts/RoomContext';\nimport { useCannedResponseFilterOptions } from '../../../hooks/useCannedResponseFilterOptions';\nimport { useCannedResponseList } from '../../../hooks/useCannedResponseList';\nimport CreateCannedResponse from '../../CannedResponse/modals';\nimport CannedResponseList from './CannedResponseList';\n\nexport const WrapCannedResponseList: FC<{ tabBar: any }> = ({ tabBar }) => {\n\tconst room = useRoom();\n\tconst [name] = useCurrentRoute();\n\tconst channelRoute = useRoute(name || '');\n\tconst setModal = useSetModal();\n\n\tconst options = useCannedResponseFilterOptions() as [string, string][];\n\n\tconst [text, setText] = useState('');\n\tconst [type, setType] = useLocalStorage('canned-response-list-type', 'all');\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst debouncedText = useDebouncedValue(text, 400);\n\n\tconst { cannedList, loadMoreItems, reload } = useCannedResponseList(\n\t\tuseMemo(() => ({ filter: debouncedText, type }), [debouncedText, type]),\n\t);\n\tconst { phase, items, itemCount } = useRecordList(cannedList);\n\n\tconst onClickItem = useMutableCallback((data) => {\n\t\tconst { _id: context } = data;\n\n\t\tchannelRoute?.push({\n\t\t\tid: room._id,\n\t\t\ttab: 'canned-responses',\n\t\t\tcontext,\n\t\t});\n\t});\n\n\tconst onClickUse = (e: MouseEvent<HTMLOrSVGElement>, text: string): void => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tconst { input } = chatMessages[room._id];\n\n\t\tinput.value = text;\n\t\tinput.focus();\n\t};\n\n\tconst onClickCreate = (): void => {\n\t\tsetModal(<CreateCannedResponse reloadCannedList={reload} />);\n\t};\n\n\treturn (\n\t\t<CannedResponseList\n\t\t\tloadMoreItems={loadMoreItems}\n\t\t\tcannedItems={items}\n\t\t\titemCount={itemCount}\n\t\t\tonClose={tabBar.close}\n\t\t\tloading={phase === AsyncStatePhase.LOADING}\n\t\t\toptions={options}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\ttype={type}\n\t\t\tsetType={setType}\n\t\t\tonClickUse={onClickUse}\n\t\t\tonClickItem={onClickItem}\n\t\t\tonClickCreate={onClickCreate}\n\t\t\treload={reload}\n\t\t/>\n\t);\n};\n\nexport default memo(WrapCannedResponseList);\n"],"sourceRoot":""},"sourceType":"module","hash":"04b8f5c1700238ef5770e72609df5463dc2c8263"}
