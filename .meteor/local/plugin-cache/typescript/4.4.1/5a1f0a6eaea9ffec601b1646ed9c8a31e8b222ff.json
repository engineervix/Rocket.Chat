{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/sidebar/footer/voip/index.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/sidebar/footer/voip/index.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/sidebar/footer/voip/index.tsx","inputSourceMap":{"version":3,"file":"client/sidebar/footer/voip/index.tsx","sourceRoot":"","sources":["client/sidebar/footer/voip/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { ReactElement, useCallback, useMemo, useState } from 'react';\n\nimport {\n\tuseCallActions,\n\tuseCallCreateRoom,\n\tuseCallerInfo,\n\tuseCallOpenRoom,\n\tuseOpenedRoomInfo,\n\tuseQueueCounter,\n\tuseQueueName,\n\tuseWrapUpModal,\n} from '../../../contexts/CallContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { VoipFooter as VoipFooterComponent } from './VoipFooter';\n\nexport const VoipFooter = (): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst callerInfo = useCallerInfo();\n\tconst callActions = useCallActions();\n\tconst dispatchEvent = useEndpoint('POST', 'voip/events');\n\n\tconst createRoom = useCallCreateRoom();\n\tconst openRoom = useCallOpenRoom();\n\tconst queueCounter = useQueueCounter();\n\tconst queueName = useQueueName();\n\tconst openWrapUpCallModal = useWrapUpModal();\n\tconst openedRoomInfo = useOpenedRoomInfo();\n\n\tconst [muted, setMuted] = useState(false);\n\tconst [paused, setPaused] = useState(false);\n\n\tconst toggleMic = useCallback(\n\t\t(state: boolean) => {\n\t\t\tstate ? callActions.mute() : callActions.unmute();\n\t\t\tsetMuted(state);\n\t\t},\n\t\t[callActions],\n\t);\n\n\tconst togglePause = useCallback(\n\t\t(state: boolean) => {\n\t\t\tstate ? callActions.pause() : callActions.resume();\n\t\t\tsetMuted(false);\n\t\t\tsetPaused(state);\n\t\t},\n\t\t[callActions],\n\t);\n\n\tconst getSubtitle = (): string => {\n\t\tswitch (callerInfo.state) {\n\t\t\tcase 'IN_CALL':\n\t\t\t\treturn t('In_progress');\n\t\t\tcase 'OFFER_RECEIVED':\n\t\t\t\treturn t('Ringing');\n\t\t\tcase 'ON_HOLD':\n\t\t\t\treturn t('On_Hold');\n\t\t}\n\n\t\treturn '';\n\t};\n\n\tconst tooltips = {\n\t\tmute: t('Mute'),\n\t\tholdCall: t('Hold_Call'),\n\t\tacceptCall: t('Accept_Call'),\n\t\tendCall: t('End_Call'),\n\t};\n\n\tconst getCallsInQueueText = useMemo((): string => {\n\t\tif (queueCounter === 0) {\n\t\t\treturn t('Calls_in_queue_empty');\n\t\t}\n\n\t\tif (queueCounter === 1) {\n\t\t\treturn t('Calls_in_queue', { calls: queueCounter });\n\t\t}\n\n\t\treturn t('Calls_in_queue_plural', { calls: queueCounter });\n\t}, [queueCounter, t]);\n\n\tif (!('caller' in callerInfo)) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VoipFooterComponent\n\t\t\tcaller={callerInfo.caller}\n\t\t\tcallerState={callerInfo.state}\n\t\t\tcallActions={callActions}\n\t\t\ttitle={queueName || t('Phone_call')}\n\t\t\tsubtitle={getSubtitle()}\n\t\t\tmuted={muted}\n\t\t\tpaused={paused}\n\t\t\ttoggleMic={toggleMic}\n\t\t\ttogglePause={togglePause}\n\t\t\ttooltips={tooltips}\n\t\t\tcreateRoom={createRoom}\n\t\t\topenRoom={openRoom}\n\t\t\tcallsInQueue={getCallsInQueueText}\n\t\t\topenWrapUpCallModal={openWrapUpCallModal}\n\t\t\tdispatchEvent={dispatchEvent}\n\t\t\topenedRoomInfo={openedRoomInfo}\n\t\t\tanonymousText={t('Anonymous')}\n\t\t/>\n\t);\n};\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/sidebar/footer/voip/index.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/sidebar/footer/voip/index.tsx"}},"code":"module.export({\n  VoipFooter: () => VoipFooter\n});\nlet React, useCallback, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useCallback(v) {\n    useCallback = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  },\n\n  useState(v) {\n    useState = v;\n  }\n\n}, 0);\nlet useCallActions, useCallCreateRoom, useCallerInfo, useCallOpenRoom, useOpenedRoomInfo, useQueueCounter, useQueueName, useWrapUpModal;\nmodule.link(\"../../../contexts/CallContext\", {\n  useCallActions(v) {\n    useCallActions = v;\n  },\n\n  useCallCreateRoom(v) {\n    useCallCreateRoom = v;\n  },\n\n  useCallerInfo(v) {\n    useCallerInfo = v;\n  },\n\n  useCallOpenRoom(v) {\n    useCallOpenRoom = v;\n  },\n\n  useOpenedRoomInfo(v) {\n    useOpenedRoomInfo = v;\n  },\n\n  useQueueCounter(v) {\n    useQueueCounter = v;\n  },\n\n  useQueueName(v) {\n    useQueueName = v;\n  },\n\n  useWrapUpModal(v) {\n    useWrapUpModal = v;\n  }\n\n}, 1);\nlet useEndpoint;\nmodule.link(\"../../../contexts/ServerContext\", {\n  useEndpoint(v) {\n    useEndpoint = v;\n  }\n\n}, 2);\nlet useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 3);\nlet VoipFooterComponent;\nmodule.link(\"./VoipFooter\", {\n  VoipFooter(v) {\n    VoipFooterComponent = v;\n  }\n\n}, 4);\n\nconst VoipFooter = () => {\n  const t = useTranslation();\n  const callerInfo = useCallerInfo();\n  const callActions = useCallActions();\n  const dispatchEvent = useEndpoint('POST', 'voip/events');\n  const createRoom = useCallCreateRoom();\n  const openRoom = useCallOpenRoom();\n  const queueCounter = useQueueCounter();\n  const queueName = useQueueName();\n  const openWrapUpCallModal = useWrapUpModal();\n  const openedRoomInfo = useOpenedRoomInfo();\n  const [muted, setMuted] = useState(false);\n  const [paused, setPaused] = useState(false);\n  const toggleMic = useCallback(state => {\n    state ? callActions.mute() : callActions.unmute();\n    setMuted(state);\n  }, [callActions]);\n  const togglePause = useCallback(state => {\n    state ? callActions.pause() : callActions.resume();\n    setMuted(false);\n    setPaused(state);\n  }, [callActions]);\n\n  const getSubtitle = () => {\n    switch (callerInfo.state) {\n      case 'IN_CALL':\n        return t('In_progress');\n\n      case 'OFFER_RECEIVED':\n        return t('Ringing');\n\n      case 'ON_HOLD':\n        return t('On_Hold');\n    }\n\n    return '';\n  };\n\n  const tooltips = {\n    mute: t('Mute'),\n    holdCall: t('Hold_Call'),\n    acceptCall: t('Accept_Call'),\n    endCall: t('End_Call')\n  };\n  const getCallsInQueueText = useMemo(() => {\n    if (queueCounter === 0) {\n      return t('Calls_in_queue_empty');\n    }\n\n    if (queueCounter === 1) {\n      return t('Calls_in_queue', {\n        calls: queueCounter\n      });\n    }\n\n    return t('Calls_in_queue_plural', {\n      calls: queueCounter\n    });\n  }, [queueCounter, t]);\n\n  if (!('caller' in callerInfo)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(VoipFooterComponent, {\n    caller: callerInfo.caller,\n    callerState: callerInfo.state,\n    callActions: callActions,\n    title: queueName || t('Phone_call'),\n    subtitle: getSubtitle(),\n    muted: muted,\n    paused: paused,\n    toggleMic: toggleMic,\n    togglePause: togglePause,\n    tooltips: tooltips,\n    createRoom: createRoom,\n    openRoom: openRoom,\n    callsInQueue: getCallsInQueueText,\n    openWrapUpCallModal: openWrapUpCallModal,\n    dispatchEvent: dispatchEvent,\n    openedRoomInfo: openedRoomInfo,\n    anonymousText: t('Anonymous')\n  });\n};","map":{"version":3,"sources":["client/sidebar/footer/voip/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { ReactElement, useCallback, useMemo, useState } from 'react';\n\nimport {\n\tuseCallActions,\n\tuseCallCreateRoom,\n\tuseCallerInfo,\n\tuseCallOpenRoom,\n\tuseOpenedRoomInfo,\n\tuseQueueCounter,\n\tuseQueueName,\n\tuseWrapUpModal,\n} from '../../../contexts/CallContext';\nimport { useEndpoint } from '../../../contexts/ServerContext';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { VoipFooter as VoipFooterComponent } from './VoipFooter';\n\nexport const VoipFooter = (): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst callerInfo = useCallerInfo();\n\tconst callActions = useCallActions();\n\tconst dispatchEvent = useEndpoint('POST', 'voip/events');\n\n\tconst createRoom = useCallCreateRoom();\n\tconst openRoom = useCallOpenRoom();\n\tconst queueCounter = useQueueCounter();\n\tconst queueName = useQueueName();\n\tconst openWrapUpCallModal = useWrapUpModal();\n\tconst openedRoomInfo = useOpenedRoomInfo();\n\n\tconst [muted, setMuted] = useState(false);\n\tconst [paused, setPaused] = useState(false);\n\n\tconst toggleMic = useCallback(\n\t\t(state: boolean) => {\n\t\t\tstate ? callActions.mute() : callActions.unmute();\n\t\t\tsetMuted(state);\n\t\t},\n\t\t[callActions],\n\t);\n\n\tconst togglePause = useCallback(\n\t\t(state: boolean) => {\n\t\t\tstate ? callActions.pause() : callActions.resume();\n\t\t\tsetMuted(false);\n\t\t\tsetPaused(state);\n\t\t},\n\t\t[callActions],\n\t);\n\n\tconst getSubtitle = (): string => {\n\t\tswitch (callerInfo.state) {\n\t\t\tcase 'IN_CALL':\n\t\t\t\treturn t('In_progress');\n\t\t\tcase 'OFFER_RECEIVED':\n\t\t\t\treturn t('Ringing');\n\t\t\tcase 'ON_HOLD':\n\t\t\t\treturn t('On_Hold');\n\t\t}\n\n\t\treturn '';\n\t};\n\n\tconst tooltips = {\n\t\tmute: t('Mute'),\n\t\tholdCall: t('Hold_Call'),\n\t\tacceptCall: t('Accept_Call'),\n\t\tendCall: t('End_Call'),\n\t};\n\n\tconst getCallsInQueueText = useMemo((): string => {\n\t\tif (queueCounter === 0) {\n\t\t\treturn t('Calls_in_queue_empty');\n\t\t}\n\n\t\tif (queueCounter === 1) {\n\t\t\treturn t('Calls_in_queue', { calls: queueCounter });\n\t\t}\n\n\t\treturn t('Calls_in_queue_plural', { calls: queueCounter });\n\t}, [queueCounter, t]);\n\n\tif (!('caller' in callerInfo)) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<VoipFooterComponent\n\t\t\tcaller={callerInfo.caller}\n\t\t\tcallerState={callerInfo.state}\n\t\t\tcallActions={callActions}\n\t\t\ttitle={queueName || t('Phone_call')}\n\t\t\tsubtitle={getSubtitle()}\n\t\t\tmuted={muted}\n\t\t\tpaused={paused}\n\t\t\ttoggleMic={toggleMic}\n\t\t\ttogglePause={togglePause}\n\t\t\ttooltips={tooltips}\n\t\t\tcreateRoom={createRoom}\n\t\t\topenRoom={openRoom}\n\t\t\tcallsInQueue={getCallsInQueueText}\n\t\t\topenWrapUpCallModal={openWrapUpCallModal}\n\t\t\tdispatchEvent={dispatchEvent}\n\t\t\topenedRoomInfo={openedRoomInfo}\n\t\t\tanonymousText={t('Anonymous')}\n\t\t/>\n\t);\n};\n"],"sourceRoot":""},"sourceType":"module","hash":"5a1f0a6eaea9ffec601b1646ed9c8a31e8b222ff"}
