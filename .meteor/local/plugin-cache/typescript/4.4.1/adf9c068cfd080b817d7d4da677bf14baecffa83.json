{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx","inputSourceMap":{"version":3,"file":"ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx","sourceRoot":"","sources":["ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Button, Chevron, Skeleton } from '@rocket.chat/fuselage';\nimport { useBreakpoints } from '@rocket.chat/fuselage-hooks';\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\nimport moment from 'moment';\nimport React, { ReactElement, useMemo } from 'react';\n\nimport { useTranslation } from '../../../../../../client/contexts/TranslationContext';\nimport { useHourlyChatActivity } from './useHourlyChatActivity';\n\ntype ContentForHoursProps = {\n\tdisplacement: number;\n\tonPreviousDateClick: () => void;\n\tonNextDateClick: () => void;\n\ttimezone: 'utc' | 'local';\n};\n\nconst ContentForHours = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForHoursProps): ReactElement => {\n\tconst utc = timezone === 'utc';\n\tconst { data } = useHourlyChatActivity({ displacement, utc });\n\n\tconst t = useTranslation();\n\tconst isLgScreen = useBreakpoints().includes('lg');\n\n\tconst values = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst divider = 2;\n\t\tconst values = Array.from({ length: 24 / divider }, (_, i) => ({\n\t\t\thour: String(divider * i),\n\t\t\tusers: 0,\n\t\t}));\n\n\t\tfor (const { hour, users } of data?.hours ?? []) {\n\t\t\tconst i = Math.floor(hour / divider);\n\t\t\tvalues[i] = values[i] || { hour: String(divider * i), users: 0 };\n\t\t\tvalues[i].users += users;\n\t\t}\n\n\t\treturn values;\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' alignItems='center' justifyContent='center'>\n\t\t\t\t<Button ghost square small onClick={onPreviousDateClick}>\n\t\t\t\t\t<Chevron left size='x20' style={{ verticalAlign: 'middle' }} />\n\t\t\t\t</Button>\n\t\t\t\t<Box mi='x8' flexBasis='25%' is='span' style={{ textAlign: 'center' }}>\n\t\t\t\t\t{data ? moment(data.day).format(displacement < 7 ? 'dddd' : 'L') : null}\n\t\t\t\t</Box>\n\t\t\t\t<Button ghost square small disabled={displacement === 0} onClick={onNextDateClick}>\n\t\t\t\t\t<Chevron right size='x20' style={{ verticalAlign: 'middle' }} />\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{data ? (\n\t\t\t\t<Box display='flex' height='196px'>\n\t\t\t\t\t<Box alignSelf='stretch' flexGrow={1} flexShrink={0} position='relative'>\n\t\t\t\t\t\t<Box position='absolute' width='100%' height='100%'>\n\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\tindexBy='hour'\n\t\t\t\t\t\t\t\tkeys={['users']}\n\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\tbottom: 30,\n\t\t\t\t\t\t\t\t\tright: 5,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\tcolors.b500,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\taxisBottom={{\n\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\ttickRotation: isLgScreen ? 0 : 25,\n\t\t\t\t\t\t\t\t\ttickValues: 'every 2 hours',\n\t\t\t\t\t\t\t\t\tformat: (hour): string => moment().set({ hour, minute: 0, second: 0 }).format('LT'),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\tmotionStiffness={90}\n\t\t\t\t\t\t\t\tmotionDamping={15}\n\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: colors.n900,\n\t\t\t\t\t\t\t\t\t\tboxShadow: '0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)',\n\t\t\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\t\t\tpadding: 4,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttooltip={({ value }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<Box fontScale='p1m' color='alternative'>\n\t\t\t\t\t\t\t\t\t\t{t('Value_users', { value })}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Skeleton variant='rect' height={196} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ContentForHours;\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx"}},"code":"var _createForOfIteratorHelperLoose;\n\nmodule.link(\"@babel/runtime/helpers/createForOfIteratorHelperLoose\", {\n  default: function (v) {\n    _createForOfIteratorHelperLoose = v;\n  }\n}, 0);\nvar ResponsiveBar;\nmodule.link(\"@nivo/bar\", {\n  ResponsiveBar: function (v) {\n    ResponsiveBar = v;\n  }\n}, 0);\nvar Box, Button, Chevron, Skeleton;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box: function (v) {\n    Box = v;\n  },\n  Button: function (v) {\n    Button = v;\n  },\n  Chevron: function (v) {\n    Chevron = v;\n  },\n  Skeleton: function (v) {\n    Skeleton = v;\n  }\n}, 1);\nvar useBreakpoints;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useBreakpoints: function (v) {\n    useBreakpoints = v;\n  }\n}, 2);\nvar colors;\nmodule.link(\"@rocket.chat/fuselage-tokens/colors.json\", {\n  \"default\": function (v) {\n    colors = v;\n  }\n}, 3);\nvar moment;\nmodule.link(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 4);\nvar React, useMemo;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  }\n}, 5);\nvar useTranslation;\nmodule.link(\"../../../../../../client/contexts/TranslationContext\", {\n  useTranslation: function (v) {\n    useTranslation = v;\n  }\n}, 6);\nvar useHourlyChatActivity;\nmodule.link(\"./useHourlyChatActivity\", {\n  useHourlyChatActivity: function (v) {\n    useHourlyChatActivity = v;\n  }\n}, 7);\n\nvar ContentForHours = function (_ref) {\n  var displacement = _ref.displacement,\n      onPreviousDateClick = _ref.onPreviousDateClick,\n      onNextDateClick = _ref.onNextDateClick,\n      timezone = _ref.timezone;\n  var utc = timezone === 'utc';\n\n  var _useHourlyChatActivit = useHourlyChatActivity({\n    displacement: displacement,\n    utc: utc\n  }),\n      data = _useHourlyChatActivit.data;\n\n  var t = useTranslation();\n  var isLgScreen = useBreakpoints().includes('lg');\n  var values = useMemo(function () {\n    if (!data) {\n      return [];\n    }\n\n    var divider = 2;\n    var values = Array.from({\n      length: 24 / divider\n    }, function (_, i) {\n      return {\n        hour: String(divider * i),\n        users: 0\n      };\n    });\n\n    for (var _iterator = _createForOfIteratorHelperLoose((_data$hours = data === null || data === void 0 ? void 0 : data.hours) !== null && _data$hours !== void 0 ? _data$hours : []), _step; !(_step = _iterator()).done;) {\n      var _data$hours;\n\n      var _ref2 = _step.value;\n      var hour = _ref2.hour;\n      var users = _ref2.users;\n      var i = Math.floor(hour / divider);\n      values[i] = values[i] || {\n        hour: String(divider * i),\n        users: 0\n      };\n      values[i].users += users;\n    }\n\n    return values;\n  }, [data]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    ghost: true,\n    square: true,\n    small: true,\n    onClick: onPreviousDateClick\n  }, /*#__PURE__*/React.createElement(Chevron, {\n    left: true,\n    size: \"x20\",\n    style: {\n      verticalAlign: 'middle'\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    mi: \"x8\",\n    flexBasis: \"25%\",\n    is: \"span\",\n    style: {\n      textAlign: 'center'\n    }\n  }, data ? moment(data.day).format(displacement < 7 ? 'dddd' : 'L') : null), /*#__PURE__*/React.createElement(Button, {\n    ghost: true,\n    square: true,\n    small: true,\n    disabled: displacement === 0,\n    onClick: onNextDateClick\n  }, /*#__PURE__*/React.createElement(Chevron, {\n    right: true,\n    size: \"x20\",\n    style: {\n      verticalAlign: 'middle'\n    }\n  }))), data ? /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    height: \"196px\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    alignSelf: \"stretch\",\n    flexGrow: 1,\n    flexShrink: 0,\n    position: \"relative\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    height: \"100%\"\n  }, /*#__PURE__*/React.createElement(ResponsiveBar, {\n    data: values,\n    indexBy: \"hour\",\n    keys: ['users'],\n    groupMode: \"grouped\",\n    padding: 0.25,\n    margin: {\n      // TODO: Get it from theme\n      bottom: 30,\n      right: 5\n    },\n    colors: [// TODO: Get it from theme\n    colors.b500],\n    enableLabel: false,\n    enableGridY: false,\n    axisTop: null,\n    axisRight: null,\n    axisBottom: {\n      tickSize: 0,\n      // TODO: Get it from theme\n      tickPadding: 4,\n      tickRotation: isLgScreen ? 0 : 25,\n      tickValues: 'every 2 hours',\n      format: function (hour) {\n        return moment().set({\n          hour: hour,\n          minute: 0,\n          second: 0\n        }).format('LT');\n      }\n    },\n    axisLeft: null,\n    animate: true,\n    motionStiffness: 90,\n    motionDamping: 15,\n    theme: {\n      // TODO: Get it from theme\n      axis: {\n        ticks: {\n          text: {\n            fill: colors.n600,\n            fontFamily: 'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n            fontSize: '10px',\n            fontStyle: 'normal',\n            fontWeight: 600,\n            letterSpacing: '0.2px',\n            lineHeight: '12px'\n          }\n        }\n      },\n      tooltip: {\n        // @ts-ignore\n        backgroundColor: colors.n900,\n        boxShadow: '0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)',\n        borderRadius: 2,\n        padding: 4\n      }\n    },\n    tooltip: function (_ref3) {\n      var value = _ref3.value;\n      return /*#__PURE__*/React.createElement(Box, {\n        fontScale: \"p1m\",\n        color: \"alternative\"\n      }, t('Value_users', {\n        value: value\n      }));\n    }\n  })))) : /*#__PURE__*/React.createElement(Skeleton, {\n    variant: \"rect\",\n    height: 196\n  }));\n};\n\nmodule.exportDefault(ContentForHours);","map":{"version":3,"sources":["ee/client/views/admin/engagementDashboard/users/ContentForHours.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ResponsiveBar } from '@nivo/bar';\nimport { Box, Button, Chevron, Skeleton } from '@rocket.chat/fuselage';\nimport { useBreakpoints } from '@rocket.chat/fuselage-hooks';\nimport colors from '@rocket.chat/fuselage-tokens/colors.json';\nimport moment from 'moment';\nimport React, { ReactElement, useMemo } from 'react';\n\nimport { useTranslation } from '../../../../../../client/contexts/TranslationContext';\nimport { useHourlyChatActivity } from './useHourlyChatActivity';\n\ntype ContentForHoursProps = {\n\tdisplacement: number;\n\tonPreviousDateClick: () => void;\n\tonNextDateClick: () => void;\n\ttimezone: 'utc' | 'local';\n};\n\nconst ContentForHours = ({ displacement, onPreviousDateClick, onNextDateClick, timezone }: ContentForHoursProps): ReactElement => {\n\tconst utc = timezone === 'utc';\n\tconst { data } = useHourlyChatActivity({ displacement, utc });\n\n\tconst t = useTranslation();\n\tconst isLgScreen = useBreakpoints().includes('lg');\n\n\tconst values = useMemo(() => {\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst divider = 2;\n\t\tconst values = Array.from({ length: 24 / divider }, (_, i) => ({\n\t\t\thour: String(divider * i),\n\t\t\tusers: 0,\n\t\t}));\n\n\t\tfor (const { hour, users } of data?.hours ?? []) {\n\t\t\tconst i = Math.floor(hour / divider);\n\t\t\tvalues[i] = values[i] || { hour: String(divider * i), users: 0 };\n\t\t\tvalues[i].users += users;\n\t\t}\n\n\t\treturn values;\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' alignItems='center' justifyContent='center'>\n\t\t\t\t<Button ghost square small onClick={onPreviousDateClick}>\n\t\t\t\t\t<Chevron left size='x20' style={{ verticalAlign: 'middle' }} />\n\t\t\t\t</Button>\n\t\t\t\t<Box mi='x8' flexBasis='25%' is='span' style={{ textAlign: 'center' }}>\n\t\t\t\t\t{data ? moment(data.day).format(displacement < 7 ? 'dddd' : 'L') : null}\n\t\t\t\t</Box>\n\t\t\t\t<Button ghost square small disabled={displacement === 0} onClick={onNextDateClick}>\n\t\t\t\t\t<Chevron right size='x20' style={{ verticalAlign: 'middle' }} />\n\t\t\t\t</Button>\n\t\t\t</Box>\n\t\t\t{data ? (\n\t\t\t\t<Box display='flex' height='196px'>\n\t\t\t\t\t<Box alignSelf='stretch' flexGrow={1} flexShrink={0} position='relative'>\n\t\t\t\t\t\t<Box position='absolute' width='100%' height='100%'>\n\t\t\t\t\t\t\t<ResponsiveBar\n\t\t\t\t\t\t\t\tdata={values}\n\t\t\t\t\t\t\t\tindexBy='hour'\n\t\t\t\t\t\t\t\tkeys={['users']}\n\t\t\t\t\t\t\t\tgroupMode='grouped'\n\t\t\t\t\t\t\t\tpadding={0.25}\n\t\t\t\t\t\t\t\tmargin={{\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\tbottom: 30,\n\t\t\t\t\t\t\t\t\tright: 5,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tcolors={[\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\tcolors.b500,\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tenableLabel={false}\n\t\t\t\t\t\t\t\tenableGridY={false}\n\t\t\t\t\t\t\t\taxisTop={null}\n\t\t\t\t\t\t\t\taxisRight={null}\n\t\t\t\t\t\t\t\taxisBottom={{\n\t\t\t\t\t\t\t\t\ttickSize: 0,\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\ttickPadding: 4,\n\t\t\t\t\t\t\t\t\ttickRotation: isLgScreen ? 0 : 25,\n\t\t\t\t\t\t\t\t\ttickValues: 'every 2 hours',\n\t\t\t\t\t\t\t\t\tformat: (hour): string => moment().set({ hour, minute: 0, second: 0 }).format('LT'),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taxisLeft={null}\n\t\t\t\t\t\t\t\tanimate={true}\n\t\t\t\t\t\t\t\tmotionStiffness={90}\n\t\t\t\t\t\t\t\tmotionDamping={15}\n\t\t\t\t\t\t\t\ttheme={{\n\t\t\t\t\t\t\t\t\t// TODO: Get it from theme\n\t\t\t\t\t\t\t\t\taxis: {\n\t\t\t\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\t\t\t\ttext: {\n\t\t\t\t\t\t\t\t\t\t\t\tfill: colors.n600,\n\t\t\t\t\t\t\t\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t\t\t\t\t\t\t\t'Inter, -apple-system, system-ui, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Helvetica Neue\", \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Meiryo UI\", Arial, sans-serif',\n\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '10px',\n\t\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'normal',\n\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.2px',\n\t\t\t\t\t\t\t\t\t\t\t\tlineHeight: '12px',\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttooltip: {\n\t\t\t\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: colors.n900,\n\t\t\t\t\t\t\t\t\t\tboxShadow: '0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)',\n\t\t\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\t\t\tpadding: 4,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttooltip={({ value }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<Box fontScale='p1m' color='alternative'>\n\t\t\t\t\t\t\t\t\t\t{t('Value_users', { value })}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t) : (\n\t\t\t\t<Skeleton variant='rect' height={196} />\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default ContentForHours;\n"],"sourceRoot":""},"sourceType":"module","hash":"adf9c068cfd080b817d7d4da677bf14baecffa83"}
