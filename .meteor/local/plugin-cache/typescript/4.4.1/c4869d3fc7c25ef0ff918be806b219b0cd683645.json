{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/setupWizard/providers/OnboardingI18nProvider.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/setupWizard/providers/OnboardingI18nProvider.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/setupWizard/providers/OnboardingI18nProvider.tsx","inputSourceMap":{"version":3,"file":"client/views/setupWizard/providers/OnboardingI18nProvider.tsx","sourceRoot":"","sources":["client/views/setupWizard/providers/OnboardingI18nProvider.tsx"],"names":[],"mappings":"AAAA,OAAO,OAAO,MAAM,SAAS,CAAC;AAC9B,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AACtD,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAgB,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACjF,OAAO,EAAE,eAAe,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;AAElE,OAAO,EAAE,cAAc,EAAE,MAAM,iCAAiC,CAAC;AACjE,OAAO,EAAE,WAAW,EAAE,MAAM,sCAAsC,CAAC;AACnE,OAAO,WAAW,MAAM,wBAAwB,CAAC;AAEjD,MAAM,iBAAiB,GAAG,GAAmB,EAAE;IAC9C,MAAM,QAAQ,GAAG,cAAc,EAAE,CAAC,OAAO,CAAC,CAAC;IAE3C,MAAM,IAAI,GAAG,QAAQ,CAAC,GAAG,EAAE;QAC1B,MAAM,IAAI,GAAG,OAAO,CAAC,cAAc,EAAE,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAEpF,IAAI,CAAC,IAAI,CAAC;YACT,WAAW,EAAE,IAAI;YACjB,EAAE,EAAE,CAAC,YAAY,CAAC;YAClB,SAAS,EAAE,YAAY;YACvB,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE;gBACR,QAAQ,EAAE,GAAG,QAAQ,eAAe;gBACpC,KAAK,EAAE,CAAC,IAAY,EAAE,UAA8B,EAAE,aAAgC,EAAE,EAA0B,EAAE;oBACnH,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAChC,MAAM,MAAM,GAA2B,EAAE,CAAC;oBAE1C,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;wBACtC,MAAM,MAAM,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,SAAS,GAAG,CAAC,CAAC,CAAC;wBAE5H,IAAI,MAAM,EAAE;4BACX,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;yBACnD;qBACD;oBAED,OAAO,MAAM,CAAC;gBACf,CAAC;aACD;SACD,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAEN,MAAM,GAAG,GAAG,WAAW,EAAE,CAAC;IAE1B,SAAS,CAAC,GAAG,EAAE;QACd,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;IAC1B,CAAC,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;IAEhB,OAAO,IAAI,CAAC;AACb,CAAC,CAAC;AAEF,MAAM,sBAAsB,GAAG,CAAC,EAAE,QAAQ,EAA8B,EAAgB,EAAE;IACzF,MAAM,IAAI,GAAG,iBAAiB,EAAE,CAAC;IAEjC,OAAO,CACN,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,AAAD,EAAG,CAAC,CACnC;GAAA,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,eAAe,CACzD;EAAA,EAAE,QAAQ,CAAC,CACX,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,IAAI,CAAC,sBAAsB,CAAC,CAAC","sourcesContent":["import i18next from 'i18next';\nimport i18nextHttpBackend from 'i18next-http-backend';\nimport React, { Suspense, memo, ReactElement, useEffect, useState } from 'react';\nimport { I18nextProvider, initReactI18next } from 'react-i18next';\n\nimport { useAbsoluteUrl } from '../../../contexts/ServerContext';\nimport { useLanguage } from '../../../contexts/TranslationContext';\nimport PageLoading from '../../root/PageLoading';\n\nconst useOnboardingI18n = (): typeof i18next => {\n\tconst basePath = useAbsoluteUrl()('/i18n');\n\n\tconst i18n = useState(() => {\n\t\tconst i18n = i18next.createInstance().use(i18nextHttpBackend).use(initReactI18next);\n\n\t\ti18n.init({\n\t\t\tfallbackLng: 'en',\n\t\t\tns: ['onboarding'],\n\t\t\tdefaultNS: 'onboarding',\n\t\t\tdebug: false,\n\t\t\tbackend: {\n\t\t\t\tloadPath: `${basePath}/{{lng}}.json`,\n\t\t\t\tparse: (data: string, _languages?: string | string[], namespaces: string | string[] = []): { [key: string]: any } => {\n\t\t\t\t\tconst source = JSON.parse(data);\n\t\t\t\t\tconst result: { [key: string]: any } = {};\n\n\t\t\t\t\tfor (const key of Object.keys(source)) {\n\t\t\t\t\t\tconst prefix = (Array.isArray(namespaces) ? namespaces : [namespaces]).find((namespace) => key.startsWith(`${namespace}.`));\n\n\t\t\t\t\t\tif (prefix) {\n\t\t\t\t\t\t\tresult[key.slice(prefix.length + 1)] = source[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn i18n;\n\t})[0];\n\n\tconst lng = useLanguage();\n\n\tuseEffect(() => {\n\t\ti18n.changeLanguage(lng);\n\t}, [i18n, lng]);\n\n\treturn i18n;\n};\n\nconst OnboardingI18nProvider = ({ children }: { children: ReactElement }): ReactElement => {\n\tconst i18n = useOnboardingI18n();\n\n\treturn (\n\t\t<Suspense fallback={<PageLoading />}>\n\t\t\t<I18nextProvider i18n={i18n}>{children}</I18nextProvider>\n\t\t</Suspense>\n\t);\n};\n\nexport default memo(OnboardingI18nProvider);\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/setupWizard/providers/OnboardingI18nProvider.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/setupWizard/providers/OnboardingI18nProvider.tsx"}},"code":"let i18next;\nmodule.link(\"i18next\", {\n  default(v) {\n    i18next = v;\n  }\n\n}, 0);\nlet i18nextHttpBackend;\nmodule.link(\"i18next-http-backend\", {\n  default(v) {\n    i18nextHttpBackend = v;\n  }\n\n}, 1);\nlet React, Suspense, memo, useEffect, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  Suspense(v) {\n    Suspense = v;\n  },\n\n  memo(v) {\n    memo = v;\n  },\n\n  useEffect(v) {\n    useEffect = v;\n  },\n\n  useState(v) {\n    useState = v;\n  }\n\n}, 2);\nlet I18nextProvider, initReactI18next;\nmodule.link(\"react-i18next\", {\n  I18nextProvider(v) {\n    I18nextProvider = v;\n  },\n\n  initReactI18next(v) {\n    initReactI18next = v;\n  }\n\n}, 3);\nlet useAbsoluteUrl;\nmodule.link(\"../../../contexts/ServerContext\", {\n  useAbsoluteUrl(v) {\n    useAbsoluteUrl = v;\n  }\n\n}, 4);\nlet useLanguage;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useLanguage(v) {\n    useLanguage = v;\n  }\n\n}, 5);\nlet PageLoading;\nmodule.link(\"../../root/PageLoading\", {\n  default(v) {\n    PageLoading = v;\n  }\n\n}, 6);\n\nconst useOnboardingI18n = () => {\n  const basePath = useAbsoluteUrl()('/i18n');\n  const i18n = useState(() => {\n    const i18n = i18next.createInstance().use(i18nextHttpBackend).use(initReactI18next);\n    i18n.init({\n      fallbackLng: 'en',\n      ns: ['onboarding'],\n      defaultNS: 'onboarding',\n      debug: false,\n      backend: {\n        loadPath: \"\".concat(basePath, \"/{{lng}}.json\"),\n        parse: function (data, _languages) {\n          let namespaces = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n          const source = JSON.parse(data);\n          const result = {};\n\n          for (const key of Object.keys(source)) {\n            const prefix = (Array.isArray(namespaces) ? namespaces : [namespaces]).find(namespace => key.startsWith(\"\".concat(namespace, \".\")));\n\n            if (prefix) {\n              result[key.slice(prefix.length + 1)] = source[key];\n            }\n          }\n\n          return result;\n        }\n      }\n    });\n    return i18n;\n  })[0];\n  const lng = useLanguage();\n  useEffect(() => {\n    i18n.changeLanguage(lng);\n  }, [i18n, lng]);\n  return i18n;\n};\n\nconst OnboardingI18nProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const i18n = useOnboardingI18n();\n  return /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(PageLoading, null)\n  }, /*#__PURE__*/React.createElement(I18nextProvider, {\n    i18n: i18n\n  }, children));\n};\n\nmodule.exportDefault( /*#__PURE__*/memo(OnboardingI18nProvider));","map":{"version":3,"sources":["client/views/setupWizard/providers/OnboardingI18nProvider.tsx"],"names":[],"mappings":"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","sourcesContent":["import i18next from 'i18next';\nimport i18nextHttpBackend from 'i18next-http-backend';\nimport React, { Suspense, memo, ReactElement, useEffect, useState } from 'react';\nimport { I18nextProvider, initReactI18next } from 'react-i18next';\n\nimport { useAbsoluteUrl } from '../../../contexts/ServerContext';\nimport { useLanguage } from '../../../contexts/TranslationContext';\nimport PageLoading from '../../root/PageLoading';\n\nconst useOnboardingI18n = (): typeof i18next => {\n\tconst basePath = useAbsoluteUrl()('/i18n');\n\n\tconst i18n = useState(() => {\n\t\tconst i18n = i18next.createInstance().use(i18nextHttpBackend).use(initReactI18next);\n\n\t\ti18n.init({\n\t\t\tfallbackLng: 'en',\n\t\t\tns: ['onboarding'],\n\t\t\tdefaultNS: 'onboarding',\n\t\t\tdebug: false,\n\t\t\tbackend: {\n\t\t\t\tloadPath: `${basePath}/{{lng}}.json`,\n\t\t\t\tparse: (data: string, _languages?: string | string[], namespaces: string | string[] = []): { [key: string]: any } => {\n\t\t\t\t\tconst source = JSON.parse(data);\n\t\t\t\t\tconst result: { [key: string]: any } = {};\n\n\t\t\t\t\tfor (const key of Object.keys(source)) {\n\t\t\t\t\t\tconst prefix = (Array.isArray(namespaces) ? namespaces : [namespaces]).find((namespace) => key.startsWith(`${namespace}.`));\n\n\t\t\t\t\t\tif (prefix) {\n\t\t\t\t\t\t\tresult[key.slice(prefix.length + 1)] = source[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\treturn i18n;\n\t})[0];\n\n\tconst lng = useLanguage();\n\n\tuseEffect(() => {\n\t\ti18n.changeLanguage(lng);\n\t}, [i18n, lng]);\n\n\treturn i18n;\n};\n\nconst OnboardingI18nProvider = ({ children }: { children: ReactElement }): ReactElement => {\n\tconst i18n = useOnboardingI18n();\n\n\treturn (\n\t\t<Suspense fallback={<PageLoading />}>\n\t\t\t<I18nextProvider i18n={i18n}>{children}</I18nextProvider>\n\t\t</Suspense>\n\t);\n};\n\nexport default memo(OnboardingI18nProvider);\n"],"sourceRoot":""},"sourceType":"module","hash":"c4869d3fc7c25ef0ff918be806b219b0cd683645"}
