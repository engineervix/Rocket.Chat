{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","inputSourceMap":{"version":3,"file":"ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","sourceRoot":"","sources":["ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useDebouncedValue, useLocalStorage, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, MouseEvent, useCallback, useMemo, useState } from 'react';\n\nimport { chatMessages } from '../../../../../../app/ui';\nimport { useSetModal } from '../../../../../../client/contexts/ModalContext';\nimport { useCurrentRoute, useRoute } from '../../../../../../client/contexts/RouterContext';\nimport { useRecordList } from '../../../../../../client/hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../../../client/lib/asyncState';\nimport { useRoom } from '../../../../../../client/views/room/contexts/RoomContext';\nimport { useCannedResponseFilterOptions } from '../../../hooks/useCannedResponseFilterOptions';\nimport { useCannedResponseList } from '../../../hooks/useCannedResponseList';\nimport CreateCannedResponse from '../../CannedResponse/modals';\nimport CannedResponseList from './CannedResponseList';\n\nexport const WrapCannedResponseList: FC<{ tabBar: any }> = ({ tabBar }) => {\n\tconst room = useRoom();\n\tconst [name] = useCurrentRoute();\n\tconst channelRoute = useRoute(name || '');\n\tconst setModal = useSetModal();\n\n\tconst options = useCannedResponseFilterOptions() as [string, string][];\n\n\tconst [text, setText] = useState('');\n\tconst [type, setType] = useLocalStorage('canned-response-list-type', 'all');\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst debouncedText = useDebouncedValue(text, 400);\n\n\tconst { cannedList, loadMoreItems, reload } = useCannedResponseList(\n\t\tuseMemo(() => ({ filter: debouncedText, type }), [debouncedText, type]),\n\t);\n\tconst { phase, items, itemCount } = useRecordList(cannedList);\n\n\tconst onClickItem = useMutableCallback((data) => {\n\t\tconst { _id: context } = data;\n\n\t\tchannelRoute?.push({\n\t\t\tid: room._id,\n\t\t\ttab: 'canned-responses',\n\t\t\tcontext,\n\t\t});\n\t});\n\n\tconst onClickUse = (e: MouseEvent<HTMLOrSVGElement>, text: string): void => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tconst { input } = chatMessages[room._id];\n\n\t\tinput.value = text;\n\t\tinput.focus();\n\t};\n\n\tconst onClickCreate = (): void => {\n\t\tsetModal(<CreateCannedResponse reloadCannedList={reload} />);\n\t};\n\n\treturn (\n\t\t<CannedResponseList\n\t\t\tloadMoreItems={loadMoreItems}\n\t\t\tcannedItems={items}\n\t\t\titemCount={itemCount}\n\t\t\tonClose={tabBar.close}\n\t\t\tloading={phase === AsyncStatePhase.LOADING}\n\t\t\toptions={options}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\ttype={type}\n\t\t\tsetType={setType}\n\t\t\tonClickUse={onClickUse}\n\t\t\tonClickItem={onClickItem}\n\t\t\tonClickCreate={onClickCreate}\n\t\t\treload={reload}\n\t\t/>\n\t);\n};\n\nexport default memo(WrapCannedResponseList);\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx"}},"code":"var _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nmodule.export({\n  WrapCannedResponseList: function () {\n    return WrapCannedResponseList;\n  }\n});\nvar useDebouncedValue, useLocalStorage, useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue: function (v) {\n    useDebouncedValue = v;\n  },\n  useLocalStorage: function (v) {\n    useLocalStorage = v;\n  },\n  useMutableCallback: function (v) {\n    useMutableCallback = v;\n  }\n}, 0);\nvar React, memo, useCallback, useMemo, useState;\nmodule.link(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  memo: function (v) {\n    memo = v;\n  },\n  useCallback: function (v) {\n    useCallback = v;\n  },\n  useMemo: function (v) {\n    useMemo = v;\n  },\n  useState: function (v) {\n    useState = v;\n  }\n}, 1);\nvar chatMessages;\nmodule.link(\"../../../../../../app/ui\", {\n  chatMessages: function (v) {\n    chatMessages = v;\n  }\n}, 2);\nvar useSetModal;\nmodule.link(\"../../../../../../client/contexts/ModalContext\", {\n  useSetModal: function (v) {\n    useSetModal = v;\n  }\n}, 3);\nvar useCurrentRoute, useRoute;\nmodule.link(\"../../../../../../client/contexts/RouterContext\", {\n  useCurrentRoute: function (v) {\n    useCurrentRoute = v;\n  },\n  useRoute: function (v) {\n    useRoute = v;\n  }\n}, 4);\nvar useRecordList;\nmodule.link(\"../../../../../../client/hooks/lists/useRecordList\", {\n  useRecordList: function (v) {\n    useRecordList = v;\n  }\n}, 5);\nvar AsyncStatePhase;\nmodule.link(\"../../../../../../client/lib/asyncState\", {\n  AsyncStatePhase: function (v) {\n    AsyncStatePhase = v;\n  }\n}, 6);\nvar useRoom;\nmodule.link(\"../../../../../../client/views/room/contexts/RoomContext\", {\n  useRoom: function (v) {\n    useRoom = v;\n  }\n}, 7);\nvar useCannedResponseFilterOptions;\nmodule.link(\"../../../hooks/useCannedResponseFilterOptions\", {\n  useCannedResponseFilterOptions: function (v) {\n    useCannedResponseFilterOptions = v;\n  }\n}, 8);\nvar useCannedResponseList;\nmodule.link(\"../../../hooks/useCannedResponseList\", {\n  useCannedResponseList: function (v) {\n    useCannedResponseList = v;\n  }\n}, 9);\nvar CreateCannedResponse;\nmodule.link(\"../../CannedResponse/modals\", {\n  \"default\": function (v) {\n    CreateCannedResponse = v;\n  }\n}, 10);\nvar CannedResponseList;\nmodule.link(\"./CannedResponseList\", {\n  \"default\": function (v) {\n    CannedResponseList = v;\n  }\n}, 11);\n\nvar WrapCannedResponseList = function (_ref) {\n  var tabBar = _ref.tabBar;\n  var room = useRoom();\n\n  var _useCurrentRoute = useCurrentRoute(),\n      _useCurrentRoute2 = _slicedToArray(_useCurrentRoute, 1),\n      name = _useCurrentRoute2[0];\n\n  var channelRoute = useRoute(name || '');\n  var setModal = useSetModal();\n  var options = useCannedResponseFilterOptions();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useLocalStorage = useLocalStorage('canned-response-list-type', 'all'),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      type = _useLocalStorage2[0],\n      setType = _useLocalStorage2[1];\n\n  var handleTextChange = useCallback(function (event) {\n    setText(event.currentTarget.value);\n  }, []);\n  var debouncedText = useDebouncedValue(text, 400);\n\n  var _useCannedResponseLis = useCannedResponseList(useMemo(function () {\n    return {\n      filter: debouncedText,\n      type: type\n    };\n  }, [debouncedText, type])),\n      cannedList = _useCannedResponseLis.cannedList,\n      loadMoreItems = _useCannedResponseLis.loadMoreItems,\n      reload = _useCannedResponseLis.reload;\n\n  var _useRecordList = useRecordList(cannedList),\n      phase = _useRecordList.phase,\n      items = _useRecordList.items,\n      itemCount = _useRecordList.itemCount;\n\n  var onClickItem = useMutableCallback(function (data) {\n    var context = data._id;\n    channelRoute === null || channelRoute === void 0 ? void 0 : channelRoute.push({\n      id: room._id,\n      tab: 'canned-responses',\n      context: context\n    });\n  });\n\n  var onClickUse = function (e, text) {\n    e.preventDefault();\n    e.stopPropagation();\n    var input = chatMessages[room._id].input;\n    input.value = text;\n    input.focus();\n  };\n\n  var onClickCreate = function () {\n    setModal( /*#__PURE__*/React.createElement(CreateCannedResponse, {\n      reloadCannedList: reload\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(CannedResponseList, {\n    loadMoreItems: loadMoreItems,\n    cannedItems: items,\n    itemCount: itemCount,\n    onClose: tabBar.close,\n    loading: phase === AsyncStatePhase.LOADING,\n    options: options,\n    text: text,\n    setText: handleTextChange,\n    type: type,\n    setType: setType,\n    onClickUse: onClickUse,\n    onClickItem: onClickItem,\n    onClickCreate: onClickCreate,\n    reload: reload\n  });\n};\n\nmodule.exportDefault( /*#__PURE__*/memo(WrapCannedResponseList));","map":{"version":3,"sources":["ee/client/omnichannel/components/contextualBar/CannedResponse/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useDebouncedValue, useLocalStorage, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { FC, memo, MouseEvent, useCallback, useMemo, useState } from 'react';\n\nimport { chatMessages } from '../../../../../../app/ui';\nimport { useSetModal } from '../../../../../../client/contexts/ModalContext';\nimport { useCurrentRoute, useRoute } from '../../../../../../client/contexts/RouterContext';\nimport { useRecordList } from '../../../../../../client/hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../../../client/lib/asyncState';\nimport { useRoom } from '../../../../../../client/views/room/contexts/RoomContext';\nimport { useCannedResponseFilterOptions } from '../../../hooks/useCannedResponseFilterOptions';\nimport { useCannedResponseList } from '../../../hooks/useCannedResponseList';\nimport CreateCannedResponse from '../../CannedResponse/modals';\nimport CannedResponseList from './CannedResponseList';\n\nexport const WrapCannedResponseList: FC<{ tabBar: any }> = ({ tabBar }) => {\n\tconst room = useRoom();\n\tconst [name] = useCurrentRoute();\n\tconst channelRoute = useRoute(name || '');\n\tconst setModal = useSetModal();\n\n\tconst options = useCannedResponseFilterOptions() as [string, string][];\n\n\tconst [text, setText] = useState('');\n\tconst [type, setType] = useLocalStorage('canned-response-list-type', 'all');\n\n\tconst handleTextChange = useCallback((event) => {\n\t\tsetText(event.currentTarget.value);\n\t}, []);\n\n\tconst debouncedText = useDebouncedValue(text, 400);\n\n\tconst { cannedList, loadMoreItems, reload } = useCannedResponseList(\n\t\tuseMemo(() => ({ filter: debouncedText, type }), [debouncedText, type]),\n\t);\n\tconst { phase, items, itemCount } = useRecordList(cannedList);\n\n\tconst onClickItem = useMutableCallback((data) => {\n\t\tconst { _id: context } = data;\n\n\t\tchannelRoute?.push({\n\t\t\tid: room._id,\n\t\t\ttab: 'canned-responses',\n\t\t\tcontext,\n\t\t});\n\t});\n\n\tconst onClickUse = (e: MouseEvent<HTMLOrSVGElement>, text: string): void => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tconst { input } = chatMessages[room._id];\n\n\t\tinput.value = text;\n\t\tinput.focus();\n\t};\n\n\tconst onClickCreate = (): void => {\n\t\tsetModal(<CreateCannedResponse reloadCannedList={reload} />);\n\t};\n\n\treturn (\n\t\t<CannedResponseList\n\t\t\tloadMoreItems={loadMoreItems}\n\t\t\tcannedItems={items}\n\t\t\titemCount={itemCount}\n\t\t\tonClose={tabBar.close}\n\t\t\tloading={phase === AsyncStatePhase.LOADING}\n\t\t\toptions={options}\n\t\t\ttext={text}\n\t\t\tsetText={handleTextChange}\n\t\t\ttype={type}\n\t\t\tsetType={setType}\n\t\t\tonClickUse={onClickUse}\n\t\t\tonClickItem={onClickItem}\n\t\t\tonClickCreate={onClickCreate}\n\t\t\treload={reload}\n\t\t/>\n\t);\n};\n\nexport default memo(WrapCannedResponseList);\n"],"sourceRoot":""},"sourceType":"module","hash":"2d82eb571d21ead34c2c042e1fc40bae3878e7e0"}
