{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/omnichannel/queueList/index.tsx","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser"},"sourceFileName":"client/views/omnichannel/queueList/index.tsx","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/omnichannel/queueList/index.tsx","inputSourceMap":{"version":3,"file":"client/views/omnichannel/queueList/index.tsx","sourceRoot":"","sources":["client/views/omnichannel/queueList/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Table } from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useMediaQuery, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { ReactElement, useCallback, useMemo, useState } from 'react';\n\nimport GenericTable from '../../../components/GenericTable';\nimport UserAvatar from '../../../components/avatar/UserAvatar';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { QueueListPage } from './QueueListPage';\nimport { useQuery } from './hooks/useQuery';\n\nconst QueueList = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst [sort, setSort] = useState<[string, 'asc' | 'desc']>(['servedBy', 'desc']);\n\n\tconst onHeaderClick = useMutableCallback((id) => {\n\t\tconst [sortBy, sortDirection] = sort;\n\n\t\tif (sortBy === id) {\n\t\t\tsetSort([id, sortDirection === 'asc' ? 'desc' : 'asc']);\n\t\t\treturn;\n\t\t}\n\t\tsetSort([id, 'asc']);\n\t});\n\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst header = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\tmediaQuery && (\n\t\t\t\t\t<GenericTable.HeaderCell\n\t\t\t\t\t\tkey={'servedBy'}\n\t\t\t\t\t\tdirection={sort[1]}\n\t\t\t\t\t\tactive={sort[0] === 'servedBy'}\n\t\t\t\t\t\tonClick={onHeaderClick}\n\t\t\t\t\t\tsort='servedBy'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Served_By')}\n\t\t\t\t\t</GenericTable.HeaderCell>\n\t\t\t\t),\n\t\t\t\t<GenericTable.HeaderCell\n\t\t\t\t\tkey={'department'}\n\t\t\t\t\tdirection={sort[1]}\n\t\t\t\t\tactive={sort[0] === 'departmend'}\n\t\t\t\t\tonClick={onHeaderClick}\n\t\t\t\t\tsort='department'\n\t\t\t\t>\n\t\t\t\t\t{t('Department')}\n\t\t\t\t</GenericTable.HeaderCell>,\n\t\t\t\t<GenericTable.HeaderCell key={'total'} direction={sort[1]} active={sort[0] === 'total'} onClick={onHeaderClick} sort='total'>\n\t\t\t\t\t{t('Total')}\n\t\t\t\t</GenericTable.HeaderCell>,\n\t\t\t\t<GenericTable.HeaderCell key={'status'} direction={sort[1]} active={sort[0] === 'status'} onClick={onHeaderClick} sort='status'>\n\t\t\t\t\t{t('Status')}\n\t\t\t\t</GenericTable.HeaderCell>,\n\t\t\t].filter(Boolean),\n\t\t[mediaQuery, sort, onHeaderClick, t],\n\t);\n\n\tconst renderRow = useCallback(\n\t\t({ user, department, chats }) => {\n\t\t\tconst getStatusText = (): string => {\n\t\t\t\tif (user.status === 'online') {\n\t\t\t\t\treturn t('Online');\n\t\t\t\t}\n\n\t\t\t\treturn t('Offline');\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<Table.Row key={user._id} tabIndex={0}>\n\t\t\t\t\t<Table.Cell withTruncatedText>\n\t\t\t\t\t\t<Box display='flex' alignItems='center' mb='5px'>\n\t\t\t\t\t\t\t<UserAvatar size={mediaQuery ? 'x28' : 'x40'} username={user.username} />\n\t\t\t\t\t\t\t<Box display='flex' mi='x8'>\n\t\t\t\t\t\t\t\t{user.username}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t<Table.Cell withTruncatedText>{department ? department.name : ''}</Table.Cell>\n\t\t\t\t\t<Table.Cell withTruncatedText>{chats}</Table.Cell>\n\t\t\t\t\t<Table.Cell withTruncatedText>{getStatusText()}</Table.Cell>\n\t\t\t\t</Table.Row>\n\t\t\t);\n\t\t},\n\t\t[mediaQuery, t],\n\t);\n\n\tconst [params, setParams] = useState({\n\t\tservedBy: '',\n\t\tstatus: '',\n\t\tdepartmentId: '',\n\t\titemsPerPage: 25,\n\t\tcurrent: 0,\n\t});\n\tconst debouncedParams = useDebouncedValue(params, 500);\n\tconst debouncedSort = useDebouncedValue(sort, 500);\n\tconst query = useQuery(debouncedParams, debouncedSort);\n\tconst { value: data } = useEndpointData('livechat/queue', query);\n\n\treturn (\n\t\t<QueueListPage title={t('Livechat_Queue')} header={header} data={data} renderRow={renderRow} params={params} setParams={setParams} />\n\t);\n};\n\nexport default QueueList;\n"]},"targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/client/views/omnichannel/queueList/index.tsx","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"client/views/omnichannel/queueList/index.tsx"}},"code":"let Box, Table;\nmodule.link(\"@rocket.chat/fuselage\", {\n  Box(v) {\n    Box = v;\n  },\n\n  Table(v) {\n    Table = v;\n  }\n\n}, 0);\nlet useDebouncedValue, useMediaQuery, useMutableCallback;\nmodule.link(\"@rocket.chat/fuselage-hooks\", {\n  useDebouncedValue(v) {\n    useDebouncedValue = v;\n  },\n\n  useMediaQuery(v) {\n    useMediaQuery = v;\n  },\n\n  useMutableCallback(v) {\n    useMutableCallback = v;\n  }\n\n}, 1);\nlet React, useCallback, useMemo, useState;\nmodule.link(\"react\", {\n  default(v) {\n    React = v;\n  },\n\n  useCallback(v) {\n    useCallback = v;\n  },\n\n  useMemo(v) {\n    useMemo = v;\n  },\n\n  useState(v) {\n    useState = v;\n  }\n\n}, 2);\nlet GenericTable;\nmodule.link(\"../../../components/GenericTable\", {\n  default(v) {\n    GenericTable = v;\n  }\n\n}, 3);\nlet UserAvatar;\nmodule.link(\"../../../components/avatar/UserAvatar\", {\n  default(v) {\n    UserAvatar = v;\n  }\n\n}, 4);\nlet useTranslation;\nmodule.link(\"../../../contexts/TranslationContext\", {\n  useTranslation(v) {\n    useTranslation = v;\n  }\n\n}, 5);\nlet useEndpointData;\nmodule.link(\"../../../hooks/useEndpointData\", {\n  useEndpointData(v) {\n    useEndpointData = v;\n  }\n\n}, 6);\nlet QueueListPage;\nmodule.link(\"./QueueListPage\", {\n  QueueListPage(v) {\n    QueueListPage = v;\n  }\n\n}, 7);\nlet useQuery;\nmodule.link(\"./hooks/useQuery\", {\n  useQuery(v) {\n    useQuery = v;\n  }\n\n}, 8);\n\nconst QueueList = () => {\n  const t = useTranslation();\n  const [sort, setSort] = useState(['servedBy', 'desc']);\n  const onHeaderClick = useMutableCallback(id => {\n    const [sortBy, sortDirection] = sort;\n\n    if (sortBy === id) {\n      setSort([id, sortDirection === 'asc' ? 'desc' : 'asc']);\n      return;\n    }\n\n    setSort([id, 'asc']);\n  });\n  const mediaQuery = useMediaQuery('(min-width: 1024px)');\n  const header = useMemo(() => [mediaQuery && /*#__PURE__*/React.createElement(GenericTable.HeaderCell, {\n    key: 'servedBy',\n    direction: sort[1],\n    active: sort[0] === 'servedBy',\n    onClick: onHeaderClick,\n    sort: \"servedBy\"\n  }, t('Served_By')), /*#__PURE__*/React.createElement(GenericTable.HeaderCell, {\n    key: 'department',\n    direction: sort[1],\n    active: sort[0] === 'departmend',\n    onClick: onHeaderClick,\n    sort: \"department\"\n  }, t('Department')), /*#__PURE__*/React.createElement(GenericTable.HeaderCell, {\n    key: 'total',\n    direction: sort[1],\n    active: sort[0] === 'total',\n    onClick: onHeaderClick,\n    sort: \"total\"\n  }, t('Total')), /*#__PURE__*/React.createElement(GenericTable.HeaderCell, {\n    key: 'status',\n    direction: sort[1],\n    active: sort[0] === 'status',\n    onClick: onHeaderClick,\n    sort: \"status\"\n  }, t('Status'))].filter(Boolean), [mediaQuery, sort, onHeaderClick, t]);\n  const renderRow = useCallback(_ref => {\n    let {\n      user,\n      department,\n      chats\n    } = _ref;\n\n    const getStatusText = () => {\n      if (user.status === 'online') {\n        return t('Online');\n      }\n\n      return t('Offline');\n    };\n\n    return /*#__PURE__*/React.createElement(Table.Row, {\n      key: user._id,\n      tabIndex: 0\n    }, /*#__PURE__*/React.createElement(Table.Cell, {\n      withTruncatedText: true\n    }, /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      alignItems: \"center\",\n      mb: \"5px\"\n    }, /*#__PURE__*/React.createElement(UserAvatar, {\n      size: mediaQuery ? 'x28' : 'x40',\n      username: user.username\n    }), /*#__PURE__*/React.createElement(Box, {\n      display: \"flex\",\n      mi: \"x8\"\n    }, user.username))), /*#__PURE__*/React.createElement(Table.Cell, {\n      withTruncatedText: true\n    }, department ? department.name : ''), /*#__PURE__*/React.createElement(Table.Cell, {\n      withTruncatedText: true\n    }, chats), /*#__PURE__*/React.createElement(Table.Cell, {\n      withTruncatedText: true\n    }, getStatusText()));\n  }, [mediaQuery, t]);\n  const [params, setParams] = useState({\n    servedBy: '',\n    status: '',\n    departmentId: '',\n    itemsPerPage: 25,\n    current: 0\n  });\n  const debouncedParams = useDebouncedValue(params, 500);\n  const debouncedSort = useDebouncedValue(sort, 500);\n  const query = useQuery(debouncedParams, debouncedSort);\n  const {\n    value: data\n  } = useEndpointData('livechat/queue', query);\n  return /*#__PURE__*/React.createElement(QueueListPage, {\n    title: t('Livechat_Queue'),\n    header: header,\n    data: data,\n    renderRow: renderRow,\n    params: params,\n    setParams: setParams\n  });\n};\n\nmodule.exportDefault(QueueList);","map":{"version":3,"sources":["client/views/omnichannel/queueList/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Box, Table } from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useMediaQuery, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport React, { ReactElement, useCallback, useMemo, useState } from 'react';\n\nimport GenericTable from '../../../components/GenericTable';\nimport UserAvatar from '../../../components/avatar/UserAvatar';\nimport { useTranslation } from '../../../contexts/TranslationContext';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { QueueListPage } from './QueueListPage';\nimport { useQuery } from './hooks/useQuery';\n\nconst QueueList = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst [sort, setSort] = useState<[string, 'asc' | 'desc']>(['servedBy', 'desc']);\n\n\tconst onHeaderClick = useMutableCallback((id) => {\n\t\tconst [sortBy, sortDirection] = sort;\n\n\t\tif (sortBy === id) {\n\t\t\tsetSort([id, sortDirection === 'asc' ? 'desc' : 'asc']);\n\t\t\treturn;\n\t\t}\n\t\tsetSort([id, 'asc']);\n\t});\n\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst header = useMemo(\n\t\t() =>\n\t\t\t[\n\t\t\t\tmediaQuery && (\n\t\t\t\t\t<GenericTable.HeaderCell\n\t\t\t\t\t\tkey={'servedBy'}\n\t\t\t\t\t\tdirection={sort[1]}\n\t\t\t\t\t\tactive={sort[0] === 'servedBy'}\n\t\t\t\t\t\tonClick={onHeaderClick}\n\t\t\t\t\t\tsort='servedBy'\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Served_By')}\n\t\t\t\t\t</GenericTable.HeaderCell>\n\t\t\t\t),\n\t\t\t\t<GenericTable.HeaderCell\n\t\t\t\t\tkey={'department'}\n\t\t\t\t\tdirection={sort[1]}\n\t\t\t\t\tactive={sort[0] === 'departmend'}\n\t\t\t\t\tonClick={onHeaderClick}\n\t\t\t\t\tsort='department'\n\t\t\t\t>\n\t\t\t\t\t{t('Department')}\n\t\t\t\t</GenericTable.HeaderCell>,\n\t\t\t\t<GenericTable.HeaderCell key={'total'} direction={sort[1]} active={sort[0] === 'total'} onClick={onHeaderClick} sort='total'>\n\t\t\t\t\t{t('Total')}\n\t\t\t\t</GenericTable.HeaderCell>,\n\t\t\t\t<GenericTable.HeaderCell key={'status'} direction={sort[1]} active={sort[0] === 'status'} onClick={onHeaderClick} sort='status'>\n\t\t\t\t\t{t('Status')}\n\t\t\t\t</GenericTable.HeaderCell>,\n\t\t\t].filter(Boolean),\n\t\t[mediaQuery, sort, onHeaderClick, t],\n\t);\n\n\tconst renderRow = useCallback(\n\t\t({ user, department, chats }) => {\n\t\t\tconst getStatusText = (): string => {\n\t\t\t\tif (user.status === 'online') {\n\t\t\t\t\treturn t('Online');\n\t\t\t\t}\n\n\t\t\t\treturn t('Offline');\n\t\t\t};\n\n\t\t\treturn (\n\t\t\t\t<Table.Row key={user._id} tabIndex={0}>\n\t\t\t\t\t<Table.Cell withTruncatedText>\n\t\t\t\t\t\t<Box display='flex' alignItems='center' mb='5px'>\n\t\t\t\t\t\t\t<UserAvatar size={mediaQuery ? 'x28' : 'x40'} username={user.username} />\n\t\t\t\t\t\t\t<Box display='flex' mi='x8'>\n\t\t\t\t\t\t\t\t{user.username}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t<Table.Cell withTruncatedText>{department ? department.name : ''}</Table.Cell>\n\t\t\t\t\t<Table.Cell withTruncatedText>{chats}</Table.Cell>\n\t\t\t\t\t<Table.Cell withTruncatedText>{getStatusText()}</Table.Cell>\n\t\t\t\t</Table.Row>\n\t\t\t);\n\t\t},\n\t\t[mediaQuery, t],\n\t);\n\n\tconst [params, setParams] = useState({\n\t\tservedBy: '',\n\t\tstatus: '',\n\t\tdepartmentId: '',\n\t\titemsPerPage: 25,\n\t\tcurrent: 0,\n\t});\n\tconst debouncedParams = useDebouncedValue(params, 500);\n\tconst debouncedSort = useDebouncedValue(sort, 500);\n\tconst query = useQuery(debouncedParams, debouncedSort);\n\tconst { value: data } = useEndpointData('livechat/queue', query);\n\n\treturn (\n\t\t<QueueListPage title={t('Livechat_Queue')} header={header} data={data} renderRow={renderRow} params={params} setParams={setParams} />\n\t);\n};\n\nexport default QueueList;\n"],"sourceRoot":""},"sourceType":"module","hash":"7277a2b698accde1ed9cc4eee16d0eb70ed8bd41"}
